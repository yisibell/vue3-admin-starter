import{B as uo,C as _r,D as gt,W as nb,F as lr,G as Wa,H as so,I as ti,J as h0,K as ar,L as fr,M as Rt,N as Cj,O as wr,P as Ed,Q as Rj,R as Ha,S as ur,T as Xa,U as y0,V as No,X as Ya,Y as Ln,Z as v0,$ as co,a0 as g0,a1 as Co,a2 as Ro,a3 as pc,a4 as wt,a5 as Va,a6 as Ui,a7 as It,a8 as ao,a9 as In,aa as ni,ab as Ka,ac as pr,ad as Kt,ae as yt,af as ri,ag as Ij,ah as $i,ai as m0,aj as zr,ak as b0,al as _0,am as ud,an as ln,ao as Lj,ap as Bj,aq as qa,ar as O0,as as oi,at as w0,au as lo,av as x0,aw as Sd,ax as zj,ay as Wi,az as Fj,aA as ko,aB as Za,aC as E0,aD as dc,aE as hc,aF as Gi,aG as jd,aH as Ad,aI as S0,aJ as j0,aK as Gj,aL as A0,aM as P0,aN as Uj,aO as M0,aP as $j,aQ as Wj,aR as Hj,aS as Xj,aT as qs,aU as Yj,aV as T0,aW as Vj,aX as Kj,aY as k0,aZ as D0,a_ as Pd,a$ as N0,b0 as qj,b1 as Zj,b2 as Jj,b3 as Qj,b4 as ei,b5 as eA,b6 as tA,b7 as nA,b8 as rA,b9 as oA,ba as iA,bb as aA,bc as uA,bd as sA,be as cA,bf as lA,bg as fA,bh as pA,bi as dA,bj as hA,bk as yA,bl as vA,bm as gA,bn as mA,bo as bA,bp as _A,bq as OA,br as wA,bs as xA,bt as EA,bu as SA,d as C0,bv as jA,g as AA,r as Ws,bw as PA,f as MA,_ as R0,c as I0,bx as TA,o as L0,b as kA}from"./index-Hn1QL0FG.js";var DA=NaN;function rb(o){return typeof o=="number"?o:uo(o)?DA:+o}function yc(o,u){return function(a,l){var i;if(a===void 0&&l===void 0)return u;if(a!==void 0&&(i=a),l!==void 0){if(i===void 0)return l;typeof a=="string"||typeof l=="string"?(a=_r(a),l=_r(l)):(a=rb(a),l=rb(l)),i=o(a,l)}return i}}var NA=yc(function(o,u){return o+u},0);const CA=NA;var RA="Expected a function";function IA(o,u){if(typeof u!="function")throw new TypeError(RA);return o=gt(o),function(){if(--o<1)return u.apply(this,arguments)}}var LA=nb&&new nb;const Zs=LA;var BA=Zs?function(o,u){return Zs.set(o,u),o}:lr;const B0=BA;function Ua(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var a=Wa(o.prototype),l=o.apply(a,u);return so(l)?l:a}}var zA=1;function FA(o,u,a){var l=u&zA,i=Ua(o);function p(){var d=this&&this!==ti&&this instanceof p?i:o;return d.apply(l?a:this,arguments)}return p}var GA=Math.max;function z0(o,u,a,l){for(var i=-1,p=o.length,d=a.length,v=-1,g=u.length,O=GA(p-d,0),x=Array(g+O),w=!l;++v<g;)x[v]=u[v];for(;++i<d;)(w||i<p)&&(x[a[i]]=o[i]);for(;O--;)x[v++]=o[i++];return x}var UA=Math.max;function F0(o,u,a,l){for(var i=-1,p=o.length,d=-1,v=a.length,g=-1,O=u.length,x=UA(p-v,0),w=Array(x+O),A=!l;++i<x;)w[i]=o[i];for(var j=i;++g<O;)w[j+g]=u[g];for(;++d<v;)(A||i<p)&&(w[j+a[d]]=o[i++]);return w}function $A(o,u){for(var a=o.length,l=0;a--;)o[a]===u&&++l;return l}function vc(){}var WA=4294967295;function Et(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=WA,this.__views__=[]}Et.prototype=Wa(vc.prototype);Et.prototype.constructor=Et;var HA=Zs?function(o){return Zs.get(o)}:h0;const Md=HA;var XA={};const Bi=XA;var YA=Object.prototype,VA=YA.hasOwnProperty;function Hs(o){for(var u=o.name+"",a=Bi[u],l=VA.call(Bi,u)?a.length:0;l--;){var i=a[l],p=i.func;if(p==null||p==o)return i.name}return u}function sr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}sr.prototype=Wa(vc.prototype);sr.prototype.constructor=sr;function G0(o){if(o instanceof Et)return o.clone();var u=new sr(o.__wrapped__,o.__chain__);return u.__actions__=ar(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var KA=Object.prototype,qA=KA.hasOwnProperty;function C(o){if(fr(o)&&!Rt(o)&&!(o instanceof Et)){if(o instanceof sr)return o;if(qA.call(o,"__wrapped__"))return G0(o)}return new sr(o)}C.prototype=vc.prototype;C.prototype.constructor=C;function sd(o){var u=Hs(o),a=C[u];if(typeof a!="function"||!(u in Et.prototype))return!1;if(o===a)return!0;var l=Md(a);return!!l&&o===l[0]}var ZA=Cj(B0);const U0=ZA;var JA=/\{\n\/\* \[wrapped with (.+)\] \*/,QA=/,? & /;function eP(o){var u=o.match(JA);return u?u[1].split(QA):[]}var tP=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nP(o,u){var a=u.length;if(!a)return o;var l=a-1;return u[l]=(a>1?"& ":"")+u[l],u=u.join(a>2?", ":" "),o.replace(tP,`{
/* [wrapped with `+u+`] */
`)}var rP=1,oP=2,iP=8,aP=16,uP=32,sP=64,cP=128,lP=256,fP=512,pP=[["ary",cP],["bind",rP],["bindKey",oP],["curry",iP],["curryRight",aP],["flip",fP],["partial",uP],["partialRight",sP],["rearg",lP]];function dP(o,u){return wr(pP,function(a){var l="_."+a[0];u&a[1]&&!Ed(o,l)&&o.push(l)}),o.sort()}function $0(o,u,a){var l=u+"";return Rj(o,nP(l,dP(eP(l),a)))}var hP=1,yP=2,vP=4,gP=8,ob=32,ib=64;function W0(o,u,a,l,i,p,d,v,g,O){var x=u&gP,w=x?d:void 0,A=x?void 0:d,j=x?p:void 0,T=x?void 0:p;u|=x?ob:ib,u&=~(x?ib:ob),u&vP||(u&=~(hP|yP));var P=[o,u,i,j,w,T,A,v,g,O],k=a.apply(void 0,P);return sd(o)&&U0(k,P),k.placeholder=l,$0(k,o,u)}function Hi(o){var u=o;return u.placeholder}var mP=Math.min;function bP(o,u){for(var a=o.length,l=mP(u.length,a),i=ar(o);l--;){var p=u[l];o[l]=Ha(p,a)?i[p]:void 0}return o}var ab="__lodash_placeholder__";function Do(o,u){for(var a=-1,l=o.length,i=0,p=[];++a<l;){var d=o[a];(d===u||d===ab)&&(o[a]=ab,p[i++]=a)}return p}var _P=1,OP=2,wP=8,xP=16,EP=128,SP=512;function gc(o,u,a,l,i,p,d,v,g,O){var x=u&EP,w=u&_P,A=u&OP,j=u&(wP|xP),T=u&SP,P=A?void 0:Ua(o);function k(){for(var I=arguments.length,L=Array(I),Y=I;Y--;)L[Y]=arguments[Y];if(j)var Q=Hi(k),X=$A(L,Q);if(l&&(L=z0(L,l,i,j)),p&&(L=F0(L,p,d,j)),I-=X,j&&I<O){var V=Do(L,Q);return W0(o,u,gc,k.placeholder,a,L,V,v,g,O-I)}var Z=w?a:this,F=A?Z[o]:o;return I=L.length,v?L=bP(L,v):T&&I>1&&L.reverse(),x&&g<I&&(L.length=g),this&&this!==ti&&this instanceof k&&(F=P||Ua(F)),F.apply(Z,L)}return k}function jP(o,u,a){var l=Ua(o);function i(){for(var p=arguments.length,d=Array(p),v=p,g=Hi(i);v--;)d[v]=arguments[v];var O=p<3&&d[0]!==g&&d[p-1]!==g?[]:Do(d,g);if(p-=O.length,p<a)return W0(o,u,gc,i.placeholder,void 0,d,O,void 0,void 0,a-p);var x=this&&this!==ti&&this instanceof i?l:o;return ur(x,this,d)}return i}var AP=1;function PP(o,u,a,l){var i=u&AP,p=Ua(o);function d(){for(var v=-1,g=arguments.length,O=-1,x=l.length,w=Array(x+g),A=this&&this!==ti&&this instanceof d?p:o;++O<x;)w[O]=l[O];for(;g--;)w[O++]=arguments[++v];return ur(A,i?a:this,w)}return d}var ub="__lodash_placeholder__",ed=1,MP=2,TP=4,sb=8,Ca=128,cb=256,kP=Math.min;function DP(o,u){var a=o[1],l=u[1],i=a|l,p=i<(ed|MP|Ca),d=l==Ca&&a==sb||l==Ca&&a==cb&&o[7].length<=u[8]||l==(Ca|cb)&&u[7].length<=u[8]&&a==sb;if(!(p||d))return o;l&ed&&(o[2]=u[2],i|=a&ed?0:TP);var v=u[3];if(v){var g=o[3];o[3]=g?z0(g,v,u[4]):v,o[4]=g?Do(o[3],ub):u[4]}return v=u[5],v&&(g=o[5],o[5]=g?F0(g,v,u[6]):v,o[6]=g?Do(o[5],ub):u[6]),v=u[7],v&&(o[7]=v),l&Ca&&(o[8]=o[8]==null?u[8]:kP(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=i,o}var NP="Expected a function",lb=1,CP=2,td=8,nd=16,rd=32,fb=64,pb=Math.max;function fo(o,u,a,l,i,p,d,v){var g=u&CP;if(!g&&typeof o!="function")throw new TypeError(NP);var O=l?l.length:0;if(O||(u&=~(rd|fb),l=i=void 0),d=d===void 0?d:pb(gt(d),0),v=v===void 0?v:gt(v),O-=i?i.length:0,u&fb){var x=l,w=i;l=i=void 0}var A=g?void 0:Md(o),j=[o,u,a,l,i,x,w,p,d,v];if(A&&DP(j,A),o=j[0],u=j[1],a=j[2],l=j[3],i=j[4],v=j[9]=j[9]===void 0?g?0:o.length:pb(j[9]-O,0),!v&&u&(td|nd)&&(u&=~(td|nd)),!u||u==lb)var T=FA(o,u,a);else u==td||u==nd?T=jP(o,u,v):(u==rd||u==(lb|rd))&&!i.length?T=PP(o,u,a,l):T=gc.apply(void 0,j);var P=A?B0:U0;return $0(P(T,j),o,u)}var RP=128;function H0(o,u,a){return u=a?void 0:u,u=o&&u==null?o.length:u,fo(o,RP,void 0,void 0,void 0,void 0,u)}var IP=Object.prototype,LP=IP.hasOwnProperty,BP=Xa(function(o,u){if(y0(u)||No(u)){Ya(u,Ln(u),o);return}for(var a in u)LP.call(u,a)&&v0(o,a,u[a])});const zP=BP;var FP=Xa(function(o,u){Ya(u,co(u),o)});const db=FP;var GP=Xa(function(o,u,a,l){Ya(u,co(u),o,l)});const Js=GP;var UP=Xa(function(o,u,a,l){Ya(u,Ln(u),o,l)});const $P=UP;function Td(o,u){for(var a=-1,l=u.length,i=Array(l),p=o==null;++a<l;)i[a]=p?void 0:g0(o,u[a]);return i}var WP=Co(Td);const HP=WP;var XP="[object DOMException]",YP="[object Error]";function kd(o){if(!fr(o))return!1;var u=Ro(o);return u==YP||u==XP||typeof o.message=="string"&&typeof o.name=="string"&&!pc(o)}var VP=wt(function(o,u){try{return ur(o,void 0,u)}catch(a){return kd(a)?a:new Error(a)}});const X0=VP;var KP="Expected a function";function Y0(o,u){var a;if(typeof u!="function")throw new TypeError(KP);return o=gt(o),function(){return--o>0&&(a=u.apply(this,arguments)),o<=1&&(u=void 0),a}}var qP=1,ZP=32,Dd=wt(function(o,u,a){var l=qP;if(a.length){var i=Do(a,Hi(Dd));l|=ZP}return fo(o,l,u,a,i)});Dd.placeholder={};const V0=Dd;var JP=Co(function(o,u){return wr(u,function(a){a=Va(a),Ui(o,a,V0(o[a],o))}),o});const QP=JP;var eM=1,tM=2,nM=32,Nd=wt(function(o,u,a){var l=eM|tM;if(a.length){var i=Do(a,Hi(Nd));l|=nM}return fo(u,l,o,a,i)});Nd.placeholder={};const rM=Nd;function cr(o,u,a){var l=-1,i=o.length;u<0&&(u=-u>i?0:i+u),a=a>i?i:a,a<0&&(a+=i),i=u>a?0:a-u>>>0,u>>>=0;for(var p=Array(i);++l<i;)p[l]=o[l+u];return p}function Io(o,u,a){var l=o.length;return a=a===void 0?l:a,!u&&a>=l?o:cr(o,u,a)}var oM="\\ud800-\\udfff",iM="\\u0300-\\u036f",aM="\\ufe20-\\ufe2f",uM="\\u20d0-\\u20ff",sM=iM+aM+uM,cM="\\ufe0e\\ufe0f",lM="\\u200d",fM=RegExp("["+lM+oM+sM+cM+"]");function Xi(o){return fM.test(o)}function pM(o){return o.split("")}var K0="\\ud800-\\udfff",dM="\\u0300-\\u036f",hM="\\ufe20-\\ufe2f",yM="\\u20d0-\\u20ff",vM=dM+hM+yM,gM="\\ufe0e\\ufe0f",mM="["+K0+"]",cd="["+vM+"]",ld="\\ud83c[\\udffb-\\udfff]",bM="(?:"+cd+"|"+ld+")",q0="[^"+K0+"]",Z0="(?:\\ud83c[\\udde6-\\uddff]){2}",J0="[\\ud800-\\udbff][\\udc00-\\udfff]",_M="\\u200d",Q0=bM+"?",e_="["+gM+"]?",OM="(?:"+_M+"(?:"+[q0,Z0,J0].join("|")+")"+e_+Q0+")*",wM=e_+Q0+OM,xM="(?:"+[q0+cd+"?",cd,Z0,J0,mM].join("|")+")",EM=RegExp(ld+"(?="+ld+")|"+xM+wM,"g");function SM(o){return o.match(EM)||[]}function Or(o){return Xi(o)?SM(o):pM(o)}function t_(o){return function(u){u=It(u);var a=Xi(u)?Or(u):void 0,l=a?a[0]:u.charAt(0),i=a?Io(a,1).join(""):u.slice(1);return l[o]()+i}}var jM=t_("toUpperCase");const Cd=jM;function n_(o){return Cd(It(o).toLowerCase())}function Rd(o,u,a,l){var i=-1,p=o==null?0:o.length;for(l&&p&&(a=o[++i]);++i<p;)a=u(a,o[i],i,o);return a}function Id(o){return function(u){return o==null?void 0:o[u]}}var AM={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},PM=Id(AM);const MM=PM;var TM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kM="\\u0300-\\u036f",DM="\\ufe20-\\ufe2f",NM="\\u20d0-\\u20ff",CM=kM+DM+NM,RM="["+CM+"]",IM=RegExp(RM,"g");function r_(o){return o=It(o),o&&o.replace(TM,MM).replace(IM,"")}var LM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function BM(o){return o.match(LM)||[]}var zM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function FM(o){return zM.test(o)}var o_="\\ud800-\\udfff",GM="\\u0300-\\u036f",UM="\\ufe20-\\ufe2f",$M="\\u20d0-\\u20ff",WM=GM+UM+$M,i_="\\u2700-\\u27bf",a_="a-z\\xdf-\\xf6\\xf8-\\xff",HM="\\xac\\xb1\\xd7\\xf7",XM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",YM="\\u2000-\\u206f",VM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u_="A-Z\\xc0-\\xd6\\xd8-\\xde",KM="\\ufe0e\\ufe0f",s_=HM+XM+YM+VM,c_="['’]",hb="["+s_+"]",qM="["+WM+"]",l_="\\d+",ZM="["+i_+"]",f_="["+a_+"]",p_="[^"+o_+s_+l_+i_+a_+u_+"]",JM="\\ud83c[\\udffb-\\udfff]",QM="(?:"+qM+"|"+JM+")",e2="[^"+o_+"]",d_="(?:\\ud83c[\\udde6-\\uddff]){2}",h_="[\\ud800-\\udbff][\\udc00-\\udfff]",Ri="["+u_+"]",t2="\\u200d",yb="(?:"+f_+"|"+p_+")",n2="(?:"+Ri+"|"+p_+")",vb="(?:"+c_+"(?:d|ll|m|re|s|t|ve))?",gb="(?:"+c_+"(?:D|LL|M|RE|S|T|VE))?",y_=QM+"?",v_="["+KM+"]?",r2="(?:"+t2+"(?:"+[e2,d_,h_].join("|")+")"+v_+y_+")*",o2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",a2=v_+y_+r2,u2="(?:"+[ZM,d_,h_].join("|")+")"+a2,s2=RegExp([Ri+"?"+f_+"+"+vb+"(?="+[hb,Ri,"$"].join("|")+")",n2+"+"+gb+"(?="+[hb,Ri+yb,"$"].join("|")+")",Ri+"?"+yb+"+"+vb,Ri+"+"+gb,i2,o2,l_,u2].join("|"),"g");function c2(o){return o.match(s2)||[]}function g_(o,u,a){return o=It(o),u=a?void 0:u,u===void 0?FM(o)?c2(o):BM(o):o.match(u)||[]}var l2="['’]",f2=RegExp(l2,"g");function Yi(o){return function(u){return Rd(g_(r_(u).replace(f2,"")),o,"")}}var p2=Yi(function(o,u,a){return u=u.toLowerCase(),o+(a?n_(u):u)});const d2=p2;var h2=ti.isFinite,y2=Math.min;function Ld(o){var u=Math[o];return function(a,l){if(a=ao(a),l=l==null?0:y2(gt(l),292),l&&h2(a)){var i=(It(a)+"e").split("e"),p=u(i[0]+"e"+(+i[1]+l));return i=(It(p)+"e").split("e"),+(i[0]+"e"+(+i[1]-l))}return u(a)}}var v2=Ld("ceil");const g2=v2;function m_(o){var u=C(o);return u.__chain__=!0,u}var m2=Math.ceil,b2=Math.max;function _2(o,u,a){(a?In(o,u,a):u===void 0)?u=1:u=b2(gt(u),0);var l=o==null?0:o.length;if(!l||u<1)return[];for(var i=0,p=0,d=Array(m2(l/u));i<l;)d[p++]=cr(o,i,i+=u);return d}function ii(o,u,a){return o===o&&(a!==void 0&&(o=o<=a?o:a),u!==void 0&&(o=o>=u?o:u)),o}function O2(o,u,a){return a===void 0&&(a=u,u=void 0),a!==void 0&&(a=ao(a),a=a===a?a:0),u!==void 0&&(u=ao(u),u=u===u?u:0),ii(ao(o),u,a)}var w2=1,x2=4;function E2(o,u){return u=typeof u=="function"?u:void 0,ni(o,w2|x2,u)}var S2=4;function j2(o,u){return u=typeof u=="function"?u:void 0,ni(o,S2,u)}function A2(){return new sr(this.value(),this.__chain__)}function P2(o){for(var u=-1,a=o==null?0:o.length,l=0,i=[];++u<a;){var p=o[u];p&&(i[l++]=p)}return i}function M2(){var o=arguments.length;if(!o)return[];for(var u=Array(o-1),a=arguments[0],l=o;l--;)u[l-1]=arguments[l];return Ka(Rt(a)?ar(a):[a],pr(u,1))}var T2="Expected a function";function k2(o){var u=o==null?0:o.length,a=yt;return o=u?Kt(o,function(l){if(typeof l[1]!="function")throw new TypeError(T2);return[a(l[0]),l[1]]}):[],wt(function(l){for(var i=-1;++i<u;){var p=o[i];if(ur(p[0],this,l))return ur(p[1],this,l)}})}function b_(o,u,a){var l=a.length;if(o==null)return!l;for(o=Object(o);l--;){var i=a[l],p=u[i],d=o[i];if(d===void 0&&!(i in o)||!p(d))return!1}return!0}function D2(o){var u=Ln(o);return function(a){return b_(a,o,u)}}var N2=1;function C2(o){return D2(ni(o,N2))}function R2(o,u){return u==null||b_(o,u,Ln(u))}function I2(o,u,a,l){for(var i=-1,p=o==null?0:o.length;++i<p;){var d=o[i];u(l,d,a(d),o)}return l}function L2(o,u,a,l){return ri(o,function(i,p,d){u(l,i,a(i),d)}),l}function mc(o,u){return function(a,l){var i=Rt(a)?I2:L2,p=u?u():{};return i(a,o,yt(l),p)}}var B2=Object.prototype,z2=B2.hasOwnProperty,F2=mc(function(o,u,a){z2.call(o,a)?++o[a]:Ui(o,a,1)});const G2=F2;function U2(o,u){var a=Wa(o);return u==null?a:Ij(a,u)}var $2=8;function Bd(o,u,a){u=a?void 0:u;var l=fo(o,$2,void 0,void 0,void 0,void 0,void 0,u);return l.placeholder=Bd.placeholder,l}Bd.placeholder={};var W2=16;function zd(o,u,a){u=a?void 0:u;var l=fo(o,W2,void 0,void 0,void 0,void 0,void 0,u);return l.placeholder=zd.placeholder,l}zd.placeholder={};function H2(o,u){return o==null||o!==o?u:o}var __=Object.prototype,X2=__.hasOwnProperty,Y2=wt(function(o,u){o=Object(o);var a=-1,l=u.length,i=l>2?u[2]:void 0;for(i&&In(u[0],u[1],i)&&(l=1);++a<l;)for(var p=u[a],d=co(p),v=-1,g=d.length;++v<g;){var O=d[v],x=o[O];(x===void 0||$i(x,__[O])&&!X2.call(o,O))&&(o[O]=p[O])}return o});const V2=Y2;function O_(o,u,a,l,i,p){return so(o)&&so(u)&&(p.set(u,o),m0(o,u,void 0,O_,p),p.delete(u)),o}var K2=Xa(function(o,u,a,l){m0(o,u,a,l)});const w_=K2;var q2=wt(function(o){return o.push(void 0,O_),ur(w_,void 0,o)});const Z2=q2;var J2="Expected a function";function x_(o,u,a){if(typeof o!="function")throw new TypeError(J2);return setTimeout(function(){o.apply(void 0,a)},u)}var Q2=wt(function(o,u){return x_(o,1,u)});const eT=Q2;var tT=wt(function(o,u,a){return x_(o,ao(u)||0,a)});const nT=tT;var rT=200;function Ja(o,u,a,l){var i=-1,p=Ed,d=!0,v=o.length,g=[],O=u.length;if(!v)return g;a&&(u=Kt(u,zr(a))),l?(p=_0,d=!1):u.length>=rT&&(p=ud,d=!1,u=new b0(u));e:for(;++i<v;){var x=o[i],w=a==null?x:a(x);if(x=l||x!==0?x:0,d&&w===w){for(var A=O;A--;)if(u[A]===w)continue e;g.push(x)}else p(u,w,l)||g.push(x)}return g}var oT=wt(function(o,u){return ln(o)?Ja(o,pr(u,1,ln,!0)):[]});const iT=oT;function Kn(o){var u=o==null?0:o.length;return u?o[u-1]:void 0}var aT=wt(function(o,u){var a=Kn(u);return ln(a)&&(a=void 0),ln(o)?Ja(o,pr(u,1,ln,!0),yt(a)):[]});const uT=aT;var sT=wt(function(o,u){var a=Kn(u);return ln(a)&&(a=void 0),ln(o)?Ja(o,pr(u,1,ln,!0),void 0,a):[]});const cT=sT;var lT=yc(function(o,u){return o/u},1);const fT=lT;function pT(o,u,a){var l=o==null?0:o.length;return l?(u=a||u===void 0?1:gt(u),cr(o,u<0?0:u,l)):[]}function dT(o,u,a){var l=o==null?0:o.length;return l?(u=a||u===void 0?1:gt(u),u=l-u,cr(o,0,u<0?0:u)):[]}function bc(o,u,a,l){for(var i=o.length,p=l?i:-1;(l?p--:++p<i)&&u(o[p],p,o););return a?cr(o,l?0:p,l?p+1:i):cr(o,l?p+1:0,l?i:p)}function hT(o,u){return o&&o.length?bc(o,yt(u),!0,!0):[]}function yT(o,u){return o&&o.length?bc(o,yt(u),!0):[]}function Gr(o){return typeof o=="function"?o:lr}function mb(o,u){var a=Rt(o)?wr:ri;return a(o,Gr(u))}function vT(o,u){for(var a=o==null?0:o.length;a--&&u(o[a],a,o)!==!1;);return o}var gT=Lj(!0);const E_=gT;function Fd(o,u){return o&&E_(o,u,Ln)}var mT=Bj(Fd,!0);const S_=mT;function bb(o,u){var a=Rt(o)?vT:S_;return a(o,Gr(u))}function bT(o,u,a){o=It(o),u=_r(u);var l=o.length;a=a===void 0?l:ii(gt(a),0,l);var i=a;return a-=u.length,a>=0&&o.slice(a,i)==u}function _T(o,u){return Kt(u,function(a){return[a,o[a]]})}function OT(o){var u=-1,a=Array(o.size);return o.forEach(function(l){a[++u]=[l,l]}),a}var wT="[object Map]",xT="[object Set]";function j_(o){return function(u){var a=qa(u);return a==wT?O0(u):a==xT?OT(u):_T(u,o(u))}}var ET=j_(Ln);const _b=ET;var ST=j_(co);const Ob=ST;var jT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AT=Id(jT);const PT=AT;var A_=/[&<>"']/g,MT=RegExp(A_.source);function P_(o){return o=It(o),o&&MT.test(o)?o.replace(A_,PT):o}var M_=/[\\^$.*+?()[\]{}|]/g,TT=RegExp(M_.source);function kT(o){return o=It(o),o&&TT.test(o)?o.replace(M_,"\\$&"):o}function T_(o,u){for(var a=-1,l=o==null?0:o.length;++a<l;)if(!u(o[a],a,o))return!1;return!0}function DT(o,u){var a=!0;return ri(o,function(l,i,p){return a=!!u(l,i,p),a}),a}function NT(o,u,a){var l=Rt(o)?T_:DT;return a&&In(o,u,a)&&(u=void 0),l(o,yt(u))}var CT=4294967295;function k_(o){return o?ii(gt(o),0,CT):0}function RT(o,u,a,l){var i=o.length;for(a=gt(a),a<0&&(a=-a>i?0:i+a),l=l===void 0||l>i?i:gt(l),l<0&&(l+=i),l=a>l?0:k_(l);a<l;)o[a++]=u;return o}function IT(o,u,a,l){var i=o==null?0:o.length;return i?(a&&typeof a!="number"&&In(o,u,a)&&(a=0,l=i),RT(o,u,a,l)):[]}function D_(o,u){var a=[];return ri(o,function(l,i,p){u(l,i,p)&&a.push(l)}),a}function LT(o,u){var a=Rt(o)?oi:D_;return a(o,yt(u))}function N_(o){return function(u,a,l){var i=Object(u);if(!No(u)){var p=yt(a);u=Ln(u),a=function(v){return p(i[v],v,i)}}var d=o(u,a,l);return d>-1?i[p?u[d]:d]:void 0}}var BT=Math.max;function C_(o,u,a){var l=o==null?0:o.length;if(!l)return-1;var i=a==null?0:gt(a);return i<0&&(i=BT(l+i,0)),w0(o,yt(u),i)}var zT=N_(C_);const FT=zT;function R_(o,u,a){var l;return a(o,function(i,p,d){if(u(i,p,d))return l=p,!1}),l}function GT(o,u){return R_(o,yt(u),lo)}var UT=N_(x0);const $T=UT;function WT(o,u){return R_(o,yt(u),Fd)}function wb(o){return o&&o.length?o[0]:void 0}var HT=1/0;function XT(o,u){return pr(Sd(o,u),HT)}function YT(o,u,a){return a=a===void 0?1:gt(a),pr(Sd(o,u),a)}function VT(o,u){var a=o==null?0:o.length;return a?(u=u===void 0?1:gt(u),pr(o,u)):[]}var KT=512;function qT(o){return fo(o,KT)}var ZT=Ld("floor");const JT=ZT;var QT="Expected a function",ek=8,tk=32,nk=128,rk=256;function I_(o){return Co(function(u){var a=u.length,l=a,i=sr.prototype.thru;for(o&&u.reverse();l--;){var p=u[l];if(typeof p!="function")throw new TypeError(QT);if(i&&!d&&Hs(p)=="wrapper")var d=new sr([],!0)}for(l=d?l:a;++l<a;){p=u[l];var v=Hs(p),g=v=="wrapper"?Md(p):void 0;g&&sd(g[0])&&g[1]==(nk|ek|tk|rk)&&!g[4].length&&g[9]==1?d=d[Hs(g[0])].apply(d,g[3]):d=p.length==1&&sd(p)?d[v]():d.thru(p)}return function(){var O=arguments,x=O[0];if(d&&O.length==1&&Rt(x))return d.plant(x).value();for(var w=0,A=a?u[w].apply(this,O):x;++w<a;)A=u[w].call(this,A);return A}})}var ok=I_();const ik=ok;var ak=I_(!0);const uk=ak;function sk(o,u){return o==null?o:zj(o,Gr(u),co)}function ck(o,u){return o==null?o:E_(o,Gr(u),co)}function lk(o,u){return o&&lo(o,Gr(u))}function fk(o,u){return o&&Fd(o,Gr(u))}function _c(o,u){return oi(u,function(a){return Wi(o[a])})}function pk(o){return o==null?[]:_c(o,Ln(o))}function dk(o){return o==null?[]:_c(o,co(o))}var hk=Object.prototype,yk=hk.hasOwnProperty,vk=mc(function(o,u,a){yk.call(o,a)?o[a].push(u):Ui(o,a,[u])});const gk=vk;function Gd(o,u){return o>u}function Oc(o){return function(u,a){return typeof u=="string"&&typeof a=="string"||(u=ao(u),a=ao(a)),o(u,a)}}var mk=Oc(Gd);const bk=mk;var _k=Oc(function(o,u){return o>=u});const Ok=_k;var wk=Object.prototype,xk=wk.hasOwnProperty;function Ek(o,u){return o!=null&&xk.call(o,u)}function Sk(o,u){return o!=null&&Fj(o,u,Ek)}var jk=Math.max,Ak=Math.min;function Pk(o,u,a){return o>=Ak(u,a)&&o<jk(u,a)}function Mk(o,u,a){return u=ko(u),a===void 0?(a=u,u=0):a=ko(a),o=ao(o),Pk(o,u,a)}var Tk="[object String]";function wc(o){return typeof o=="string"||!Rt(o)&&fr(o)&&Ro(o)==Tk}function Ud(o,u){return Kt(u,function(a){return o[a]})}function Vi(o){return o==null?[]:Ud(o,Ln(o))}var kk=Math.max;function Dk(o,u,a,l){o=No(o)?o:Vi(o),a=a&&!l?gt(a):0;var i=o.length;return a<0&&(a=kk(i+a,0)),wc(o)?a<=i&&o.indexOf(u,a)>-1:!!i&&Za(o,u,a)>-1}var Nk=Math.max;function Ck(o,u,a){var l=o==null?0:o.length;if(!l)return-1;var i=a==null?0:gt(a);return i<0&&(i=Nk(l+i,0)),Za(o,u,i)}function Rk(o){var u=o==null?0:o.length;return u?cr(o,0,-1):[]}var Ik=Math.min;function $d(o,u,a){for(var l=a?_0:Ed,i=o[0].length,p=o.length,d=p,v=Array(p),g=1/0,O=[];d--;){var x=o[d];d&&u&&(x=Kt(x,zr(u))),g=Ik(x.length,g),v[d]=!a&&(u||i>=120&&x.length>=120)?new b0(d&&x):void 0}x=o[0];var w=-1,A=v[0];e:for(;++w<i&&O.length<g;){var j=x[w],T=u?u(j):j;if(j=a||j!==0?j:0,!(A?ud(A,T):l(O,T,a))){for(d=p;--d;){var P=v[d];if(!(P?ud(P,T):l(o[d],T,a)))continue e}A&&A.push(T),O.push(j)}}return O}function Wd(o){return ln(o)?o:[]}var Lk=wt(function(o){var u=Kt(o,Wd);return u.length&&u[0]===o[0]?$d(u):[]});const Bk=Lk;var zk=wt(function(o){var u=Kn(o),a=Kt(o,Wd);return u===Kn(a)?u=void 0:a.pop(),a.length&&a[0]===o[0]?$d(a,yt(u)):[]});const Fk=zk;var Gk=wt(function(o){var u=Kn(o),a=Kt(o,Wd);return u=typeof u=="function"?u:void 0,u&&a.pop(),a.length&&a[0]===o[0]?$d(a,void 0,u):[]});const Uk=Gk;function $k(o,u,a,l){return lo(o,function(i,p,d){u(l,a(i),p,d)}),l}function L_(o,u){return function(a,l){return $k(a,o,u(l),{})}}var Wk=Object.prototype,Hk=Wk.toString,Xk=L_(function(o,u,a){u!=null&&typeof u.toString!="function"&&(u=Hk.call(u)),o[u]=a},E0(lr));const Yk=Xk;var B_=Object.prototype,Vk=B_.hasOwnProperty,Kk=B_.toString,qk=L_(function(o,u,a){u!=null&&typeof u.toString!="function"&&(u=Kk.call(u)),Vk.call(o,u)?o[u].push(a):o[u]=[a]},yt);const Zk=qk;function z_(o,u){return u.length<2?o:dc(o,cr(u,0,-1))}function Qa(o,u,a){u=hc(u,o),o=z_(o,u);var l=o==null?o:o[Va(Kn(u))];return l==null?void 0:ur(l,o,a)}var Jk=wt(Qa);const Qk=Jk;var eD=wt(function(o,u,a){var l=-1,i=typeof u=="function",p=No(o)?Array(o.length):[];return ri(o,function(d){p[++l]=i?ur(u,d,a):Qa(d,u,a)}),p});const tD=eD;var nD="[object ArrayBuffer]";function rD(o){return fr(o)&&Ro(o)==nD}var xb=Gi&&Gi.isArrayBuffer,oD=xb?zr(xb):rD;const iD=oD;var aD="[object Boolean]";function uD(o){return o===!0||o===!1||fr(o)&&Ro(o)==aD}var sD="[object Date]";function cD(o){return fr(o)&&Ro(o)==sD}var Eb=Gi&&Gi.isDate,lD=Eb?zr(Eb):cD;const fD=lD;function pD(o){return fr(o)&&o.nodeType===1&&!pc(o)}var dD="[object Map]",hD="[object Set]",yD=Object.prototype,vD=yD.hasOwnProperty;function gD(o){if(o==null)return!0;if(No(o)&&(Rt(o)||typeof o=="string"||typeof o.splice=="function"||jd(o)||Ad(o)||S0(o)))return!o.length;var u=qa(o);if(u==dD||u==hD)return!o.size;if(y0(o))return!j0(o).length;for(var a in o)if(vD.call(o,a))return!1;return!0}function mD(o,u,a){a=typeof a=="function"?a:void 0;var l=a?a(o,u):void 0;return l===void 0?Gj(o,u,void 0,a):!!l}var bD=ti.isFinite;function _D(o){return typeof o=="number"&&bD(o)}function F_(o){return typeof o=="number"&&o==gt(o)}function OD(o,u){return o===u||A0(o,u,P0(u))}function wD(o,u,a){return a=typeof a=="function"?a:void 0,A0(o,u,P0(u),a)}var xD="[object Number]";function G_(o){return typeof o=="number"||fr(o)&&Ro(o)==xD}function ED(o){return G_(o)&&o!=+o}var SD=Uj?Wi:M0;const jD=SD;var AD="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function PD(o){if(jD(o))throw new Error(AD);return $j(o)}function MD(o){return o===null}var TD="[object RegExp]";function kD(o){return fr(o)&&Ro(o)==TD}var Sb=Gi&&Gi.isRegExp,DD=Sb?zr(Sb):kD;const Hd=DD;var jb=9007199254740991;function ND(o){return F_(o)&&o>=-jb&&o<=jb}var CD="[object WeakMap]";function RD(o){return fr(o)&&qa(o)==CD}var ID="[object WeakSet]";function LD(o){return fr(o)&&Ro(o)==ID}var BD=1;function zD(o){return yt(typeof o=="function"?o:ni(o,BD))}var FD=Array.prototype,GD=FD.join;function UD(o,u){return o==null?"":GD.call(o,u)}var $D=Yi(function(o,u,a){return o+(a?"-":"")+u.toLowerCase()});const WD=$D;var HD=mc(function(o,u,a){Ui(o,a,u)});const XD=HD;function YD(o,u,a){for(var l=a+1;l--;)if(o[l]===u)return l;return l}var VD=Math.max,KD=Math.min;function qD(o,u,a){var l=o==null?0:o.length;if(!l)return-1;var i=l;return a!==void 0&&(i=gt(a),i=i<0?VD(l+i,0):KD(i,l-1)),u===u?YD(o,u,i):w0(o,Wj,i,!0)}var ZD=Yi(function(o,u,a){return o+(a?" ":"")+u.toLowerCase()});const JD=ZD;var QD=t_("toLowerCase");const eN=QD;function Xd(o,u){return o<u}var tN=Oc(Xd);const nN=tN;var rN=Oc(function(o,u){return o<=u});const oN=rN;function iN(o,u){var a={};return u=yt(u),lo(o,function(l,i,p){Ui(a,u(l,i,p),l)}),a}function aN(o,u){var a={};return u=yt(u),lo(o,function(l,i,p){Ui(a,i,u(l,i,p))}),a}var uN=1;function sN(o){return Hj(ni(o,uN))}var cN=1;function lN(o,u){return Xj(o,ni(u,cN))}function xc(o,u,a){for(var l=-1,i=o.length;++l<i;){var p=o[l],d=u(p);if(d!=null&&(v===void 0?d===d&&!uo(d):a(d,v)))var v=d,g=p}return g}function fN(o){return o&&o.length?xc(o,lr,Gd):void 0}function pN(o,u){return o&&o.length?xc(o,yt(u),Gd):void 0}function Yd(o,u){for(var a,l=-1,i=o.length;++l<i;){var p=u(o[l]);p!==void 0&&(a=a===void 0?p:a+p)}return a}var dN=NaN;function U_(o,u){var a=o==null?0:o.length;return a?Yd(o,u)/a:dN}function hN(o){return U_(o,lr)}function yN(o,u){return U_(o,yt(u))}var vN=wt(function(o,u){return function(a){return Qa(a,o,u)}});const gN=vN;var mN=wt(function(o,u){return function(a){return Qa(o,a,u)}});const bN=mN;function _N(o){return o&&o.length?xc(o,lr,Xd):void 0}function ON(o,u){return o&&o.length?xc(o,yt(u),Xd):void 0}function $_(o,u,a){var l=Ln(u),i=_c(u,l),p=!(so(a)&&"chain"in a)||!!a.chain,d=Wi(o);return wr(i,function(v){var g=u[v];o[v]=g,d&&(o.prototype[v]=function(){var O=this.__chain__;if(p||O){var x=o(this.__wrapped__),w=x.__actions__=ar(this.__actions__);return w.push({func:g,args:arguments,thisArg:o}),x.__chain__=O,x}return g.apply(o,Ka([this.value()],arguments))})}),o}var wN=yc(function(o,u){return o*u},1);const xN=wN;var EN="Expected a function";function eu(o){if(typeof o!="function")throw new TypeError(EN);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function SN(o){for(var u,a=[];!(u=o.next()).done;)a.push(u.value);return a}var jN="[object Map]",AN="[object Set]",od=qs?qs.iterator:void 0;function W_(o){if(!o)return[];if(No(o))return wc(o)?Or(o):ar(o);if(od&&o[od])return SN(o[od]());var u=qa(o),a=u==jN?O0:u==AN?Yj:Vi;return a(o)}function PN(){this.__values__===void 0&&(this.__values__=W_(this.value()));var o=this.__index__>=this.__values__.length,u=o?void 0:this.__values__[this.__index__++];return{done:o,value:u}}function H_(o,u){var a=o.length;if(a)return u+=u<0?a:0,Ha(u,a)?o[u]:void 0}function MN(o,u){return o&&o.length?H_(o,gt(u)):void 0}function TN(o){return o=gt(o),wt(function(u){return H_(u,o)})}function Vd(o,u){return u=hc(u,o),o=z_(o,u),o==null||delete o[Va(Kn(u))]}function kN(o){return pc(o)?void 0:o}var DN=1,NN=2,CN=4,RN=Co(function(o,u){var a={};if(o==null)return a;var l=!1;u=Kt(u,function(p){return p=hc(p,o),l||(l=p.length>1),p}),Ya(o,T0(o),a),l&&(a=ni(a,DN|NN|CN,kN));for(var i=u.length;i--;)Vd(a,u[i]);return a});const IN=RN;function X_(o,u){if(o==null)return{};var a=Kt(T0(o),function(l){return[l]});return u=yt(u),Vj(o,a,function(l,i){return u(l,i[0])})}function LN(o,u){return X_(o,eu(yt(u)))}function BN(o){return Y0(2,o)}function zN(o,u){var a=o.length;for(o.sort(u);a--;)o[a]=o[a].value;return o}function Y_(o,u){if(o!==u){var a=o!==void 0,l=o===null,i=o===o,p=uo(o),d=u!==void 0,v=u===null,g=u===u,O=uo(u);if(!v&&!O&&!p&&o>u||p&&d&&g&&!v&&!O||l&&d&&g||!a&&g||!i)return 1;if(!l&&!p&&!O&&o<u||O&&a&&i&&!l&&!p||v&&a&&i||!d&&i||!g)return-1}return 0}function FN(o,u,a){for(var l=-1,i=o.criteria,p=u.criteria,d=i.length,v=a.length;++l<d;){var g=Y_(i[l],p[l]);if(g){if(l>=v)return g;var O=a[l];return g*(O=="desc"?-1:1)}}return o.index-u.index}function V_(o,u,a){u.length?u=Kt(u,function(p){return Rt(p)?function(d){return dc(d,p.length===1?p[0]:p)}:p}):u=[lr];var l=-1;u=Kt(u,zr(yt));var i=Kj(o,function(p,d,v){var g=Kt(u,function(O){return O(p)});return{criteria:g,index:++l,value:p}});return zN(i,function(p,d){return FN(p,d,a)})}function GN(o,u,a,l){return o==null?[]:(Rt(u)||(u=u==null?[]:[u]),a=l?void 0:a,Rt(a)||(a=a==null?[]:[a]),V_(o,u,a))}function Kd(o){return Co(function(u){return u=Kt(u,zr(yt)),wt(function(a){var l=this;return o(u,function(i){return ur(i,l,a)})})})}var UN=Kd(Kt);const $N=UN;var WN=wt;const HN=WN;var XN=Math.min,YN=HN(function(o,u){u=u.length==1&&Rt(u[0])?Kt(u[0],zr(yt)):Kt(pr(u,1),zr(yt));var a=u.length;return wt(function(l){for(var i=-1,p=XN(l.length,a);++i<p;)l[i]=u[i].call(this,l[i]);return ur(o,this,l)})});const VN=YN;var KN=Kd(T_);const qN=KN;var ZN=Kd(k0);const JN=ZN;var QN=9007199254740991,eC=Math.floor;function fd(o,u){var a="";if(!o||u<1||u>QN)return a;do u%2&&(a+=o),u=eC(u/2),u&&(o+=o);while(u);return a}var tC=D0("length");const nC=tC;var K_="\\ud800-\\udfff",rC="\\u0300-\\u036f",oC="\\ufe20-\\ufe2f",iC="\\u20d0-\\u20ff",aC=rC+oC+iC,uC="\\ufe0e\\ufe0f",sC="["+K_+"]",pd="["+aC+"]",dd="\\ud83c[\\udffb-\\udfff]",cC="(?:"+pd+"|"+dd+")",q_="[^"+K_+"]",Z_="(?:\\ud83c[\\udde6-\\uddff]){2}",J_="[\\ud800-\\udbff][\\udc00-\\udfff]",lC="\\u200d",Q_=cC+"?",e1="["+uC+"]?",fC="(?:"+lC+"(?:"+[q_,Z_,J_].join("|")+")"+e1+Q_+")*",pC=e1+Q_+fC,dC="(?:"+[q_+pd+"?",pd,Z_,J_,sC].join("|")+")",Ab=RegExp(dd+"(?="+dd+")|"+dC+pC,"g");function hC(o){for(var u=Ab.lastIndex=0;Ab.test(o);)++u;return u}function Ki(o){return Xi(o)?hC(o):nC(o)}var yC=Math.ceil;function Qs(o,u){u=u===void 0?" ":_r(u);var a=u.length;if(a<2)return a?fd(u,o):u;var l=fd(u,yC(o/Ki(u)));return Xi(u)?Io(Or(l),0,o).join(""):l.slice(0,o)}var vC=Math.ceil,gC=Math.floor;function mC(o,u,a){o=It(o),u=gt(u);var l=u?Ki(o):0;if(!u||l>=u)return o;var i=(u-l)/2;return Qs(gC(i),a)+o+Qs(vC(i),a)}function bC(o,u,a){o=It(o),u=gt(u);var l=u?Ki(o):0;return u&&l<u?o+Qs(u-l,a):o}function _C(o,u,a){o=It(o),u=gt(u);var l=u?Ki(o):0;return u&&l<u?Qs(u-l,a)+o:o}var OC=/^\s+/,wC=ti.parseInt;function xC(o,u,a){return a||u==null?u=0:u&&(u=+u),wC(It(o).replace(OC,""),u||0)}var EC=32,qd=wt(function(o,u){var a=Do(u,Hi(qd));return fo(o,EC,void 0,u,a)});qd.placeholder={};const t1=qd;var SC=64,Zd=wt(function(o,u){var a=Do(u,Hi(Zd));return fo(o,SC,void 0,u,a)});Zd.placeholder={};const jC=Zd;var AC=mc(function(o,u,a){o[a?0:1].push(u)},function(){return[[],[]]});const PC=AC;function MC(o){for(var u,a=this;a instanceof vc;){var l=G0(a);l.__index__=0,l.__values__=void 0,u?i.__wrapped__=l:u=l;var i=l;a=a.__wrapped__}return i.__wrapped__=o,u}function TC(o){return function(u){return o==null?void 0:dc(o,u)}}function kC(o,u,a,l){for(var i=a-1,p=o.length;++i<p;)if(l(o[i],u))return i;return-1}var DC=Array.prototype,Pb=DC.splice;function Jd(o,u,a,l){var i=l?kC:Za,p=-1,d=u.length,v=o;for(o===u&&(u=ar(u)),a&&(v=Kt(o,zr(a)));++p<d;)for(var g=0,O=u[p],x=a?a(O):O;(g=i(v,x,g,l))>-1;)v!==o&&Pb.call(v,g,1),Pb.call(o,g,1);return o}function n1(o,u){return o&&o.length&&u&&u.length?Jd(o,u):o}var NC=wt(n1);const CC=NC;function RC(o,u,a){return o&&o.length&&u&&u.length?Jd(o,u,yt(a)):o}function IC(o,u,a){return o&&o.length&&u&&u.length?Jd(o,u,void 0,a):o}var LC=Array.prototype,BC=LC.splice;function r1(o,u){for(var a=o?u.length:0,l=a-1;a--;){var i=u[a];if(a==l||i!==p){var p=i;Ha(i)?BC.call(o,i,1):Vd(o,i)}}return o}var zC=Co(function(o,u){var a=o==null?0:o.length,l=Td(o,u);return r1(o,Kt(u,function(i){return Ha(i,a)?+i:i}).sort(Y_)),l});const FC=zC;var GC=Math.floor,UC=Math.random;function Qd(o,u){return o+GC(UC()*(u-o+1))}var $C=parseFloat,WC=Math.min,HC=Math.random;function XC(o,u,a){if(a&&typeof a!="boolean"&&In(o,u,a)&&(u=a=void 0),a===void 0&&(typeof u=="boolean"?(a=u,u=void 0):typeof o=="boolean"&&(a=o,o=void 0)),o===void 0&&u===void 0?(o=0,u=1):(o=ko(o),u===void 0?(u=o,o=0):u=ko(u)),o>u){var l=o;o=u,u=l}if(a||o%1||u%1){var i=HC();return WC(o+i*(u-o+$C("1e-"+((i+"").length-1))),u)}return Qd(o,u)}var YC=Math.ceil,VC=Math.max;function KC(o,u,a,l){for(var i=-1,p=VC(YC((u-o)/(a||1)),0),d=Array(p);p--;)d[l?p:++i]=o,o+=a;return d}function o1(o){return function(u,a,l){return l&&typeof l!="number"&&In(u,a,l)&&(a=l=void 0),u=ko(u),a===void 0?(a=u,u=0):a=ko(a),l=l===void 0?u<a?1:-1:ko(l),KC(u,a,l,o)}}var qC=o1();const ZC=qC;var JC=o1(!0);const QC=JC;var eR=256,tR=Co(function(o,u){return fo(o,eR,void 0,void 0,void 0,u)});const nR=tR;function i1(o,u,a,l,i){return i(o,function(p,d,v){a=l?(l=!1,p):u(a,p,d,v)}),a}function rR(o,u,a){var l=Rt(o)?Rd:i1,i=arguments.length<3;return l(o,yt(u),a,i,ri)}function oR(o,u,a,l){var i=o==null?0:o.length;for(l&&i&&(a=o[--i]);i--;)a=u(a,o[i],i,o);return a}function iR(o,u,a){var l=Rt(o)?oR:i1,i=arguments.length<3;return l(o,yt(u),a,i,S_)}function aR(o,u){var a=Rt(o)?oi:D_;return a(o,eu(yt(u)))}function uR(o,u){var a=[];if(!(o&&o.length))return a;var l=-1,i=[],p=o.length;for(u=yt(u);++l<p;){var d=o[l];u(d,l,o)&&(a.push(d),i.push(l))}return r1(o,i),a}function sR(o,u,a){return(a?In(o,u,a):u===void 0)?u=1:u=gt(u),fd(It(o),u)}function cR(){var o=arguments,u=It(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var lR="Expected a function";function fR(o,u){if(typeof o!="function")throw new TypeError(lR);return u=u===void 0?u:gt(u),wt(o,u)}function pR(o,u,a){u=hc(u,o);var l=-1,i=u.length;for(i||(i=1,o=void 0);++l<i;){var p=o==null?void 0:o[Va(u[l])];p===void 0&&(l=i,p=a),o=Wi(p)?p.call(o):p}return o}var dR=Array.prototype,hR=dR.reverse;function hd(o){return o==null?o:hR.call(o)}var yR=Ld("round");const vR=yR;function a1(o){var u=o.length;return u?o[Qd(0,u-1)]:void 0}function gR(o){return a1(Vi(o))}function mR(o){var u=Rt(o)?a1:gR;return u(o)}function Ec(o,u){var a=-1,l=o.length,i=l-1;for(u=u===void 0?l:u;++a<u;){var p=Qd(a,i),d=o[p];o[p]=o[a],o[a]=d}return o.length=u,o}function bR(o,u){return Ec(ar(o),ii(u,0,o.length))}function _R(o,u){var a=Vi(o);return Ec(a,ii(u,0,a.length))}function OR(o,u,a){(a?In(o,u,a):u===void 0)?u=1:u=gt(u);var l=Rt(o)?bR:_R;return l(o,u)}function wR(o,u,a,l){return l=typeof l=="function"?l:void 0,o==null?o:Pd(o,u,a,l)}function xR(o){return Ec(ar(o))}function ER(o){return Ec(Vi(o))}function SR(o){var u=Rt(o)?xR:ER;return u(o)}var jR="[object Map]",AR="[object Set]";function PR(o){if(o==null)return 0;if(No(o))return wc(o)?Ki(o):o.length;var u=qa(o);return u==jR||u==AR?o.size:j0(o).length}function MR(o,u,a){var l=o==null?0:o.length;return l?(a&&typeof a!="number"&&In(o,u,a)?(u=0,a=l):(u=u==null?0:gt(u),a=a===void 0?l:gt(a)),cr(o,u,a)):[]}var TR=Yi(function(o,u,a){return o+(a?"_":"")+u.toLowerCase()});const kR=TR;function DR(o,u){var a;return ri(o,function(l,i,p){return a=u(l,i,p),!a}),!!a}function NR(o,u,a){var l=Rt(o)?k0:DR;return a&&In(o,u,a)&&(u=void 0),l(o,yt(u))}var CR=wt(function(o,u){if(o==null)return[];var a=u.length;return a>1&&In(o,u[0],u[1])?u=[]:a>2&&In(u[0],u[1],u[2])&&(u=[u[0]]),V_(o,pr(u,1),[])});const RR=CR;var IR=4294967295,LR=IR-1,BR=Math.floor,zR=Math.min;function eh(o,u,a,l){var i=0,p=o==null?0:o.length;if(p===0)return 0;u=a(u);for(var d=u!==u,v=u===null,g=uo(u),O=u===void 0;i<p;){var x=BR((i+p)/2),w=a(o[x]),A=w!==void 0,j=w===null,T=w===w,P=uo(w);if(d)var k=l||T;else O?k=T&&(l||A):v?k=T&&A&&(l||!j):g?k=T&&A&&!j&&(l||!P):j||P?k=!1:k=l?w<=u:w<u;k?i=x+1:p=x}return zR(p,LR)}var FR=4294967295,GR=FR>>>1;function Sc(o,u,a){var l=0,i=o==null?l:o.length;if(typeof u=="number"&&u===u&&i<=GR){for(;l<i;){var p=l+i>>>1,d=o[p];d!==null&&!uo(d)&&(a?d<=u:d<u)?l=p+1:i=p}return i}return eh(o,u,lr,a)}function UR(o,u){return Sc(o,u)}function $R(o,u,a){return eh(o,u,yt(a))}function WR(o,u){var a=o==null?0:o.length;if(a){var l=Sc(o,u);if(l<a&&$i(o[l],u))return l}return-1}function HR(o,u){return Sc(o,u,!0)}function XR(o,u,a){return eh(o,u,yt(a),!0)}function YR(o,u){var a=o==null?0:o.length;if(a){var l=Sc(o,u,!0)-1;if($i(o[l],u))return l}return-1}function u1(o,u){for(var a=-1,l=o.length,i=0,p=[];++a<l;){var d=o[a],v=u?u(d):d;if(!a||!$i(v,g)){var g=v;p[i++]=d===0?0:d}}return p}function VR(o){return o&&o.length?u1(o):[]}function KR(o,u){return o&&o.length?u1(o,yt(u)):[]}var qR=4294967295;function ZR(o,u,a){return a&&typeof a!="number"&&In(o,u,a)&&(u=a=void 0),a=a===void 0?qR:a>>>0,a?(o=It(o),o&&(typeof u=="string"||u!=null&&!Hd(u))&&(u=_r(u),!u&&Xi(o))?Io(Or(o),0,a):o.split(u,a)):[]}var JR="Expected a function",QR=Math.max;function eI(o,u){if(typeof o!="function")throw new TypeError(JR);return u=u==null?0:QR(gt(u),0),wt(function(a){var l=a[u],i=Io(a,0,u);return l&&Ka(i,l),ur(o,this,i)})}var tI=Yi(function(o,u,a){return o+(a?" ":"")+Cd(u)});const nI=tI;function rI(o,u,a){return o=It(o),a=a==null?0:ii(gt(a),0,o.length),u=_r(u),o.slice(a,a+u.length)==u}function oI(){return{}}function iI(){return""}function aI(){return!0}var uI=yc(function(o,u){return o-u},0);const sI=uI;function cI(o){return o&&o.length?Yd(o,lr):0}function lI(o,u){return o&&o.length?Yd(o,yt(u)):0}function fI(o){var u=o==null?0:o.length;return u?cr(o,1,u):[]}function pI(o,u,a){return o&&o.length?(u=a||u===void 0?1:gt(u),cr(o,0,u<0?0:u)):[]}function dI(o,u,a){var l=o==null?0:o.length;return l?(u=a||u===void 0?1:gt(u),u=l-u,cr(o,u<0?0:u,l)):[]}function hI(o,u){return o&&o.length?bc(o,yt(u),!1,!0):[]}function yI(o,u){return o&&o.length?bc(o,yt(u)):[]}function vI(o,u){return u(o),o}var s1=Object.prototype,gI=s1.hasOwnProperty;function Mb(o,u,a,l){return o===void 0||$i(o,s1[a])&&!gI.call(l,a)?u:o}var mI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function bI(o){return"\\"+mI[o]}var _I=/<%=([\s\S]+?)%>/g;const c1=_I;var OI=/<%-([\s\S]+?)%>/g;const wI=OI;var xI=/<%([\s\S]+?)%>/g;const EI=xI;var SI={escape:wI,evaluate:EI,interpolate:c1,variable:"",imports:{_:{escape:P_}}};const yd=SI;var jI="Invalid `variable` option passed into `_.template`",AI=/\b__p \+= '';/g,PI=/\b(__p \+=) '' \+/g,MI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,TI=/[()=,{}\[\]\/\s]/,kI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$s=/($^)/,DI=/['\n\r\u2028\u2029\\]/g,NI=Object.prototype,Tb=NI.hasOwnProperty;function CI(o,u,a){var l=yd.imports._.templateSettings||yd;a&&In(o,u,a)&&(u=void 0),o=It(o),u=Js({},u,l,Mb);var i=Js({},u.imports,l.imports,Mb),p=Ln(i),d=Ud(i,p),v,g,O=0,x=u.interpolate||$s,w="__p += '",A=RegExp((u.escape||$s).source+"|"+x.source+"|"+(x===c1?kI:$s).source+"|"+(u.evaluate||$s).source+"|$","g"),j=Tb.call(u,"sourceURL")?"//# sourceURL="+(u.sourceURL+"").replace(/\s/g," ")+`
`:"";o.replace(A,function(k,I,L,Y,Q,X){return L||(L=Y),w+=o.slice(O,X).replace(DI,bI),I&&(v=!0,w+=`' +
__e(`+I+`) +
'`),Q&&(g=!0,w+=`';
`+Q+`;
__p += '`),L&&(w+=`' +
((__t = (`+L+`)) == null ? '' : __t) +
'`),O=X+k.length,k}),w+=`';
`;var T=Tb.call(u,"variable")&&u.variable;if(!T)w=`with (obj) {
`+w+`
}
`;else if(TI.test(T))throw new Error(jI);w=(g?w.replace(AI,""):w).replace(PI,"$1").replace(MI,"$1;"),w="function("+(T||"obj")+`) {
`+(T?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var P=X0(function(){return Function(p,j+"return "+w).apply(void 0,d)});if(P.source=w,kd(P))throw P;return P}function tu(o,u){return u(o)}var RI=9007199254740991,id=4294967295,II=Math.min;function LI(o,u){if(o=gt(o),o<1||o>RI)return[];var a=id,l=II(o,id);u=Gr(u),o-=id;for(var i=N0(l,u);++a<o;)u(a);return i}function BI(){return this}function l1(o,u){var a=o;return a instanceof Et&&(a=a.value()),Rd(u,function(l,i){return i.func.apply(i.thisArg,Ka([l],i.args))},a)}function ad(){return l1(this.__wrapped__,this.__actions__)}function zI(o){return It(o).toLowerCase()}function FI(o){return Rt(o)?Kt(o,Va):uo(o)?[o]:ar(qj(It(o)))}var kb=9007199254740991;function GI(o){return o?ii(gt(o),-kb,kb):o===0?o:0}function UI(o){return It(o).toUpperCase()}function $I(o,u,a){var l=Rt(o),i=l||jd(o)||Ad(o);if(u=yt(u),a==null){var p=o&&o.constructor;i?a=l?new p:[]:so(o)?a=Wi(p)?Wa(Zj(o)):{}:a={}}return(i?wr:lo)(o,function(d,v,g){return u(a,d,v,g)}),a}function f1(o,u){for(var a=o.length;a--&&Za(u,o[a],0)>-1;);return a}function p1(o,u){for(var a=-1,l=o.length;++a<l&&Za(u,o[a],0)>-1;);return a}function WI(o,u,a){if(o=It(o),o&&(a||u===void 0))return Jj(o);if(!o||!(u=_r(u)))return o;var l=Or(o),i=Or(u),p=p1(l,i),d=f1(l,i)+1;return Io(l,p,d).join("")}function HI(o,u,a){if(o=It(o),o&&(a||u===void 0))return o.slice(0,Qj(o)+1);if(!o||!(u=_r(u)))return o;var l=Or(o),i=f1(l,Or(u))+1;return Io(l,0,i).join("")}var XI=/^\s+/;function YI(o,u,a){if(o=It(o),o&&(a||u===void 0))return o.replace(XI,"");if(!o||!(u=_r(u)))return o;var l=Or(o),i=p1(l,Or(u));return Io(l,i).join("")}var VI=30,KI="...",qI=/\w*$/;function ZI(o,u){var a=VI,l=KI;if(so(u)){var i="separator"in u?u.separator:i;a="length"in u?gt(u.length):a,l="omission"in u?_r(u.omission):l}o=It(o);var p=o.length;if(Xi(o)){var d=Or(o);p=d.length}if(a>=p)return o;var v=a-Ki(l);if(v<1)return l;var g=d?Io(d,0,v).join(""):o.slice(0,v);if(i===void 0)return g+l;if(d&&(v+=g.length-v),Hd(i)){if(o.slice(v).search(i)){var O,x=g;for(i.global||(i=RegExp(i.source,It(qI.exec(i))+"g")),i.lastIndex=0;O=i.exec(x);)var w=O.index;g=g.slice(0,w===void 0?v:w)}}else if(o.indexOf(_r(i),v)!=v){var A=g.lastIndexOf(i);A>-1&&(g=g.slice(0,A))}return g+l}function JI(o){return H0(o,1)}var QI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},e3=Id(QI);const t3=e3;var d1=/&(?:amp|lt|gt|quot|#39);/g,n3=RegExp(d1.source);function r3(o){return o=It(o),o&&n3.test(o)?o.replace(d1,t3):o}var o3=wt(function(o){var u=Kn(o);return ln(u)&&(u=void 0),ei(pr(o,1,ln,!0),yt(u))});const i3=o3;var a3=wt(function(o){var u=Kn(o);return u=typeof u=="function"?u:void 0,ei(pr(o,1,ln,!0),void 0,u)});const u3=a3;function s3(o){return o&&o.length?ei(o):[]}function c3(o,u){return o&&o.length?ei(o,yt(u)):[]}function l3(o,u){return u=typeof u=="function"?u:void 0,o&&o.length?ei(o,void 0,u):[]}var f3=0;function p3(o){var u=++f3;return It(o)+u}function d3(o,u){return o==null?!0:Vd(o,u)}var h3=Math.max;function th(o){if(!(o&&o.length))return[];var u=0;return o=oi(o,function(a){if(ln(a))return u=h3(a.length,u),!0}),N0(u,function(a){return Kt(o,D0(a))})}function h1(o,u){if(!(o&&o.length))return[];var a=th(o);return u==null?a:Kt(a,function(l){return ur(u,void 0,l)})}function y1(o,u,a,l){return Pd(o,u,a(dc(o,u)),l)}function y3(o,u,a){return o==null?o:y1(o,u,Gr(a))}function v3(o,u,a,l){return l=typeof l=="function"?l:void 0,o==null?o:y1(o,u,Gr(a),l)}var g3=Yi(function(o,u,a){return o+(a?" ":"")+u.toUpperCase()});const m3=g3;function b3(o){return o==null?[]:Ud(o,co(o))}var _3=wt(function(o,u){return ln(o)?Ja(o,u):[]});const O3=_3;function w3(o,u){return t1(Gr(u),o)}var x3=Co(function(o){var u=o.length,a=u?o[0]:0,l=this.__wrapped__,i=function(p){return Td(p,o)};return u>1||this.__actions__.length||!(l instanceof Et)||!Ha(a)?this.thru(i):(l=l.slice(a,+a+(u?1:0)),l.__actions__.push({func:tu,args:[i],thisArg:void 0}),new sr(l,this.__chain__).thru(function(p){return u&&!p.length&&p.push(void 0),p}))});const E3=x3;function S3(){return m_(this)}function j3(){var o=this.__wrapped__;if(o instanceof Et){var u=o;return this.__actions__.length&&(u=new Et(this)),u=u.reverse(),u.__actions__.push({func:tu,args:[hd],thisArg:void 0}),new sr(u,this.__chain__)}return this.thru(hd)}function nh(o,u,a){var l=o.length;if(l<2)return l?ei(o[0]):[];for(var i=-1,p=Array(l);++i<l;)for(var d=o[i],v=-1;++v<l;)v!=i&&(p[i]=Ja(p[i]||d,o[v],u,a));return ei(pr(p,1),u,a)}var A3=wt(function(o){return nh(oi(o,ln))});const P3=A3;var M3=wt(function(o){var u=Kn(o);return ln(u)&&(u=void 0),nh(oi(o,ln),yt(u))});const T3=M3;var k3=wt(function(o){var u=Kn(o);return u=typeof u=="function"?u:void 0,nh(oi(o,ln),void 0,u)});const D3=k3;var N3=wt(th);const C3=N3;function v1(o,u,a){for(var l=-1,i=o.length,p=u.length,d={};++l<i;){var v=l<p?u[l]:void 0;a(d,o[l],v)}return d}function R3(o,u){return v1(o||[],u||[],v0)}function I3(o,u){return v1(o||[],u||[],Pd)}var L3=wt(function(o){var u=o.length,a=u>1?o[u-1]:void 0;return a=typeof a=="function"?(o.pop(),a):void 0,h1(o,a)});const B3=L3,Ye={chunk:_2,compact:P2,concat:M2,difference:iT,differenceBy:uT,differenceWith:cT,drop:pT,dropRight:dT,dropRightWhile:hT,dropWhile:yT,fill:IT,findIndex:C_,findLastIndex:x0,first:wb,flatten:eA,flattenDeep:tA,flattenDepth:VT,fromPairs:nA,head:wb,indexOf:Ck,initial:Rk,intersection:Bk,intersectionBy:Fk,intersectionWith:Uk,join:UD,last:Kn,lastIndexOf:qD,nth:MN,pull:CC,pullAll:n1,pullAllBy:RC,pullAllWith:IC,pullAt:FC,remove:uR,reverse:hd,slice:MR,sortedIndex:UR,sortedIndexBy:$R,sortedIndexOf:WR,sortedLastIndex:HR,sortedLastIndexBy:XR,sortedLastIndexOf:YR,sortedUniq:VR,sortedUniqBy:KR,tail:fI,take:pI,takeRight:dI,takeRightWhile:hI,takeWhile:yI,union:rA,unionBy:i3,unionWith:u3,uniq:s3,uniqBy:c3,uniqWith:l3,unzip:th,unzipWith:h1,without:O3,xor:P3,xorBy:T3,xorWith:D3,zip:C3,zipObject:R3,zipObjectDeep:I3,zipWith:B3},zt={countBy:G2,each:mb,eachRight:bb,every:NT,filter:LT,find:FT,findLast:$T,flatMap:oA,flatMapDeep:XT,flatMapDepth:YT,forEach:mb,forEachRight:bb,groupBy:gk,includes:Dk,invokeMap:tD,keyBy:XD,map:Sd,orderBy:GN,partition:PC,reduce:rR,reduceRight:iR,reject:aR,sample:mR,sampleSize:OR,shuffle:SR,size:PR,some:NR,sortBy:RR},z3={now:iA},qt={after:IA,ary:H0,before:Y0,bind:V0,bindKey:rM,curry:Bd,curryRight:zd,debounce:aA,defer:eT,delay:nT,flip:qT,memoize:uA,negate:eu,once:BN,overArgs:VN,partial:t1,partialRight:jC,rearg:nR,rest:fR,spread:eI,throttle:sA,unary:JI,wrap:w3},et={castArray:cA,clone:lA,cloneDeep:fA,cloneDeepWith:E2,cloneWith:j2,conformsTo:R2,eq:$i,gt:bk,gte:Ok,isArguments:S0,isArray:Rt,isArrayBuffer:iD,isArrayLike:No,isArrayLikeObject:ln,isBoolean:uD,isBuffer:jd,isDate:fD,isElement:pD,isEmpty:gD,isEqual:pA,isEqualWith:mD,isError:kd,isFinite:_D,isFunction:Wi,isInteger:F_,isLength:dA,isMap:hA,isMatch:OD,isMatchWith:wD,isNaN:ED,isNative:PD,isNil:yA,isNull:MD,isNumber:G_,isObject:so,isObjectLike:fr,isPlainObject:pc,isRegExp:Hd,isSafeInteger:ND,isSet:vA,isString:wc,isSymbol:uo,isTypedArray:Ad,isUndefined:gA,isWeakMap:RD,isWeakSet:LD,lt:nN,lte:oN,toArray:W_,toFinite:ko,toInteger:gt,toLength:k_,toNumber:ao,toPlainObject:mA,toSafeInteger:GI,toString:It},Mn={add:CA,ceil:g2,divide:fT,floor:JT,max:fN,maxBy:pN,mean:hN,meanBy:yN,min:_N,minBy:ON,multiply:xN,round:vR,subtract:sI,sum:cI,sumBy:lI},rh={clamp:O2,inRange:Mk,random:XC},ft={assign:zP,assignIn:db,assignInWith:Js,assignWith:$P,at:HP,create:U2,defaults:V2,defaultsDeep:Z2,entries:_b,entriesIn:Ob,extend:db,extendWith:Js,findKey:GT,findLastKey:WT,forIn:sk,forInRight:ck,forOwn:lk,forOwnRight:fk,functions:pk,functionsIn:dk,get:g0,has:Sk,hasIn:bA,invert:Yk,invertBy:Zk,invoke:Qk,keys:Ln,keysIn:co,mapKeys:iN,mapValues:aN,merge:_A,mergeWith:w_,omit:IN,omitBy:LN,pick:OA,pickBy:X_,result:pR,set:wA,setWith:wR,toPairs:_b,toPairsIn:Ob,transform:$I,unset:d3,update:y3,updateWith:v3,values:Vi,valuesIn:b3},Ur={at:E3,chain:m_,commit:A2,lodash:C,next:PN,plant:MC,reverse:j3,tap:vI,thru:tu,toIterator:BI,toJSON:ad,value:ad,valueOf:ad,wrapperChain:S3},Tt={camelCase:d2,capitalize:n_,deburr:r_,endsWith:bT,escape:P_,escapeRegExp:kT,kebabCase:WD,lowerCase:JD,lowerFirst:eN,pad:mC,padEnd:bC,padStart:_C,parseInt:xC,repeat:sR,replace:cR,snakeCase:kR,split:ZR,startCase:nI,startsWith:rI,template:CI,templateSettings:yd,toLower:zI,toUpper:UI,trim:WI,trimEnd:HI,trimStart:YI,truncate:ZI,unescape:r3,upperCase:m3,upperFirst:Cd,words:g_},Ct={attempt:X0,bindAll:QP,cond:k2,conforms:C2,constant:E0,defaultTo:H2,flow:ik,flowRight:uk,identity:lr,iteratee:zD,matches:sN,matchesProperty:lN,method:gN,methodOf:bN,mixin:$_,noop:h0,nthArg:TN,over:$N,overEvery:qN,overSome:JN,property:xA,propertyOf:TC,range:ZC,rangeRight:QC,stubArray:EA,stubFalse:M0,stubObject:oI,stubString:iI,stubTrue:aI,times:LI,toPath:FI,uniqueId:p3};function F3(){var o=new Et(this.__wrapped__);return o.__actions__=ar(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ar(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ar(this.__views__),o}function G3(){if(this.__filtered__){var o=new Et(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}var U3=Math.max,$3=Math.min;function W3(o,u,a){for(var l=-1,i=a.length;++l<i;){var p=a[l],d=p.size;switch(p.type){case"drop":o+=d;break;case"dropRight":u-=d;break;case"take":u=$3(u,o+d);break;case"takeRight":o=U3(o,u-d);break}}return{start:o,end:u}}var H3=1,X3=2,Y3=Math.min;function V3(){var o=this.__wrapped__.value(),u=this.__dir__,a=Rt(o),l=u<0,i=a?o.length:0,p=W3(0,i,this.__views__),d=p.start,v=p.end,g=v-d,O=l?v:d-1,x=this.__iteratees__,w=x.length,A=0,j=Y3(g,this.__takeCount__);if(!a||!l&&i==g&&j==g)return l1(o,this.__actions__);var T=[];e:for(;g--&&A<j;){O+=u;for(var P=-1,k=o[O];++P<w;){var I=x[P],L=I.iteratee,Y=I.type,Q=L(k);if(Y==X3)k=Q;else if(!Q){if(Y==H3)continue e;break e}}T[A++]=k}return T}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var K3="4.17.21",q3=2,Z3=1,J3=3,g1=4294967295,Q3=Array.prototype,eL=Object.prototype,m1=eL.hasOwnProperty,Db=qs?qs.iterator:void 0,tL=Math.max,Nb=Math.min,oh=function(o){return function(u,a,l){if(l==null){var i=so(a),p=i&&Ln(a),d=p&&p.length&&_c(a,p);(d?d.length:i)||(l=a,a=u,u=this)}return o(u,a,l)}}($_);C.after=qt.after;C.ary=qt.ary;C.assign=ft.assign;C.assignIn=ft.assignIn;C.assignInWith=ft.assignInWith;C.assignWith=ft.assignWith;C.at=ft.at;C.before=qt.before;C.bind=qt.bind;C.bindAll=Ct.bindAll;C.bindKey=qt.bindKey;C.castArray=et.castArray;C.chain=Ur.chain;C.chunk=Ye.chunk;C.compact=Ye.compact;C.concat=Ye.concat;C.cond=Ct.cond;C.conforms=Ct.conforms;C.constant=Ct.constant;C.countBy=zt.countBy;C.create=ft.create;C.curry=qt.curry;C.curryRight=qt.curryRight;C.debounce=qt.debounce;C.defaults=ft.defaults;C.defaultsDeep=ft.defaultsDeep;C.defer=qt.defer;C.delay=qt.delay;C.difference=Ye.difference;C.differenceBy=Ye.differenceBy;C.differenceWith=Ye.differenceWith;C.drop=Ye.drop;C.dropRight=Ye.dropRight;C.dropRightWhile=Ye.dropRightWhile;C.dropWhile=Ye.dropWhile;C.fill=Ye.fill;C.filter=zt.filter;C.flatMap=zt.flatMap;C.flatMapDeep=zt.flatMapDeep;C.flatMapDepth=zt.flatMapDepth;C.flatten=Ye.flatten;C.flattenDeep=Ye.flattenDeep;C.flattenDepth=Ye.flattenDepth;C.flip=qt.flip;C.flow=Ct.flow;C.flowRight=Ct.flowRight;C.fromPairs=Ye.fromPairs;C.functions=ft.functions;C.functionsIn=ft.functionsIn;C.groupBy=zt.groupBy;C.initial=Ye.initial;C.intersection=Ye.intersection;C.intersectionBy=Ye.intersectionBy;C.intersectionWith=Ye.intersectionWith;C.invert=ft.invert;C.invertBy=ft.invertBy;C.invokeMap=zt.invokeMap;C.iteratee=Ct.iteratee;C.keyBy=zt.keyBy;C.keys=Ln;C.keysIn=ft.keysIn;C.map=zt.map;C.mapKeys=ft.mapKeys;C.mapValues=ft.mapValues;C.matches=Ct.matches;C.matchesProperty=Ct.matchesProperty;C.memoize=qt.memoize;C.merge=ft.merge;C.mergeWith=ft.mergeWith;C.method=Ct.method;C.methodOf=Ct.methodOf;C.mixin=oh;C.negate=eu;C.nthArg=Ct.nthArg;C.omit=ft.omit;C.omitBy=ft.omitBy;C.once=qt.once;C.orderBy=zt.orderBy;C.over=Ct.over;C.overArgs=qt.overArgs;C.overEvery=Ct.overEvery;C.overSome=Ct.overSome;C.partial=qt.partial;C.partialRight=qt.partialRight;C.partition=zt.partition;C.pick=ft.pick;C.pickBy=ft.pickBy;C.property=Ct.property;C.propertyOf=Ct.propertyOf;C.pull=Ye.pull;C.pullAll=Ye.pullAll;C.pullAllBy=Ye.pullAllBy;C.pullAllWith=Ye.pullAllWith;C.pullAt=Ye.pullAt;C.range=Ct.range;C.rangeRight=Ct.rangeRight;C.rearg=qt.rearg;C.reject=zt.reject;C.remove=Ye.remove;C.rest=qt.rest;C.reverse=Ye.reverse;C.sampleSize=zt.sampleSize;C.set=ft.set;C.setWith=ft.setWith;C.shuffle=zt.shuffle;C.slice=Ye.slice;C.sortBy=zt.sortBy;C.sortedUniq=Ye.sortedUniq;C.sortedUniqBy=Ye.sortedUniqBy;C.split=Tt.split;C.spread=qt.spread;C.tail=Ye.tail;C.take=Ye.take;C.takeRight=Ye.takeRight;C.takeRightWhile=Ye.takeRightWhile;C.takeWhile=Ye.takeWhile;C.tap=Ur.tap;C.throttle=qt.throttle;C.thru=tu;C.toArray=et.toArray;C.toPairs=ft.toPairs;C.toPairsIn=ft.toPairsIn;C.toPath=Ct.toPath;C.toPlainObject=et.toPlainObject;C.transform=ft.transform;C.unary=qt.unary;C.union=Ye.union;C.unionBy=Ye.unionBy;C.unionWith=Ye.unionWith;C.uniq=Ye.uniq;C.uniqBy=Ye.uniqBy;C.uniqWith=Ye.uniqWith;C.unset=ft.unset;C.unzip=Ye.unzip;C.unzipWith=Ye.unzipWith;C.update=ft.update;C.updateWith=ft.updateWith;C.values=ft.values;C.valuesIn=ft.valuesIn;C.without=Ye.without;C.words=Tt.words;C.wrap=qt.wrap;C.xor=Ye.xor;C.xorBy=Ye.xorBy;C.xorWith=Ye.xorWith;C.zip=Ye.zip;C.zipObject=Ye.zipObject;C.zipObjectDeep=Ye.zipObjectDeep;C.zipWith=Ye.zipWith;C.entries=ft.toPairs;C.entriesIn=ft.toPairsIn;C.extend=ft.assignIn;C.extendWith=ft.assignInWith;oh(C,C);C.add=Mn.add;C.attempt=Ct.attempt;C.camelCase=Tt.camelCase;C.capitalize=Tt.capitalize;C.ceil=Mn.ceil;C.clamp=rh.clamp;C.clone=et.clone;C.cloneDeep=et.cloneDeep;C.cloneDeepWith=et.cloneDeepWith;C.cloneWith=et.cloneWith;C.conformsTo=et.conformsTo;C.deburr=Tt.deburr;C.defaultTo=Ct.defaultTo;C.divide=Mn.divide;C.endsWith=Tt.endsWith;C.eq=et.eq;C.escape=Tt.escape;C.escapeRegExp=Tt.escapeRegExp;C.every=zt.every;C.find=zt.find;C.findIndex=Ye.findIndex;C.findKey=ft.findKey;C.findLast=zt.findLast;C.findLastIndex=Ye.findLastIndex;C.findLastKey=ft.findLastKey;C.floor=Mn.floor;C.forEach=zt.forEach;C.forEachRight=zt.forEachRight;C.forIn=ft.forIn;C.forInRight=ft.forInRight;C.forOwn=ft.forOwn;C.forOwnRight=ft.forOwnRight;C.get=ft.get;C.gt=et.gt;C.gte=et.gte;C.has=ft.has;C.hasIn=ft.hasIn;C.head=Ye.head;C.identity=lr;C.includes=zt.includes;C.indexOf=Ye.indexOf;C.inRange=rh.inRange;C.invoke=ft.invoke;C.isArguments=et.isArguments;C.isArray=Rt;C.isArrayBuffer=et.isArrayBuffer;C.isArrayLike=et.isArrayLike;C.isArrayLikeObject=et.isArrayLikeObject;C.isBoolean=et.isBoolean;C.isBuffer=et.isBuffer;C.isDate=et.isDate;C.isElement=et.isElement;C.isEmpty=et.isEmpty;C.isEqual=et.isEqual;C.isEqualWith=et.isEqualWith;C.isError=et.isError;C.isFinite=et.isFinite;C.isFunction=et.isFunction;C.isInteger=et.isInteger;C.isLength=et.isLength;C.isMap=et.isMap;C.isMatch=et.isMatch;C.isMatchWith=et.isMatchWith;C.isNaN=et.isNaN;C.isNative=et.isNative;C.isNil=et.isNil;C.isNull=et.isNull;C.isNumber=et.isNumber;C.isObject=so;C.isObjectLike=et.isObjectLike;C.isPlainObject=et.isPlainObject;C.isRegExp=et.isRegExp;C.isSafeInteger=et.isSafeInteger;C.isSet=et.isSet;C.isString=et.isString;C.isSymbol=et.isSymbol;C.isTypedArray=et.isTypedArray;C.isUndefined=et.isUndefined;C.isWeakMap=et.isWeakMap;C.isWeakSet=et.isWeakSet;C.join=Ye.join;C.kebabCase=Tt.kebabCase;C.last=Kn;C.lastIndexOf=Ye.lastIndexOf;C.lowerCase=Tt.lowerCase;C.lowerFirst=Tt.lowerFirst;C.lt=et.lt;C.lte=et.lte;C.max=Mn.max;C.maxBy=Mn.maxBy;C.mean=Mn.mean;C.meanBy=Mn.meanBy;C.min=Mn.min;C.minBy=Mn.minBy;C.stubArray=Ct.stubArray;C.stubFalse=Ct.stubFalse;C.stubObject=Ct.stubObject;C.stubString=Ct.stubString;C.stubTrue=Ct.stubTrue;C.multiply=Mn.multiply;C.nth=Ye.nth;C.noop=Ct.noop;C.now=z3.now;C.pad=Tt.pad;C.padEnd=Tt.padEnd;C.padStart=Tt.padStart;C.parseInt=Tt.parseInt;C.random=rh.random;C.reduce=zt.reduce;C.reduceRight=zt.reduceRight;C.repeat=Tt.repeat;C.replace=Tt.replace;C.result=ft.result;C.round=Mn.round;C.sample=zt.sample;C.size=zt.size;C.snakeCase=Tt.snakeCase;C.some=zt.some;C.sortedIndex=Ye.sortedIndex;C.sortedIndexBy=Ye.sortedIndexBy;C.sortedIndexOf=Ye.sortedIndexOf;C.sortedLastIndex=Ye.sortedLastIndex;C.sortedLastIndexBy=Ye.sortedLastIndexBy;C.sortedLastIndexOf=Ye.sortedLastIndexOf;C.startCase=Tt.startCase;C.startsWith=Tt.startsWith;C.subtract=Mn.subtract;C.sum=Mn.sum;C.sumBy=Mn.sumBy;C.template=Tt.template;C.times=Ct.times;C.toFinite=et.toFinite;C.toInteger=gt;C.toLength=et.toLength;C.toLower=Tt.toLower;C.toNumber=et.toNumber;C.toSafeInteger=et.toSafeInteger;C.toString=et.toString;C.toUpper=Tt.toUpper;C.trim=Tt.trim;C.trimEnd=Tt.trimEnd;C.trimStart=Tt.trimStart;C.truncate=Tt.truncate;C.unescape=Tt.unescape;C.uniqueId=Ct.uniqueId;C.upperCase=Tt.upperCase;C.upperFirst=Tt.upperFirst;C.each=zt.forEach;C.eachRight=zt.forEachRight;C.first=Ye.head;oh(C,function(){var o={};return lo(C,function(u,a){m1.call(C.prototype,a)||(o[a]=u)}),o}(),{chain:!1});C.VERSION=K3;(C.templateSettings=Tt.templateSettings).imports._=C;wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){C[o].placeholder=C});wr(["drop","take"],function(o,u){Et.prototype[o]=function(a){a=a===void 0?1:tL(gt(a),0);var l=this.__filtered__&&!u?new Et(this):this.clone();return l.__filtered__?l.__takeCount__=Nb(a,l.__takeCount__):l.__views__.push({size:Nb(a,g1),type:o+(l.__dir__<0?"Right":"")}),l},Et.prototype[o+"Right"]=function(a){return this.reverse()[o](a).reverse()}});wr(["filter","map","takeWhile"],function(o,u){var a=u+1,l=a==Z3||a==J3;Et.prototype[o]=function(i){var p=this.clone();return p.__iteratees__.push({iteratee:yt(i),type:a}),p.__filtered__=p.__filtered__||l,p}});wr(["head","last"],function(o,u){var a="take"+(u?"Right":"");Et.prototype[o]=function(){return this[a](1).value()[0]}});wr(["initial","tail"],function(o,u){var a="drop"+(u?"":"Right");Et.prototype[o]=function(){return this.__filtered__?new Et(this):this[a](1)}});Et.prototype.compact=function(){return this.filter(lr)};Et.prototype.find=function(o){return this.filter(o).head()};Et.prototype.findLast=function(o){return this.reverse().find(o)};Et.prototype.invokeMap=wt(function(o,u){return typeof o=="function"?new Et(this):this.map(function(a){return Qa(a,o,u)})});Et.prototype.reject=function(o){return this.filter(eu(yt(o)))};Et.prototype.slice=function(o,u){o=gt(o);var a=this;return a.__filtered__&&(o>0||u<0)?new Et(a):(o<0?a=a.takeRight(-o):o&&(a=a.drop(o)),u!==void 0&&(u=gt(u),a=u<0?a.dropRight(-u):a.take(u-o)),a)};Et.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()};Et.prototype.toArray=function(){return this.take(g1)};lo(Et.prototype,function(o,u){var a=/^(?:filter|find|map|reject)|While$/.test(u),l=/^(?:head|last)$/.test(u),i=C[l?"take"+(u=="last"?"Right":""):u],p=l||/^find/.test(u);i&&(C.prototype[u]=function(){var d=this.__wrapped__,v=l?[1]:arguments,g=d instanceof Et,O=v[0],x=g||Rt(d),w=function(I){var L=i.apply(C,Ka([I],v));return l&&A?L[0]:L};x&&a&&typeof O=="function"&&O.length!=1&&(g=x=!1);var A=this.__chain__,j=!!this.__actions__.length,T=p&&!A,P=g&&!j;if(!p&&x){d=P?d:new Et(this);var k=o.apply(d,v);return k.__actions__.push({func:tu,args:[w],thisArg:void 0}),new sr(k,A)}return T&&P?o.apply(this,v):(k=this.thru(w),T?l?k.value()[0]:k.value():k)})});wr(["pop","push","shift","sort","splice","unshift"],function(o){var u=Q3[o],a=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",l=/^(?:pop|shift)$/.test(o);C.prototype[o]=function(){var i=arguments;if(l&&!this.__chain__){var p=this.value();return u.apply(Rt(p)?p:[],i)}return this[a](function(d){return u.apply(Rt(d)?d:[],i)})}});lo(Et.prototype,function(o,u){var a=C[u];if(a){var l=a.name+"";m1.call(Bi,l)||(Bi[l]=[]),Bi[l].push({name:u,func:a})}});Bi[gc(void 0,q3).name]=[{name:"wrapper",func:void 0}];Et.prototype.clone=F3;Et.prototype.reverse=G3;Et.prototype.value=V3;C.prototype.at=Ur.at;C.prototype.chain=Ur.wrapperChain;C.prototype.commit=Ur.commit;C.prototype.next=Ur.next;C.prototype.plant=Ur.plant;C.prototype.reverse=Ur.reverse;C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=Ur.value;C.prototype.first=C.prototype.head;Db&&(C.prototype[Db]=Ur.toIterator);var vd={exports:{}};(function(o,u){(function(a,l){o.exports=l()})(window,function(){return function(a){var l={};function i(p){if(l[p])return l[p].exports;var d=l[p]={i:p,l:!1,exports:{}};return a[p].call(d.exports,d,d.exports,i),d.l=!0,d.exports}return i.m=a,i.c=l,i.d=function(p,d,v){i.o(p,d)||Object.defineProperty(p,d,{enumerable:!0,get:v})},i.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},i.t=function(p,d){if(1&d&&(p=i(p)),8&d||4&d&&typeof p=="object"&&p&&p.__esModule)return p;var v=Object.create(null);if(i.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:p}),2&d&&typeof p!="string")for(var g in p)i.d(v,g,(function(O){return p[O]}).bind(null,g));return v},i.n=function(p){var d=p&&p.__esModule?function(){return p.default}:function(){return p};return i.d(d,"a",d),d},i.o=function(p,d){return Object.prototype.hasOwnProperty.call(p,d)},i.p="",i(i.s=215)}([function(a,l,i){i.d(l,"a",function(){return X}),i.d(l,"b",function(){return Q}),i.d(l,"c",function(){return Re}),i.d(l,"d",function(){return Je}),i.d(l,"e",function(){return I}),i.d(l,"f",function(){return Y}),i.d(l,"g",function(){return I}),i.d(l,"h",function(){return Pe}),i.d(l,"i",function(){return d}),i.d(l,"j",function(){return Ze}),i.d(l,"k",function(){return $});var p,d,v,g,O,x,w,A={},j=[],T=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(ee,J){for(var ue in J)ee[ue]=J[ue];return ee}function k(ee){var J=ee.parentNode;J&&J.removeChild(ee)}function I(ee,J,ue){var we,Me,xe,Qe={};for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Me=J[xe]:Qe[xe]=J[xe];if(arguments.length>2&&(Qe.children=arguments.length>3?p.call(arguments,2):ue),typeof ee=="function"&&ee.defaultProps!=null)for(xe in ee.defaultProps)Qe[xe]===void 0&&(Qe[xe]=ee.defaultProps[xe]);return L(ee,Qe,we,Me,null)}function L(ee,J,ue,we,Me){var xe={type:ee,props:J,key:ue,ref:we,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Me??++v};return Me==null&&d.vnode!=null&&d.vnode(xe),xe}function Y(){return{current:null}}function Q(ee){return ee.children}function X(ee,J){this.props=ee,this.context=J}function V(ee,J){if(J==null)return ee.__?V(ee.__,ee.__.__k.indexOf(ee)+1):null;for(var ue;J<ee.__k.length;J++)if((ue=ee.__k[J])!=null&&ue.__e!=null)return ue.__e;return typeof ee.type=="function"?V(ee):null}function Z(ee){var J,ue;if((ee=ee.__)!=null&&ee.__c!=null){for(ee.__e=ee.__c.base=null,J=0;J<ee.__k.length;J++)if((ue=ee.__k[J])!=null&&ue.__e!=null){ee.__e=ee.__c.base=ue.__e;break}return Z(ee)}}function F(ee){(!ee.__d&&(ee.__d=!0)&&g.push(ee)&&!R.__r++||x!==d.debounceRendering)&&((x=d.debounceRendering)||O)(R)}function R(){for(var ee;R.__r=g.length;)ee=g.sort(function(J,ue){return J.__v.__b-ue.__v.__b}),g=[],ee.some(function(J){var ue,we,Me,xe,Qe,it;J.__d&&(Qe=(xe=(ue=J).__v).__e,(it=ue.__P)&&(we=[],(Me=P({},xe)).__v=xe.__v+1,ge(it,xe,Me,ue.__n,it.ownerSVGElement!==void 0,xe.__h!=null?[Qe]:null,we,Qe??V(xe),xe.__h),se(we,xe),xe.__e!=Qe&&Z(xe)))})}function B(ee,J,ue,we,Me,xe,Qe,it,tt,Ve){var me,$e,re,ze,lt,St,st,Ot=we&&we.__k||j,Lt=Ot.length;for(ue.__k=[],me=0;me<J.length;me++)if((ze=ue.__k[me]=(ze=J[me])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?L(null,ze,null,null,ze):Array.isArray(ze)?L(Q,{children:ze},null,null,null):ze.__b>0?L(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=ue,ze.__b=ue.__b+1,(re=Ot[me])===null||re&&ze.key==re.key&&ze.type===re.type)Ot[me]=void 0;else for($e=0;$e<Lt;$e++){if((re=Ot[$e])&&ze.key==re.key&&ze.type===re.type){Ot[$e]=void 0;break}re=null}ge(ee,ze,re=re||A,Me,xe,Qe,it,tt,Ve),lt=ze.__e,($e=ze.ref)&&re.ref!=$e&&(st||(st=[]),re.ref&&st.push(re.ref,null,ze),st.push($e,ze.__c||lt,ze)),lt!=null?(St==null&&(St=lt),typeof ze.type=="function"&&ze.__k===re.__k?ze.__d=tt=G(ze,tt,ee):tt=te(ee,ze,re,Ot,lt,tt),typeof ue.type=="function"&&(ue.__d=tt)):tt&&re.__e==tt&&tt.parentNode!=ee&&(tt=V(re))}for(ue.__e=St,me=Lt;me--;)Ot[me]!=null&&(typeof ue.type=="function"&&Ot[me].__e!=null&&Ot[me].__e==ue.__d&&(ue.__d=V(we,me+1)),je(Ot[me],Ot[me]));if(st)for(me=0;me<st.length;me++)be(st[me],st[++me],st[++me])}function G(ee,J,ue){for(var we,Me=ee.__k,xe=0;Me&&xe<Me.length;xe++)(we=Me[xe])&&(we.__=ee,J=typeof we.type=="function"?G(we,J,ue):te(ue,we,we,Me,we.__e,J));return J}function $(ee,J){return J=J||[],ee==null||typeof ee=="boolean"||(Array.isArray(ee)?ee.some(function(ue){$(ue,J)}):J.push(ee)),J}function te(ee,J,ue,we,Me,xe){var Qe,it,tt;if(J.__d!==void 0)Qe=J.__d,J.__d=void 0;else if(ue==null||Me!=xe||Me.parentNode==null)e:if(xe==null||xe.parentNode!==ee)ee.appendChild(Me),Qe=null;else{for(it=xe,tt=0;(it=it.nextSibling)&&tt<we.length;tt+=2)if(it==Me)break e;ee.insertBefore(Me,xe),Qe=xe}return Qe!==void 0?Qe:Me.nextSibling}function pe(ee,J,ue){J[0]==="-"?ee.setProperty(J,ue):ee[J]=ue==null?"":typeof ue!="number"||T.test(J)?ue:ue+"px"}function le(ee,J,ue,we,Me){var xe;e:if(J==="style")if(typeof ue=="string")ee.style.cssText=ue;else{if(typeof we=="string"&&(ee.style.cssText=we=""),we)for(J in we)ue&&J in ue||pe(ee.style,J,"");if(ue)for(J in ue)we&&ue[J]===we[J]||pe(ee.style,J,ue[J])}else if(J[0]==="o"&&J[1]==="n")xe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in ee?J.toLowerCase().slice(2):J.slice(2),ee.l||(ee.l={}),ee.l[J+xe]=ue,ue?we||ee.addEventListener(J,xe?Ee:ve,xe):ee.removeEventListener(J,xe?Ee:ve,xe);else if(J!=="dangerouslySetInnerHTML"){if(Me)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in ee)try{ee[J]=ue??"";break e}catch{}typeof ue=="function"||(ue!=null&&(ue!==!1||J[0]==="a"&&J[1]==="r")?ee.setAttribute(J,ue):ee.removeAttribute(J))}}function ve(ee){this.l[ee.type+!1](d.event?d.event(ee):ee)}function Ee(ee){this.l[ee.type+!0](d.event?d.event(ee):ee)}function ge(ee,J,ue,we,Me,xe,Qe,it,tt){var Ve,me,$e,re,ze,lt,St,st,Ot,Lt,Ft,ct=J.type;if(J.constructor!==void 0)return null;ue.__h!=null&&(tt=ue.__h,it=J.__e=ue.__e,J.__h=null,xe=[it]),(Ve=d.__b)&&Ve(J);try{e:if(typeof ct=="function"){if(st=J.props,Ot=(Ve=ct.contextType)&&we[Ve.__c],Lt=Ve?Ot?Ot.props.value:Ve.__:we,ue.__c?St=(me=J.__c=ue.__c).__=me.__E:("prototype"in ct&&ct.prototype.render?J.__c=me=new ct(st,Lt):(J.__c=me=new X(st,Lt),me.constructor=ct,me.render=Be),Ot&&Ot.sub(me),me.props=st,me.state||(me.state={}),me.context=Lt,me.__n=we,$e=me.__d=!0,me.__h=[]),me.__s==null&&(me.__s=me.state),ct.getDerivedStateFromProps!=null&&(me.__s==me.state&&(me.__s=P({},me.__s)),P(me.__s,ct.getDerivedStateFromProps(st,me.__s))),re=me.props,ze=me.state,$e)ct.getDerivedStateFromProps==null&&me.componentWillMount!=null&&me.componentWillMount(),me.componentDidMount!=null&&me.__h.push(me.componentDidMount);else{if(ct.getDerivedStateFromProps==null&&st!==re&&me.componentWillReceiveProps!=null&&me.componentWillReceiveProps(st,Lt),!me.__e&&me.shouldComponentUpdate!=null&&me.shouldComponentUpdate(st,me.__s,Lt)===!1||J.__v===ue.__v){me.props=st,me.state=me.__s,J.__v!==ue.__v&&(me.__d=!1),me.__v=J,J.__e=ue.__e,J.__k=ue.__k,J.__k.forEach(function(Yt){Yt&&(Yt.__=J)}),me.__h.length&&Qe.push(me);break e}me.componentWillUpdate!=null&&me.componentWillUpdate(st,me.__s,Lt),me.componentDidUpdate!=null&&me.__h.push(function(){me.componentDidUpdate(re,ze,lt)})}me.context=Lt,me.props=st,me.state=me.__s,(Ve=d.__r)&&Ve(J),me.__d=!1,me.__v=J,me.__P=ee,Ve=me.render(me.props,me.state,me.context),me.state=me.__s,me.getChildContext!=null&&(we=P(P({},we),me.getChildContext())),$e||me.getSnapshotBeforeUpdate==null||(lt=me.getSnapshotBeforeUpdate(re,ze)),Ft=Ve!=null&&Ve.type===Q&&Ve.key==null?Ve.props.children:Ve,B(ee,Array.isArray(Ft)?Ft:[Ft],J,ue,we,Me,xe,Qe,it,tt),me.base=J.__e,J.__h=null,me.__h.length&&Qe.push(me),St&&(me.__E=me.__=null),me.__e=!1}else xe==null&&J.__v===ue.__v?(J.__k=ue.__k,J.__e=ue.__e):J.__e=ye(ue.__e,J,ue,we,Me,xe,Qe,tt);(Ve=d.diffed)&&Ve(J)}catch(Yt){J.__v=null,(tt||xe!=null)&&(J.__e=it,J.__h=!!tt,xe[xe.indexOf(it)]=null),d.__e(Yt,J,ue)}}function se(ee,J){d.__c&&d.__c(J,ee),ee.some(function(ue){try{ee=ue.__h,ue.__h=[],ee.some(function(we){we.call(ue)})}catch(we){d.__e(we,ue.__v)}})}function ye(ee,J,ue,we,Me,xe,Qe,it){var tt,Ve,me,$e=ue.props,re=J.props,ze=J.type,lt=0;if(ze==="svg"&&(Me=!0),xe!=null){for(;lt<xe.length;lt++)if((tt=xe[lt])&&"setAttribute"in tt==!!ze&&(ze?tt.localName===ze:tt.nodeType===3)){ee=tt,xe[lt]=null;break}}if(ee==null){if(ze===null)return document.createTextNode(re);ee=Me?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,re.is&&re),xe=null,it=!1}if(ze===null)$e===re||it&&ee.data===re||(ee.data=re);else{if(xe=xe&&p.call(ee.childNodes),Ve=($e=ue.props||A).dangerouslySetInnerHTML,me=re.dangerouslySetInnerHTML,!it){if(xe!=null)for($e={},lt=0;lt<ee.attributes.length;lt++)$e[ee.attributes[lt].name]=ee.attributes[lt].value;(me||Ve)&&(me&&(Ve&&me.__html==Ve.__html||me.__html===ee.innerHTML)||(ee.innerHTML=me&&me.__html||""))}if(function(St,st,Ot,Lt,Ft){var ct;for(ct in Ot)ct==="children"||ct==="key"||ct in st||le(St,ct,null,Ot[ct],Lt);for(ct in st)Ft&&typeof st[ct]!="function"||ct==="children"||ct==="key"||ct==="value"||ct==="checked"||Ot[ct]===st[ct]||le(St,ct,st[ct],Ot[ct],Lt)}(ee,re,$e,Me,it),me)J.__k=[];else if(lt=J.props.children,B(ee,Array.isArray(lt)?lt:[lt],J,ue,we,Me&&ze!=="foreignObject",xe,Qe,xe?xe[0]:ue.__k&&V(ue,0),it),xe!=null)for(lt=xe.length;lt--;)xe[lt]!=null&&k(xe[lt]);it||("value"in re&&(lt=re.value)!==void 0&&(lt!==$e.value||lt!==ee.value||ze==="progress"&&!lt)&&le(ee,"value",lt,$e.value,!1),"checked"in re&&(lt=re.checked)!==void 0&&lt!==ee.checked&&le(ee,"checked",lt,$e.checked,!1))}return ee}function be(ee,J,ue){try{typeof ee=="function"?ee(J):ee.current=J}catch(we){d.__e(we,ue)}}function je(ee,J,ue){var we,Me;if(d.unmount&&d.unmount(ee),(we=ee.ref)&&(we.current&&we.current!==ee.__e||be(we,null,J)),(we=ee.__c)!=null){if(we.componentWillUnmount)try{we.componentWillUnmount()}catch(xe){d.__e(xe,J)}we.base=we.__P=null}if(we=ee.__k)for(Me=0;Me<we.length;Me++)we[Me]&&je(we[Me],J,typeof ee.type!="function");ue||ee.__e==null||k(ee.__e),ee.__e=ee.__d=void 0}function Be(ee,J,ue){return this.constructor(ee,ue)}function Ze(ee,J,ue){var we,Me,xe;d.__&&d.__(ee,J),Me=(we=typeof ue=="function")?null:ue&&ue.__k||J.__k,xe=[],ge(J,ee=(!we&&ue||J).__k=I(Q,null,[ee]),Me||A,A,J.ownerSVGElement!==void 0,!we&&ue?[ue]:Me?null:J.firstChild?p.call(J.childNodes):null,xe,!we&&ue?ue:Me?Me.__e:J.firstChild,we),se(xe,ee)}function Pe(ee,J){Ze(ee,J,Pe)}function Re(ee,J,ue){var we,Me,xe,Qe=P({},ee.props);for(xe in J)xe=="key"?we=J[xe]:xe=="ref"?Me=J[xe]:Qe[xe]=J[xe];return arguments.length>2&&(Qe.children=arguments.length>3?p.call(arguments,2):ue),L(ee.type,Qe,we||ee.key,Me||ee.ref,null)}function Je(ee,J){var ue={__c:J="__cC"+w++,__:ee,Consumer:function(we,Me){return we.children(Me)},Provider:function(we){var Me,xe;return this.getChildContext||(Me=[],(xe={})[J]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(Qe){this.props.value!==Qe.value&&Me.some(F)},this.sub=function(Qe){Me.push(Qe);var it=Qe.componentWillUnmount;Qe.componentWillUnmount=function(){Me.splice(Me.indexOf(Qe),1),it&&it.call(Qe)}}),we.children}};return ue.Provider.__=ue.Consumer.contextType=ue}p=j.slice,d={__e:function(ee,J){for(var ue,we,Me;J=J.__;)if((ue=J.__c)&&!ue.__)try{if((we=ue.constructor)&&we.getDerivedStateFromError!=null&&(ue.setState(we.getDerivedStateFromError(ee)),Me=ue.__d),ue.componentDidCatch!=null&&(ue.componentDidCatch(ee),Me=ue.__d),Me)return ue.__E=ue}catch(xe){ee=xe}throw ee}},v=0,X.prototype.setState=function(ee,J){var ue;ue=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof ee=="function"&&(ee=ee(P({},ue),this.props)),ee&&P(ue,ee),ee!=null&&this.__v&&(J&&this.__h.push(J),F(this))},X.prototype.forceUpdate=function(ee){this.__v&&(this.__e=!0,ee&&this.__h.push(ee),F(this))},X.prototype.render=Q,g=[],O=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,w=0},function(a,l,i){(function(p,d){i.d(l,"a",function(){return F}),i.d(l,"b",function(){return ia}),i.d(l,"c",function(){return dr}),i.d(l,"d",function(){return rt}),i.d(l,"e",function(){return Ne}),i.d(l,"f",function(){return De}),i.d(l,"g",function(){return Ke}),i.d(l,"h",function(){return mo}),i.d(l,"i",function(){return Ft}),i.d(l,"j",function(){return Fe}),i.d(l,"k",function(){return jr}),i.d(l,"l",function(){return na}),i.d(l,"m",function(){return St}),i.d(l,"n",function(){return vo}),i.d(l,"o",function(){return G}),i.d(l,"p",function(){return mu}),i.d(l,"q",function(){return Ar}),i.d(l,"r",function(){return yu}),i.d(l,"s",function(){return $n}),i.d(l,"t",function(){return zo}),i.d(l,"u",function(){return ui}),i.d(l,"v",function(){return Lc}),i.d(l,"w",function(){return gu}),i.d(l,"x",function(){return Go}),i.d(l,"y",function(){return er}),i.d(l,"z",function(){return Jt}),i.d(l,"A",function(){return Nn}),i.d(l,"B",function(){return Pr}),i.d(l,"C",function(){return Ve}),i.d(l,"D",function(){return _u}),i.d(l,"E",function(){return yo}),i.d(l,"F",function(){return ho}),i.d(l,"G",function(){return Cc}),i.d(l,"H",function(){return uu}),i.d(l,"I",function(){return zc}),i.d(l,"J",function(){return Gn}),i.d(l,"K",function(){return ie}),i.d(l,"L",function(){return hn}),i.d(l,"M",function(){return Ou});var v=[];Object.freeze(v);var g={};function O(){return++He.mobxGuid}function x(m){throw w(!1,m),"X"}function w(m,b){if(!m)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function A(m){var b=!1;return function(){if(!b)return b=!0,m.apply(this,arguments)}}var j=function(){};function T(m){return m!==null&&typeof m=="object"}function P(m){if(m===null||typeof m!="object")return!1;var b=Object.getPrototypeOf(m);return b===Object.prototype||b===null}function k(m,b,S){Object.defineProperty(m,b,{enumerable:!1,writable:!0,configurable:!0,value:S})}function I(m,b){var S="isMobX"+m;return b.prototype[S]=!0,function(N){return T(N)&&N[S]===!0}}function L(m){return m instanceof Map}function Y(m){return m instanceof Set}function Q(m){var b=new Set;for(var S in m)b.add(S);return Object.getOwnPropertySymbols(m).forEach(function(N){Object.getOwnPropertyDescriptor(m,N).enumerable&&b.add(N)}),Array.from(b)}function X(m){return m&&m.toString?m.toString():new String(m).toString()}function V(m){return m===null?null:typeof m=="object"?""+m:m}var Z=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames,F=Symbol("mobx administration"),R=function(){function m(b){b===void 0&&(b="Atom@"+O()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=$e.NOT_TRACKING}return m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.reportObserved=function(){return iu(this)},m.prototype.reportChanged=function(){zn(),function(b){b.lowestObserverState!==$e.STALE&&(b.lowestObserverState=$e.STALE,b.observers.forEach(function(S){S.dependenciesState===$e.UP_TO_DATE&&(S.isTracing!==re.NONE&&Sr(S,b),S.onBecomeStale()),S.dependenciesState=$e.STALE}))}(this),Fn()},m.prototype.toString=function(){return this.name},m}(),B=I("Atom",R);function G(m,b,S){b===void 0&&(b=j),S===void 0&&(S=j);var N,U=new R(m);return b!==j&&lu("onBecomeObserved",U,b,N),S!==j&&yo(U,S),U}var $={identity:function(m,b){return m===b},structural:function(m,b){return ua(m,b)},default:function(m,b){return Object.is(m,b)},shallow:function(m,b){return ua(m,b,1)}},te=function(m,b){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var U in N)N.hasOwnProperty(U)&&(S[U]=N[U])},te(m,b)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var pe=function(){return pe=Object.assign||function(m){for(var b,S=1,N=arguments.length;S<N;S++)for(var U in b=arguments[S])Object.prototype.hasOwnProperty.call(b,U)&&(m[U]=b[U]);return m},pe.apply(this,arguments)};function le(m){var b=typeof Symbol=="function"&&m[Symbol.iterator],S=0;return b?b.call(m):{next:function(){return m&&S>=m.length&&(m=void 0),{value:m&&m[S++],done:!m}}}}function ve(m,b){var S=typeof Symbol=="function"&&m[Symbol.iterator];if(!S)return m;var N,U,ne=S.call(m),he=[];try{for(;(b===void 0||b-- >0)&&!(N=ne.next()).done;)he.push(N.value)}catch(Ae){U={error:Ae}}finally{try{N&&!N.done&&(S=ne.return)&&S.call(ne)}finally{if(U)throw U.error}}return he}function Ee(){for(var m=[],b=0;b<arguments.length;b++)m=m.concat(ve(arguments[b]));return m}var ge=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),ye={},be={};function je(m,b){var S=b?ye:be;return S[m]||(S[m]={configurable:!0,enumerable:b,get:function(){return Be(this),this[m]},set:function(N){Be(this),this[m]=N}})}function Be(m){var b,S;if(m[ge]!==!0){var N=m[se];if(N){k(m,ge,!0);var U=Ee(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var ne=le(U),he=ne.next();!he.done;he=ne.next()){var Ae=N[he.value];Ae.propertyCreator(m,Ae.prop,Ae.descriptor,Ae.decoratorTarget,Ae.decoratorArguments)}}catch(Ue){b={error:Ue}}finally{try{he&&!he.done&&(S=ne.return)&&S.call(ne)}finally{if(b)throw b.error}}}}}function Ze(m,b){return function(){var S,N=function(U,ne,he,Ae){if(Ae===!0)return b(U,ne,he,U,S),null;if(!Object.prototype.hasOwnProperty.call(U,se)){var Ue=U[se];k(U,se,pe({},Ue))}return U[se][ne]={prop:ne,propertyCreator:b,descriptor:he,decoratorTarget:U,decoratorArguments:S},je(ne,m)};return Pe(arguments)?(S=v,N.apply(null,arguments)):(S=Array.prototype.slice.call(arguments),N)}}function Pe(m){return(m.length===2||m.length===3)&&(typeof m[1]=="string"||typeof m[1]=="symbol")||m.length===4&&m[3]===!0}function Re(m,b,S){return Go(m)?m:Array.isArray(m)?Ve.array(m,{name:S}):P(m)?Ve.object(m,void 0,{name:S}):L(m)?Ve.map(m,{name:S}):Y(m)?Ve.set(m,{name:S}):m}function Je(m){return m}function ee(m){w(m);var b=Ze(!0,function(N,U,ne,he,Ae){var Ue=ne?ne.initializer?ne.initializer.call(N):ne.value:void 0;$o(N).addObservableProp(U,Ue,m)}),S=(p!==void 0&&p.env,b);return S.enhancer=m,S}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ue(m){return m==null?J:typeof m=="string"?{name:m,deep:!0,proxy:!0}:m}Object.freeze(J);var we=ee(Re),Me=ee(function(m,b,S){return m==null||Nn(m)||er(m)||Jt(m)||Dn(m)?m:Array.isArray(m)?Ve.array(m,{name:S,deep:!1}):P(m)?Ve.object(m,void 0,{name:S,deep:!1}):L(m)?Ve.map(m,{name:S,deep:!1}):Y(m)?Ve.set(m,{name:S,deep:!1}):x(!1)}),xe=ee(Je),Qe=ee(function(m,b,S){return ua(m,b)?b:m});function it(m){return m.defaultDecorator?m.defaultDecorator.enhancer:m.deep===!1?Je:Re}var tt={box:function(m,b){arguments.length>2&&me("box");var S=ue(b);return new Wt(m,it(S),S.name,!0,S.equals)},array:function(m,b){arguments.length>2&&me("array");var S=ue(b);return oa(m,it(S),S.name)},map:function(m,b){arguments.length>2&&me("map");var S=ue(b);return new ia(m,it(S),S.name)},set:function(m,b){arguments.length>2&&me("set");var S=ue(b);return new li(m,it(S),S.name)},object:function(m,b,S){typeof arguments[1]=="string"&&me("object");var N=ue(S);if(N.proxy===!1)return Ar({},m,b,N);var U=fu(N),ne=Ar({},void 0,void 0,N),he=Gc(ne);return pu(he,m,b,U),he},ref:xe,shallow:Me,deep:we,struct:Qe},Ve=function(m,b,S){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return we.apply(null,arguments);if(Go(m))return m;var N=P(m)?Ve.object(m,b,S):Array.isArray(m)?Ve.array(m,b):L(m)?Ve.map(m,b):Y(m)?Ve.set(m,b):m;if(N!==m)return N;x(!1)};function me(m){x("Expected one or two arguments to observable."+m+". Did you accidentally try to use observable."+m+" as decorator?")}Object.keys(tt).forEach(function(m){return Ve[m]=tt[m]});var $e,re,ze=Ze(!1,function(m,b,S,N,U){var ne=S.get,he=S.set,Ae=U[0]||{};$o(m).addComputedProp(m,b,pe({get:ne,set:he,context:m},Ae))}),lt=ze({equals:$.structural}),St=function(m,b,S){if(typeof b=="string"||m!==null&&typeof m=="object"&&arguments.length===1)return ze.apply(null,arguments);var N=typeof b=="object"?b:{};return N.get=m,N.set=typeof b=="function"?b:N.set,N.name=N.name||m.name||"",new xr(N)};St.struct=lt,function(m){m[m.NOT_TRACKING=-1]="NOT_TRACKING",m[m.UP_TO_DATE=0]="UP_TO_DATE",m[m.POSSIBLY_STALE=1]="POSSIBLY_STALE",m[m.STALE=2]="STALE"}($e||($e={})),function(m){m[m.NONE=0]="NONE",m[m.LOG=1]="LOG",m[m.BREAK=2]="BREAK"}(re||(re={}));var st=function(m){this.cause=m};function Ot(m){return m instanceof st}function Lt(m){switch(m.dependenciesState){case $e.UP_TO_DATE:return!1;case $e.NOT_TRACKING:case $e.STALE:return!0;case $e.POSSIBLY_STALE:for(var b=De(!0),S=K(),N=m.observing,U=N.length,ne=0;ne<U;ne++){var he=N[ne];if(Er(he)){if(He.disableErrorBoundaries)he.get();else try{he.get()}catch{return ce(S),Ne(b),!0}if(m.dependenciesState===$e.STALE)return ce(S),Ne(b),!0}}return Xe(m),ce(S),Ne(b),!1}}function Ft(){return He.trackingDerivation!==null}function ct(m){var b=m.observers.size>0;He.computationDepth>0&&b&&x(!1),He.allowStateChanges||!b&&He.enforceActions!=="strict"||x(!1)}function Yt(m,b,S){var N=De(!0);Xe(m),m.newObserving=new Array(m.observing.length+100),m.unboundDepsCount=0,m.runId=++He.runId;var U,ne=He.trackingDerivation;if(He.trackingDerivation=m,He.disableErrorBoundaries===!0)U=b.call(S);else try{U=b.call(S)}catch(he){U=new st(he)}return He.trackingDerivation=ne,function(he){for(var Ae=he.observing,Ue=he.observing=he.newObserving,bt=$e.UP_TO_DATE,ut=0,Dt=he.unboundDepsCount,dt=0;dt<Dt;dt++)(Pt=Ue[dt]).diffValue===0&&(Pt.diffValue=1,ut!==dt&&(Ue[ut]=Pt),ut++),Pt.dependenciesState>bt&&(bt=Pt.dependenciesState);for(Ue.length=ut,he.newObserving=null,Dt=Ae.length;Dt--;)(Pt=Ae[Dt]).diffValue===0&&ru(Pt,he),Pt.diffValue=0;for(;ut--;){var Pt;(Pt=Ue[ut]).diffValue===1&&(Pt.diffValue=0,Tc(Pt,he))}bt!==$e.UP_TO_DATE&&(he.dependenciesState=bt,he.onBecomeStale())}(m),Ne(N),U}function W(m){var b=m.observing;m.observing=[];for(var S=b.length;S--;)ru(b[S],m);m.dependenciesState=$e.NOT_TRACKING}function ie(m){var b=K();try{return m()}finally{ce(b)}}function K(){var m=He.trackingDerivation;return He.trackingDerivation=null,m}function ce(m){He.trackingDerivation=m}function De(m){var b=He.allowStateReads;return He.allowStateReads=m,b}function Ne(m){He.allowStateReads=m}function Xe(m){if(m.dependenciesState!==$e.UP_TO_DATE){m.dependenciesState=$e.UP_TO_DATE;for(var b=m.observing,S=b.length;S--;)b[S].lowestObserverState=$e.UP_TO_DATE}}var vt=0,nn=1,fn=Object.getOwnPropertyDescriptor(function(){},"name");fn&&fn.configurable;function Vt(m,b,S){var N=function(){return Zt(m,b,S||this,arguments)};return N.isMobxAction=!0,N}function Zt(m,b,S,N){var U=Fe();try{return b.apply(S,N)}catch(ne){throw U.error=ne,ne}finally{Ke(U)}}function Fe(m,b,S){var N=0,U=K();zn();var ne={prevDerivation:U,prevAllowStateChanges:at(!0),prevAllowStateReads:De(!0),notifySpy:!1,startTime:N,actionId:nn++,parentActionId:vt};return vt=ne.actionId,ne}function Ke(m){vt!==m.actionId&&x("invalid action stack. did you forget to finish an action?"),vt=m.parentActionId,m.error!==void 0&&(He.suppressReactionErrors=!0),kt(m.prevAllowStateChanges),Ne(m.prevAllowStateReads),Fn(),ce(m.prevDerivation),m.notifySpy,He.suppressReactionErrors=!1}function rt(m,b){var S,N=at(m);try{S=b()}finally{kt(N)}return S}function at(m){var b=He.allowStateChanges;return He.allowStateChanges=m,b}function kt(m){He.allowStateChanges=m}var Wt=function(m){function b(S,N,U,ne,he){U===void 0&&(U="ObservableValue@"+O()),he===void 0&&(he=$.default);var Ae=m.call(this,U)||this;return Ae.enhancer=N,Ae.name=U,Ae.equals=he,Ae.hasUnreportedChange=!1,Ae.value=N(S,void 0,U),Ae}return function(S,N){function U(){this.constructor=S}te(S,N),S.prototype=N===null?Object.create(N):(U.prototype=N.prototype,new U)}(b,m),b.prototype.dehanceValue=function(S){return this.dehancer!==void 0?this.dehancer(S):S},b.prototype.set=function(S){this.value,(S=this.prepareNewValue(S))!==He.UNCHANGED&&this.setNewValue(S)},b.prototype.prepareNewValue=function(S){if(ct(this),_n(this)){var N=xt(this,{object:this,type:"update",newValue:S});if(!N)return He.UNCHANGED;S=N.newValue}return S=this.enhancer(S,this.value,this.name),this.equals(this.value,S)?He.UNCHANGED:S},b.prototype.setNewValue=function(S){var N=this.value;this.value=S,this.reportChanged(),Un(this)&&pn(this,{type:"update",object:this,newValue:S,oldValue:N})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(S){return Xr(this,S)},b.prototype.observe=function(S,N){return N&&S({object:this,type:"update",newValue:this.value,oldValue:void 0}),Yr(this,S)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return V(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(R),$r=I("ObservableValue",Wt),xr=function(){function m(b){this.dependenciesState=$e.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=$e.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+O(),this.value=new st(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=re.NONE,w(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+O(),b.set&&(this.setter=Vt(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?$.structural:$.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return m.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===$e.UP_TO_DATE&&(b.lowestObserverState=$e.POSSIBLY_STALE,b.observers.forEach(function(S){S.dependenciesState===$e.UP_TO_DATE&&(S.dependenciesState=$e.POSSIBLY_STALE,S.isTracing!==re.NONE&&Sr(S,b),S.onBecomeStale())}))})(this)},m.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},m.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},m.prototype.get=function(){this.isComputing&&x("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch!==0||this.observers.size!==0||this.keepAlive?(iu(this),Lt(this)&&this.trackAndCompute()&&function(S){S.lowestObserverState!==$e.STALE&&(S.lowestObserverState=$e.STALE,S.observers.forEach(function(N){N.dependenciesState===$e.POSSIBLY_STALE?N.dependenciesState=$e.STALE:N.dependenciesState===$e.UP_TO_DATE&&(S.lowestObserverState=$e.UP_TO_DATE)}))}(this)):Lt(this)&&(this.warnAboutUntrackedRead(),zn(),this.value=this.computeValue(!1),Fn());var b=this.value;if(Ot(b))throw b.cause;return b},m.prototype.peek=function(){var b=this.computeValue(!1);if(Ot(b))throw b.cause;return b},m.prototype.set=function(b){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else w(!1,!1)},m.prototype.trackAndCompute=function(){var b=this.value,S=this.dependenciesState===$e.NOT_TRACKING,N=this.computeValue(!0),U=S||Ot(b)||Ot(N)||!this.equals(b,N);return U&&(this.value=N),U},m.prototype.computeValue=function(b){var S;if(this.isComputing=!0,He.computationDepth++,b)S=Yt(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)S=this.derivation.call(this.scope);else try{S=this.derivation.call(this.scope)}catch(N){S=new st(N)}return He.computationDepth--,this.isComputing=!1,S},m.prototype.suspend=function(){this.keepAlive||(W(this),this.value=void 0)},m.prototype.observe=function(b,S){var N=this,U=!0,ne=void 0;return na(function(){var he=N.get();if(!U||S){var Ae=K();b({type:"update",object:N,newValue:he,oldValue:ne}),ce(Ae)}U=!1,ne=he})},m.prototype.warnAboutUntrackedRead=function(){},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},m.prototype.valueOf=function(){return V(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(),Er=I("ComputedValue",xr),Bo=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Mc={};function Qi(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:Mc}var qn=!0,nu=!1,He=function(){var m=Qi();return m.__mobxInstanceCount>0&&!m.__mobxGlobals&&(qn=!1),m.__mobxGlobals&&m.__mobxGlobals.version!==new Bo().version&&(qn=!1),qn?m.__mobxGlobals?(m.__mobxInstanceCount+=1,m.__mobxGlobals.UNCHANGED||(m.__mobxGlobals.UNCHANGED={}),m.__mobxGlobals):(m.__mobxInstanceCount=1,m.__mobxGlobals=new Bo):(setTimeout(function(){nu||x("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Bo)}();function Tc(m,b){m.observers.add(b),m.lowestObserverState>b.dependenciesState&&(m.lowestObserverState=b.dependenciesState)}function ru(m,b){m.observers.delete(b),m.observers.size===0&&ou(m)}function ou(m){m.isPendingUnobservation===!1&&(m.isPendingUnobservation=!0,He.pendingUnobservations.push(m))}function zn(){He.inBatch++}function Fn(){if(--He.inBatch==0){au();for(var m=He.pendingUnobservations,b=0;b<m.length;b++){var S=m[b];S.isPendingUnobservation=!1,S.observers.size===0&&(S.isBeingObserved&&(S.isBeingObserved=!1,S.onBecomeUnobserved()),S instanceof xr&&S.suspend())}He.pendingUnobservations=[]}}function iu(m){var b=He.trackingDerivation;return b!==null?(b.runId!==m.lastAccessedBy&&(m.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=m,m.isBeingObserved||(m.isBeingObserved=!0,m.onBecomeObserved())),!0):(m.observers.size===0&&He.inBatch>0&&ou(m),!1)}function Sr(m,b){if(m.isTracing===re.BREAK){var S=[];po(zo(m),S,1),new Function(`debugger;
/*
Tracing '`+m.name+`'

You are entering this break point because derivation '`+m.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(m instanceof xr?m.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+S.join(`
`)+`
*/
    `)()}}function po(m,b,S){b.length>=1e3?b.push("(and many more)"):(b.push(""+new Array(S).join("	")+m.name),m.dependencies&&m.dependencies.forEach(function(N){return po(N,b,S+1)}))}var dr=function(){function m(b,S,N,U){b===void 0&&(b="Reaction@"+O()),U===void 0&&(U=!1),this.name=b,this.onInvalidate=S,this.errorHandler=N,this.requiresObservable=U,this.observing=[],this.newObserving=[],this.dependenciesState=$e.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+O(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=re.NONE}return m.prototype.onBecomeStale=function(){this.schedule()},m.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),au())},m.prototype.isScheduled=function(){return this._isScheduled},m.prototype.runReaction=function(){if(!this.isDisposed){if(zn(),this._isScheduled=!1,Lt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}Fn()}},m.prototype.track=function(b){if(!this.isDisposed){zn(),this._isRunning=!0;var S=Yt(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&W(this),Ot(S)&&this.reportExceptionInDerivation(S.cause),Fn()}},m.prototype.reportExceptionInDerivation=function(b){var S=this;if(this.errorHandler)this.errorHandler(b,this);else{if(He.disableErrorBoundaries)throw b;He.suppressReactionErrors,He.globalReactionErrorHandlers.forEach(function(N){return N(b,S)})}},m.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(zn(),W(this),Fn()))},m.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[F]=this,b},m.prototype.toString=function(){return"Reaction["+this.name+"]"},m.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];var U=!1;typeof S[S.length-1]=="boolean"&&(U=S.pop());var ne=Jn(S);if(!ne)return x(!1);ne.isTracing,re.NONE,ne.isTracing=U?re.BREAK:re.LOG}(this,b)},m}(),ea=function(m){return m()};function au(){He.inBatch>0||He.isRunningReactions||ea(kc)}function kc(){He.isRunningReactions=!0;for(var m=He.pendingReactions,b=0;m.length>0;){++b==100&&m.splice(0);for(var S=m.splice(0),N=0,U=S.length;N<U;N++)S[N].runReaction()}He.isRunningReactions=!1}var ai=I("Reaction",dr);function Dc(m){var b=ea;ea=function(S){return m(function(){return b(S)})}}function uu(m){return function(){}}function Nc(){x(!1)}function Wr(m){return function(b,S,N){if(N){if(N.value)return{value:Vt(m,N.value),enumerable:!1,configurable:!0,writable:!0};var U=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Vt(m,U.call(this))}}}return su(m).apply(this,arguments)}}function su(m){return function(b,S,N){Object.defineProperty(b,S,{configurable:!0,enumerable:!1,get:function(){},set:function(U){k(this,S,jr(m,U))}})}}var jr=function(m,b,S,N){return arguments.length===1&&typeof m=="function"?Vt(m.name||"<unnamed action>",m):arguments.length===2&&typeof b=="function"?Vt(m,b):arguments.length===1&&typeof m=="string"?Wr(m):N!==!0?Wr(b).apply(null,arguments):void k(m,b,Vt(m.name||b,S.value,this))};function Cc(m,b){return Zt(typeof m=="string"?m:m.name||"<unnamed action>",typeof m=="function"?m:b,this,void 0)}function ui(m){return typeof m=="function"&&m.isMobxAction===!0}function ta(m,b,S){k(m,b,Vt(b,S.bind(m)))}function na(m,b){b===void 0&&(b=g);var S,N=b&&b.name||m.name||"Autorun@"+O();if(!b.scheduler&&!b.delay)S=new dr(N,function(){this.track(he)},b.onError,b.requiresObservable);else{var U=cu(b),ne=!1;S=new dr(N,function(){ne||(ne=!0,U(function(){ne=!1,S.isDisposed||S.track(he)}))},b.onError,b.requiresObservable)}function he(){m(S)}return S.schedule(),S.getDisposer()}jr.bound=function(m,b,S,N){return N===!0?(ta(m,b,S.value),null):S?{configurable:!0,enumerable:!1,get:function(){return ta(this,b,S.value||S.initializer.call(this)),this[b]},set:Nc}:{enumerable:!1,configurable:!0,set:function(U){ta(this,b,U)},get:function(){}}};var Rc=function(m){return m()};function cu(m){return m.scheduler?m.scheduler:m.delay?function(b){return setTimeout(b,m.delay)}:Rc}function ho(m,b,S){S===void 0&&(S=g);var N,U,ne,he=S.name||"Reaction@"+O(),Ae=jr(he,S.onError?(N=S.onError,U=b,function(){try{return U.apply(this,arguments)}catch(Ut){N.call(this,Ut)}}):b),Ue=!S.scheduler&&!S.delay,bt=cu(S),ut=!0,Dt=!1,dt=S.compareStructural?$.structural:S.equals||$.default,Pt=new dr(he,function(){ut||Ue?Wn():Dt||(Dt=!0,bt(Wn))},S.onError,S.requiresObservable);function Wn(){if(Dt=!1,!Pt.isDisposed){var Ut=!1;Pt.track(function(){var On=m(Pt);Ut=ut||!dt(ne,On),ne=On}),ut&&S.fireImmediately&&Ae(ne,Pt),ut||Ut!==!0||Ae(ne,Pt),ut&&(ut=!1)}}return Pt.schedule(),Pt.getDisposer()}function yo(m,b,S){return lu("onBecomeUnobserved",m,b,S)}function lu(m,b,S,N){var U=typeof N=="function"?$n(b,S):$n(b),ne=typeof N=="function"?N:S,he=m+"Listeners";return U[he]?U[he].add(ne):U[he]=new Set([ne]),typeof U[m]!="function"?x(!1):function(){var Ae=U[he];Ae&&(Ae.delete(ne),Ae.size===0&&delete U[he])}}function vo(m){var b=m.enforceActions,S=m.computedRequiresReaction,N=m.computedConfigurable,U=m.disableErrorBoundaries,ne=m.reactionScheduler,he=m.reactionRequiresObservable,Ae=m.observableRequiresReaction;if(m.isolateGlobalState===!0&&((He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&x("isolateGlobalState should be called before MobX is running any reactions"),nu=!0,qn&&(--Qi().__mobxInstanceCount==0&&(Qi().__mobxGlobals=void 0),He=new Bo)),b!==void 0){var Ue=void 0;switch(b){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:x("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=Ue!==!0&&Ue!=="strict"}S!==void 0&&(He.computedRequiresReaction=!!S),he!==void 0&&(He.reactionRequiresObservable=!!he),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),N!==void 0&&(He.computedConfigurable=!!N),U!==void 0&&(He.disableErrorBoundaries=!!U),ne&&Dc(ne)}function Ar(m,b,S,N){var U=fu(N=ue(N));return Be(m),$o(m,N.name,U.enhancer),b&&pu(m,b,S,U),m}function fu(m){return m.defaultDecorator||(m.deep===!1?xe:we)}function pu(m,b,S,N){var U,ne;zn();try{var he=Z(b);try{for(var Ae=le(he),Ue=Ae.next();!Ue.done;Ue=Ae.next()){var bt=Ue.value,ut=Object.getOwnPropertyDescriptor(b,bt),Dt=(S&&bt in S?S[bt]:ut.get?ze:N)(m,bt,ut,!0);Dt&&Object.defineProperty(m,bt,Dt)}}catch(dt){U={error:dt}}finally{try{Ue&&!Ue.done&&(ne=Ae.return)&&ne.call(Ae)}finally{if(U)throw U.error}}}finally{Fn()}}function zo(m,b){return du($n(m,b))}function du(m){var b,S,N={name:m.name};return m.observing&&m.observing.length>0&&(N.dependencies=(b=m.observing,S=[],b.forEach(function(U){S.indexOf(U)===-1&&S.push(U)}),S).map(du)),N}var Ic=0;function hu(){this.message="FLOW_CANCELLED"}function yu(m){arguments.length!==1&&x("Flow expects 1 argument and cannot be used as decorator");var b=m.name||"<unnamed flow>";return function(){var S,N=this,U=arguments,ne=++Ic,he=jr(b+" - runid: "+ne+" - init",m).apply(N,U),Ae=void 0,Ue=new Promise(function(bt,ut){var Dt=0;function dt(Ut){var On;Ae=void 0;try{On=jr(b+" - runid: "+ne+" - yield "+Dt++,he.next).call(he,Ut)}catch(Wo){return ut(Wo)}Wn(On)}function Pt(Ut){var On;Ae=void 0;try{On=jr(b+" - runid: "+ne+" - yield "+Dt++,he.throw).call(he,Ut)}catch(Wo){return ut(Wo)}Wn(On)}function Wn(Ut){if(!Ut||typeof Ut.then!="function")return Ut.done?bt(Ut.value):(Ae=Promise.resolve(Ut.value)).then(dt,Pt);Ut.then(Wn,ut)}S=ut,dt(void 0)});return Ue.cancel=jr(b+" - runid: "+ne+" - cancel",function(){try{Ae&&Fo(Ae);var bt=he.return(void 0),ut=Promise.resolve(bt.value);ut.then(j,j),Fo(ut),S(new hu)}catch(Dt){S(Dt)}}),Ue}}function Fo(m){typeof m.cancel=="function"&&m.cancel()}function vu(m,b){if(m==null)return!1;if(b!==void 0){if(Nn(m)===!1||!m[F].values.has(b))return!1;var S=$n(m,b);return Er(S)}return Er(m)}function Lc(m){return arguments.length>1?x(!1):vu(m)}function gu(m,b){return typeof b!="string"?x(!1):vu(m,b)}function ra(m,b){return m!=null&&(b!==void 0?!!Nn(m)&&m[F].values.has(b):Nn(m)||!!m[F]||B(m)||ai(m)||Er(m))}function Go(m){return arguments.length!==1&&x(!1),ra(m)}function Pr(m){return Nn(m)?m[F].getKeys():Jt(m)||Dn(m)?Array.from(m.keys()):er(m)?m.map(function(b,S){return S}):x(!1)}function hn(m){return Nn(m)?Pr(m).map(function(b){return m[b]}):Jt(m)?Pr(m).map(function(b){return m.get(b)}):Dn(m)?Array.from(m.values()):er(m)?m.slice():x(!1)}function mu(m){return Nn(m)?Pr(m).map(function(b){return[b,m[b]]}):Jt(m)?Pr(m).map(function(b){return[b,m.get(b)]}):Dn(m)?Array.from(m.entries()):er(m)?m.map(function(b,S){return[S,b]}):x(!1)}function bu(m,b,S){if(arguments.length!==2||Dn(m))if(Nn(m)){var N=m[F],U=N.values.get(b);U?N.write(b,S):N.addObservableProp(b,S,N.defaultEnhancer)}else if(Jt(m))m.set(b,S);else if(Dn(m))m.add(b);else{if(!er(m))return x(!1);typeof b!="number"&&(b=parseInt(b,10)),w(b>=0,"Not a valid index: '"+b+"'"),zn(),b>=m.length&&(m.length=b+1),m[b]=S,Fn()}else{zn();var ne=b;try{for(var he in ne)bu(m,he,ne[he])}finally{Fn()}}}function _u(m,b,S,N){return typeof S=="function"?function(U,ne,he,Ae){return mo(U,ne).observe(he,Ae)}(m,b,S,N):function(U,ne,he){return mo(U).observe(ne,he)}(m,b,S)}hu.prototype=Object.create(Error.prototype);var Bc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Hr(m,b,S,N){return N.detectCycles&&m.set(b,S),S}function Zn(m,b,S){if(!b.recurseEverything&&!Go(m)||typeof m!="object")return m;if(m===null)return null;if(m instanceof Date)return m;if($r(m))return Zn(m.get(),b,S);if(Go(m)&&Pr(m),b.detectCycles===!0&&m!==null&&S.has(m))return S.get(m);if(er(m)||Array.isArray(m)){var N=Hr(S,m,[],b),U=m.map(function(dt){return Zn(dt,b,S)});N.length=U.length;for(var ne=0,he=U.length;ne<he;ne++)N[ne]=U[ne];return N}if(Dn(m)||Object.getPrototypeOf(m)===Set.prototype){if(b.exportMapsAsObjects===!1){var Ae=Hr(S,m,new Set,b);return m.forEach(function(dt){Ae.add(Zn(dt,b,S))}),Ae}var Ue=Hr(S,m,[],b);return m.forEach(function(dt){Ue.push(Zn(dt,b,S))}),Ue}if(Jt(m)||Object.getPrototypeOf(m)===Map.prototype){if(b.exportMapsAsObjects===!1){var bt=Hr(S,m,new Map,b);return m.forEach(function(dt,Pt){bt.set(Pt,Zn(dt,b,S))}),bt}var ut=Hr(S,m,{},b);return m.forEach(function(dt,Pt){ut[Pt]=Zn(dt,b,S)}),ut}var Dt=Hr(S,m,{},b);return Q(m).forEach(function(dt){Dt[dt]=Zn(m[dt],b,S)}),Dt}function zc(m,b){var S;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=Bc),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(S=new Map),Zn(m,b,S)}function Jn(m){switch(m.length){case 0:return He.trackingDerivation;case 1:return $n(m[0]);case 2:return $n(m[0],m[1])}}function Gn(m,b){b===void 0&&(b=void 0),zn();try{return m.apply(b)}finally{Fn()}}function Ou(m,b,S){return arguments.length===1||b&&typeof b=="object"?Fc(m,b):wu(m,b,S||{})}function wu(m,b,S){var N;typeof S.timeout=="number"&&(N=setTimeout(function(){if(!ne[F].isDisposed){ne();var he=new Error("WHEN_TIMEOUT");if(!S.onError)throw he;S.onError(he)}},S.timeout)),S.name=S.name||"When@"+O();var U=Vt(S.name+"-effect",b),ne=na(function(he){m()&&(he.dispose(),N&&clearTimeout(N),U())},S);return ne}function Fc(m,b){var S,N=new Promise(function(U,ne){var he=wu(m,U,pe(pe({},b),{onError:ne}));S=function(){he(),ne("WHEN_CANCELLED")}});return N.cancel=S,N}function si(m){return m[F]}function Mr(m){return typeof m=="string"||typeof m=="number"||typeof m=="symbol"}var Uo={has:function(m,b){if(b===F||b==="constructor"||b===ge)return!0;var S=si(m);return Mr(b)?S.has(b):b in m},get:function(m,b){if(b===F||b==="constructor"||b===ge)return m[b];var S=si(m),N=S.values.get(b);if(N instanceof R){var U=N.get();return U===void 0&&S.has(b),U}return Mr(b)&&S.has(b),m[b]},set:function(m,b,S){return!!Mr(b)&&(bu(m,b,S),!0)},deleteProperty:function(m,b){return!!Mr(b)&&(si(m).remove(b),!0)},ownKeys:function(m){return si(m).keysAtom.reportObserved(),Reflect.ownKeys(m)},preventExtensions:function(m){return x("Dynamic observable objects cannot be frozen"),!1}};function Gc(m){var b=new Proxy(m,Uo);return m[F].proxy=b,b}function _n(m){return m.interceptors!==void 0&&m.interceptors.length>0}function Xr(m,b){var S=m.interceptors||(m.interceptors=[]);return S.push(b),A(function(){var N=S.indexOf(b);N!==-1&&S.splice(N,1)})}function xt(m,b){var S=K();try{for(var N=Ee(m.interceptors||[]),U=0,ne=N.length;U<ne&&(w(!(b=N[U](b))||b.type,"Intercept handlers should return nothing or a change object"),b);U++);return b}finally{ce(S)}}function Un(m){return m.changeListeners!==void 0&&m.changeListeners.length>0}function Yr(m,b){var S=m.changeListeners||(m.changeListeners=[]);return S.push(b),A(function(){var N=S.indexOf(b);N!==-1&&S.splice(N,1)})}function pn(m,b){var S=K(),N=m.changeListeners;if(N){for(var U=0,ne=(N=N.slice()).length;U<ne;U++)N[U](b);ce(S)}}var xu={get:function(m,b){return b===F?m[F]:b==="length"?m[F].getArrayLength():typeof b=="number"?Qn.get.call(m,b):typeof b!="string"||isNaN(b)?Qn.hasOwnProperty(b)?Qn[b]:m[b]:Qn.get.call(m,parseInt(b))},set:function(m,b,S){return b==="length"&&m[F].setArrayLength(S),typeof b=="number"&&Qn.set.call(m,b,S),typeof b=="symbol"||isNaN(b)?m[b]=S:Qn.set.call(m,parseInt(b),S),!0},preventExtensions:function(m){return x("Observable arrays cannot be frozen"),!1}};function oa(m,b,S,N){S===void 0&&(S="ObservableArray@"+O()),N===void 0&&(N=!1);var U,ne,he,Ae=new Eu(S,b,N);U=Ae.values,ne=F,he=Ae,Object.defineProperty(U,ne,{enumerable:!1,writable:!1,configurable:!0,value:he});var Ue=new Proxy(Ae.values,xu);if(Ae.proxy=Ue,m&&m.length){var bt=at(!0);Ae.spliceWithArray(0,0,m),kt(bt)}return Ue}var Eu=function(){function m(b,S,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new R(b||"ObservableArray@"+O()),this.enhancer=function(U,ne){return S(U,ne,b+"[..]")}}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},m.prototype.intercept=function(b){return Xr(this,b)},m.prototype.observe=function(b,S){return S===void 0&&(S=!1),S&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Yr(this,b)},m.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},m.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var S=this.values.length;if(b!==S)if(b>S){for(var N=new Array(b-S),U=0;U<b-S;U++)N[U]=void 0;this.spliceWithArray(S,0,N)}else this.spliceWithArray(b,S-b)},m.prototype.updateArrayLength=function(b,S){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=S},m.prototype.spliceWithArray=function(b,S,N){var U=this;ct(this.atom);var ne=this.values.length;if(b===void 0?b=0:b>ne?b=ne:b<0&&(b=Math.max(0,ne+b)),S=arguments.length===1?ne-b:S==null?0:Math.max(0,Math.min(S,ne-b)),N===void 0&&(N=v),_n(this)){var he=xt(this,{object:this.proxy,type:"splice",index:b,removedCount:S,added:N});if(!he)return v;S=he.removedCount,N=he.added}N=N.length===0?N:N.map(function(Ue){return U.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(b,S,N);return S===0&&N.length===0||this.notifyArraySplice(b,N,Ae),this.dehanceValues(Ae)},m.prototype.spliceItemsIntoValues=function(b,S,N){var U;if(N.length<1e4)return(U=this.values).splice.apply(U,Ee([b,S],N));var ne=this.values.slice(b,b+S);return this.values=this.values.slice(0,b).concat(N,this.values.slice(b+S)),ne},m.prototype.notifyArrayChildUpdate=function(b,S,N){var U=!this.owned&&!1,ne=Un(this),he=ne||U?{object:this.proxy,type:"update",index:b,newValue:S,oldValue:N}:null;this.atom.reportChanged(),ne&&pn(this,he)},m.prototype.notifyArraySplice=function(b,S,N){var U=!this.owned&&!1,ne=Un(this),he=ne||U?{object:this.proxy,type:"splice",index:b,removed:N,added:S,removedCount:N.length,addedCount:S.length}:null;this.atom.reportChanged(),ne&&pn(this,he)},m}(),Qn={intercept:function(m){return this[F].intercept(m)},observe:function(m,b){return b===void 0&&(b=!1),this[F].observe(m,b)},clear:function(){return this.splice(0)},replace:function(m){var b=this[F];return b.spliceWithArray(0,b.values.length,m)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(m,b){for(var S=[],N=2;N<arguments.length;N++)S[N-2]=arguments[N];var U=this[F];switch(arguments.length){case 0:return[];case 1:return U.spliceWithArray(m);case 2:return U.spliceWithArray(m,b)}return U.spliceWithArray(m,b,S)},spliceWithArray:function(m,b,S){return this[F].spliceWithArray(m,b,S)},push:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(S.values.length,0,m),S.values.length},pop:function(){return this.splice(Math.max(this[F].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var S=this[F];return S.spliceWithArray(0,0,m),S.values.length},reverse:function(){var m=this.slice();return m.reverse.apply(m,arguments)},sort:function(m){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(m){var b=this[F],S=b.dehanceValues(b.values).indexOf(m);return S>-1&&(this.splice(S,1),!0)},get:function(m){var b=this[F];if(b&&m<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[m])},set:function(m,b){var S=this[F],N=S.values;if(m<N.length){ct(S.atom);var U=N[m];if(_n(S)){var ne=xt(S,{type:"update",object:S.proxy,index:m,newValue:b});if(!ne)return;b=ne.newValue}(b=S.enhancer(b,U))!==U&&(N[m]=b,S.notifyArrayChildUpdate(m,b,U))}else{if(m!==N.length)throw new Error("[mobx.array] Index out of bounds, "+m+" is larger than "+N.length);S.spliceWithArray(m,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Qn[m]=function(){var b=this[F];b.atom.reportObserved();var S=b.dehanceValues(b.values);return S[m].apply(S,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(m){typeof Array.prototype[m]=="function"&&(Qn[m]=function(b,S){var N=this,U=this[F];return U.atom.reportObserved(),U.dehanceValues(U.values)[m](function(ne,he){return b.call(S,ne,he,N)},S)})}),["reduce","reduceRight"].forEach(function(m){Qn[m]=function(){var b=this,S=this[F];S.atom.reportObserved();var N=arguments[0];return arguments[0]=function(U,ne,he){return ne=S.dehanceValue(ne),N(U,ne,he,b)},S.values[m].apply(S.values,arguments)}});var Su,ci=I("ObservableArrayAdministration",Eu);function er(m){return T(m)&&ci(m[F])}var ju,Uc={},ia=function(){function m(b,S,N){if(S===void 0&&(S=Re),N===void 0&&(N="ObservableMap@"+O()),this.enhancer=S,this.name=N,this[Su]=Uc,this._keysAtom=G(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return m.prototype._has=function(b){return this._data.has(b)},m.prototype.has=function(b){var S=this;if(!He.trackingDerivation)return this._has(b);var N=this._hasMap.get(b);if(!N){var U=N=new Wt(this._has(b),Je,this.name+"."+X(b)+"?",!1);this._hasMap.set(b,U),yo(U,function(){return S._hasMap.delete(b)})}return N.get()},m.prototype.set=function(b,S){var N=this._has(b);if(_n(this)){var U=xt(this,{type:N?"update":"add",object:this,newValue:S,name:b});if(!U)return this;S=U.newValue}return N?this._updateValue(b,S):this._addValue(b,S),this},m.prototype.delete=function(b){var S=this;if(ct(this._keysAtom),_n(this)&&!(U=xt(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var N=Un(this),U=N?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return Gn(function(){S._keysAtom.reportChanged(),S._updateHasMapEntry(b,!1),S._data.get(b).setNewValue(void 0),S._data.delete(b)}),N&&pn(this,U),!0}return!1},m.prototype._updateHasMapEntry=function(b,S){var N=this._hasMap.get(b);N&&N.setNewValue(S)},m.prototype._updateValue=function(b,S){var N=this._data.get(b);if((S=N.prepareNewValue(S))!==He.UNCHANGED){var U=Un(this),ne=U?{type:"update",object:this,oldValue:N.value,name:b,newValue:S}:null;N.setNewValue(S),U&&pn(this,ne)}},m.prototype._addValue=function(b,S){var N=this;ct(this._keysAtom),Gn(function(){var he=new Wt(S,N.enhancer,N.name+"."+X(b),!1);N._data.set(b,he),S=he.value,N._updateHasMapEntry(b,!0),N._keysAtom.reportChanged()});var U=Un(this),ne=U?{type:"add",object:this,name:b,newValue:S}:null;U&&pn(this,ne)},m.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},m.prototype.values=function(){var b=this,S=this.keys();return hi({next:function(){var N=S.next(),U=N.done,ne=N.value;return{done:U,value:U?void 0:b.get(ne)}}})},m.prototype.entries=function(){var b=this,S=this.keys();return hi({next:function(){var N=S.next(),U=N.done,ne=N.value;return{done:U,value:U?void 0:[ne,b.get(ne)]}}})},m.prototype[Su=F,Symbol.iterator]=function(){return this.entries()},m.prototype.forEach=function(b,S){var N,U;try{for(var ne=le(this),he=ne.next();!he.done;he=ne.next()){var Ae=ve(he.value,2),Ue=Ae[0],bt=Ae[1];b.call(S,bt,Ue,this)}}catch(ut){N={error:ut}}finally{try{he&&!he.done&&(U=ne.return)&&U.call(ne)}finally{if(N)throw N.error}}},m.prototype.merge=function(b){var S=this;return Jt(b)&&(b=b.toJS()),Gn(function(){var N=at(!0);try{P(b)?Q(b).forEach(function(U){return S.set(U,b[U])}):Array.isArray(b)?b.forEach(function(U){var ne=ve(U,2),he=ne[0],Ae=ne[1];return S.set(he,Ae)}):L(b)?(b.constructor!==Map&&x("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(U,ne){return S.set(ne,U)})):b!=null&&x("Cannot initialize map from "+b)}finally{kt(N)}}),this},m.prototype.clear=function(){var b=this;Gn(function(){ie(function(){var S,N;try{for(var U=le(b.keys()),ne=U.next();!ne.done;ne=U.next()){var he=ne.value;b.delete(he)}}catch(Ae){S={error:Ae}}finally{try{ne&&!ne.done&&(N=U.return)&&N.call(U)}finally{if(S)throw S.error}}})})},m.prototype.replace=function(b){var S=this;return Gn(function(){var N,U,ne,he,Ae=function(wn){if(L(wn)||Jt(wn))return wn;if(Array.isArray(wn))return new Map(wn);if(P(wn)){var Du=new Map;for(var Ho in wn)Du.set(Ho,wn[Ho]);return Du}return x("Cannot convert to map from '"+wn+"'")}(b),Ue=new Map,bt=!1;try{for(var ut=le(S._data.keys()),Dt=ut.next();!Dt.done;Dt=ut.next()){var dt=Dt.value;if(!Ae.has(dt))if(S.delete(dt))bt=!0;else{var Pt=S._data.get(dt);Ue.set(dt,Pt)}}}catch(wn){N={error:wn}}finally{try{Dt&&!Dt.done&&(U=ut.return)&&U.call(ut)}finally{if(N)throw N.error}}try{for(var Wn=le(Ae.entries()),Ut=Wn.next();!Ut.done;Ut=Wn.next()){var On=ve(Ut.value,2),Wo=(dt=On[0],Pt=On[1],S._data.has(dt));if(S.set(dt,Pt),S._data.has(dt)){var Wc=S._data.get(dt);Ue.set(dt,Wc),Wo||(bt=!0)}}}catch(wn){ne={error:wn}}finally{try{Ut&&!Ut.done&&(he=Wn.return)&&he.call(Wn)}finally{if(ne)throw ne.error}}if(!bt)if(S._data.size!==Ue.size)S._keysAtom.reportChanged();else for(var Tu=S._data.keys(),ku=Ue.keys(),yi=Tu.next(),ca=ku.next();!yi.done;){if(yi.value!==ca.value){S._keysAtom.reportChanged();break}yi=Tu.next(),ca=ku.next()}S._data=Ue}),this},Object.defineProperty(m.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.toPOJO=function(){var b,S,N={};try{for(var U=le(this),ne=U.next();!ne.done;ne=U.next()){var he=ve(ne.value,2),Ae=he[0],Ue=he[1];N[typeof Ae=="symbol"?Ae:X(Ae)]=Ue}}catch(bt){b={error:bt}}finally{try{ne&&!ne.done&&(S=U.return)&&S.call(U)}finally{if(b)throw b.error}}return N},m.prototype.toJS=function(){return new Map(this)},m.prototype.toJSON=function(){return this.toPOJO()},m.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(S){return X(S)+": "+b.get(S)}).join(", ")+" }]"},m.prototype.observe=function(b,S){return Yr(this,b)},m.prototype.intercept=function(b){return Xr(this,b)},m}(),Jt=I("ObservableMap",ia),go={},li=function(){function m(b,S,N){if(S===void 0&&(S=Re),N===void 0&&(N="ObservableSet@"+O()),this.name=N,this[ju]=go,this._data=new Set,this._atom=G(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(U,ne){return S(U,ne,N)},b&&this.replace(b)}return m.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},m.prototype.clear=function(){var b=this;Gn(function(){ie(function(){var S,N;try{for(var U=le(b._data.values()),ne=U.next();!ne.done;ne=U.next()){var he=ne.value;b.delete(he)}}catch(Ae){S={error:Ae}}finally{try{ne&&!ne.done&&(N=U.return)&&N.call(U)}finally{if(S)throw S.error}}})})},m.prototype.forEach=function(b,S){var N,U;try{for(var ne=le(this),he=ne.next();!he.done;he=ne.next()){var Ae=he.value;b.call(S,Ae,Ae,this)}}catch(Ue){N={error:Ue}}finally{try{he&&!he.done&&(U=ne.return)&&U.call(ne)}finally{if(N)throw N.error}}},Object.defineProperty(m.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),m.prototype.add=function(b){var S=this;if(ct(this._atom),_n(this)&&!(U=xt(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){Gn(function(){S._data.add(S.enhancer(b,void 0)),S._atom.reportChanged()});var N=Un(this),U=N?{type:"add",object:this,newValue:b}:null;N&&pn(this,U)}return this},m.prototype.delete=function(b){var S=this;if(_n(this)&&!(U=xt(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var N=Un(this),U=N?{type:"delete",object:this,oldValue:b}:null;return Gn(function(){S._atom.reportChanged(),S._data.delete(b)}),N&&pn(this,U),!0}return!1},m.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},m.prototype.entries=function(){var b=0,S=Array.from(this.keys()),N=Array.from(this.values());return hi({next:function(){var U=b;return b+=1,U<N.length?{value:[S[U],N[U]],done:!1}:{done:!0}}})},m.prototype.keys=function(){return this.values()},m.prototype.values=function(){this._atom.reportObserved();var b=this,S=0,N=Array.from(this._data.values());return hi({next:function(){return S<N.length?{value:b.dehanceValue(N[S++]),done:!1}:{done:!0}}})},m.prototype.replace=function(b){var S=this;return Dn(b)&&(b=b.toJS()),Gn(function(){var N=at(!0);try{Array.isArray(b)||Y(b)?(S.clear(),b.forEach(function(U){return S.add(U)})):b!=null&&x("Cannot initialize set from "+b)}finally{kt(N)}}),this},m.prototype.observe=function(b,S){return Yr(this,b)},m.prototype.intercept=function(b){return Xr(this,b)},m.prototype.toJS=function(){return new Set(this)},m.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},m.prototype[ju=F,Symbol.iterator]=function(){return this.values()},m}(),Dn=I("ObservableSet",li),Au=function(){function m(b,S,N,U){S===void 0&&(S=new Map),this.target=b,this.values=S,this.name=N,this.defaultEnhancer=U,this.keysAtom=new R(N+".keys")}return m.prototype.read=function(b){return this.values.get(b).get()},m.prototype.write=function(b,S){var N=this.target,U=this.values.get(b);if(U instanceof xr)U.set(S);else{if(_n(this)){if(!(he=xt(this,{type:"update",object:this.proxy||N,name:b,newValue:S})))return;S=he.newValue}if((S=U.prepareNewValue(S))!==He.UNCHANGED){var ne=Un(this),he=ne?{type:"update",object:this.proxy||N,oldValue:U.value,name:b,newValue:S}:null;U.setNewValue(S),ne&&pn(this,he)}}},m.prototype.has=function(b){var S=this.pendingKeys||(this.pendingKeys=new Map),N=S.get(b);if(N)return N.get();var U=!!this.values.get(b);return N=new Wt(U,Je,this.name+"."+X(b)+"?",!1),S.set(b,N),N.get()},m.prototype.addObservableProp=function(b,S,N){N===void 0&&(N=this.defaultEnhancer);var U=this.target;if(_n(this)){var ne=xt(this,{object:this.proxy||U,name:b,type:"add",newValue:S});if(!ne)return;S=ne.newValue}var he=new Wt(S,N,this.name+"."+X(b),!1);this.values.set(b,he),S=he.value,Object.defineProperty(U,b,function(Ae){return fi[Ae]||(fi[Ae]={configurable:!0,enumerable:!0,get:function(){return this[F].read(Ae)},set:function(Ue){this[F].write(Ae,Ue)}})}(b)),this.notifyPropertyAddition(b,S)},m.prototype.addComputedProp=function(b,S,N){var U,ne,he,Ae=this.target;N.name=N.name||this.name+"."+X(S),this.values.set(S,new xr(N)),(b===Ae||(U=b,ne=S,!(he=Object.getOwnPropertyDescriptor(U,ne))||he.configurable!==!1&&he.writable!==!1))&&Object.defineProperty(b,S,function(Ue){return pi[Ue]||(pi[Ue]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return di(this).read(Ue)},set:function(bt){di(this).write(Ue,bt)}})}(S))},m.prototype.remove=function(b){if(this.values.has(b)){var S=this.target;if(_n(this)&&!(Ue=xt(this,{object:this.proxy||S,name:b,type:"remove"})))return;try{zn();var N=Un(this),U=!1,ne=this.values.get(b),he=ne&&ne.get();if(ne&&ne.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var Ae=this.pendingKeys.get(b);Ae&&Ae.set(!1)}delete this.target[b];var Ue=N?{type:"remove",object:this.proxy||S,oldValue:he,name:b}:null;N&&pn(this,Ue)}finally{Fn()}}},m.prototype.illegalAccess=function(b,S){},m.prototype.observe=function(b,S){return Yr(this,b)},m.prototype.intercept=function(b){return Xr(this,b)},m.prototype.notifyPropertyAddition=function(b,S){var N=Un(this),U=N?{type:"add",object:this.proxy||this.target,name:b,newValue:S}:null;if(N&&pn(this,U),this.pendingKeys){var ne=this.pendingKeys.get(b);ne&&ne.set(!0)}this.keysAtom.reportChanged()},m.prototype.getKeys=function(){var b,S;this.keysAtom.reportObserved();var N=[];try{for(var U=le(this.values),ne=U.next();!ne.done;ne=U.next()){var he=ve(ne.value,2),Ae=he[0];he[1]instanceof Wt&&N.push(Ae)}}catch(Ue){b={error:Ue}}finally{try{ne&&!ne.done&&(S=U.return)&&S.call(U)}finally{if(b)throw b.error}}return N},m}();function $o(m,b,S){if(b===void 0&&(b=""),S===void 0&&(S=Re),Object.prototype.hasOwnProperty.call(m,F))return m[F];P(m)||(b=(m.constructor.name||"ObservableObject")+"@"+O()),b||(b="ObservableObject@"+O());var N=new Au(m,new Map,X(b),S);return k(m,F,N),N}var fi=Object.create(null),pi=Object.create(null);function di(m){var b=m[F];return b||(Be(m),m[F])}var Pu=I("ObservableObjectAdministration",Au);function Nn(m){return!!T(m)&&(Be(m),Pu(m[F]))}function $n(m,b){if(typeof m=="object"&&m!==null){if(er(m))return b!==void 0&&x(!1),m[F].atom;if(Dn(m))return m[F];if(Jt(m)){var S=m;return b===void 0?S._keysAtom:((N=S._data.get(b)||S._hasMap.get(b))||x(!1),N)}var N;if(Be(m),b&&!m[F]&&m[b],Nn(m))return b?((N=m[F].values.get(b))||x(!1),N):x(!1);if(B(m)||Er(m)||ai(m))return m}else if(typeof m=="function"&&ai(m[F]))return m[F];return x(!1)}function mo(m,b){return m||x("Expecting some object"),b!==void 0?mo($n(m,b)):B(m)||Er(m)||ai(m)||Jt(m)||Dn(m)?m:(Be(m),m[F]?m[F]:void x(!1))}var aa=Object.prototype.toString;function ua(m,b,S){return S===void 0&&(S=-1),sa(m,b,S)}function sa(m,b,S,N,U){if(m===b)return m!==0||1/m==1/b;if(m==null||b==null)return!1;if(m!=m)return b!=b;var ne=typeof m;if(ne!=="function"&&ne!=="object"&&typeof b!="object")return!1;var he=aa.call(m);if(he!==aa.call(b))return!1;switch(he){case"[object RegExp]":case"[object String]":return""+m==""+b;case"[object Number]":return+m!=+m?+b!=+b:+m==0?1/+m==1/b:+m==+b;case"[object Date]":case"[object Boolean]":return+m==+b;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(m)===Symbol.valueOf.call(b);case"[object Map]":case"[object Set]":S>=0&&S++}m=Mu(m),b=Mu(b);var Ae=he==="[object Array]";if(!Ae){if(typeof m!="object"||typeof b!="object")return!1;var Ue=m.constructor,bt=b.constructor;if(Ue!==bt&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof bt=="function"&&bt instanceof bt)&&"constructor"in m&&"constructor"in b)return!1}if(S===0)return!1;S<0&&(S=-1),U=U||[];for(var ut=(N=N||[]).length;ut--;)if(N[ut]===m)return U[ut]===b;if(N.push(m),U.push(b),Ae){if((ut=m.length)!==b.length)return!1;for(;ut--;)if(!sa(m[ut],b[ut],S-1,N,U))return!1}else{var Dt=Object.keys(m),dt=void 0;if(ut=Dt.length,Object.keys(b).length!==ut)return!1;for(;ut--;)if(!$c(b,dt=Dt[ut])||!sa(m[dt],b[dt],S-1,N,U))return!1}return N.pop(),U.pop(),!0}function Mu(m){return er(m)?m.slice():L(m)||Jt(m)||Y(m)||Dn(m)?Array.from(m.entries()):m}function $c(m,b){return Object.prototype.hasOwnProperty.call(m,b)}function hi(m){return m[Symbol.iterator]=Vr,m}function Vr(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:uu,extras:{getDebugName:function(m,b){return(b!==void 0?$n(m,b):Nn(m)||Jt(m)||Dn(m)?mo(m):$n(m)).name}},$mobx:F})}).call(this,i(155),i(81))},function(a,l,i){var p=i(112),d=i(43),v=i(174);p||d(Object.prototype,"toString",v,{unsafe:!0})},function(a,l,i){var p=i(40),d=i(99),v=i(75),g=i(56),O=i(115),x="Array Iterator",w=g.set,A=g.getterFor(x);a.exports=O(Array,"Array",function(j,T){w(this,{type:x,target:p(j),index:0,kind:T})},function(){var j=A(this),T=j.target,P=j.kind,k=j.index++;return!T||k>=T.length?(j.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:k,done:!1}:P=="values"?{value:T[k],done:!1}:{value:[k,T[k]],done:!1}},"values"),v.Arguments=v.Array,d("keys"),d("values"),d("entries")},function(a,l,i){var p=i(17),d=i(7),v=i(46),g=i(71),O=i(34),x=i(15),w=i(66),A=i(36),j=i(107),T=i(19),P=i(35),k=i(95),I=i(28),L=i(32),Y=i(58),Q=i(85),X=i(33),V=i(39),Z=i(40),F=i(84),R=i(41),B=i(64),G=i(57),$=i(72),te=i(68),pe=i(136),le=i(111),ve=i(50),Ee=i(37),ge=i(82),se=i(97),ye=i(43),be=i(87),je=i(91),Be=i(67),Ze=i(88),Pe=i(27),Re=i(137),Je=i(138),ee=i(73),J=i(56),ue=i(74).forEach,we=je("hidden"),Me="Symbol",xe=Pe("toPrimitive"),Qe=J.set,it=J.getterFor(Me),tt=Object.prototype,Ve=d.Symbol,me=Ve&&Ve.prototype,$e=d.TypeError,re=d.QObject,ze=v("JSON","stringify"),lt=ve.f,St=Ee.f,st=pe.f,Ot=ge.f,Lt=x([].push),Ft=be("symbols"),ct=be("op-symbols"),Yt=be("string-to-symbol-registry"),W=be("symbol-to-string-registry"),ie=be("wks"),K=!re||!re.prototype||!re.prototype.findChild,ce=A&&T(function(){return G(St({},"a",{get:function(){return St(this,"a",{value:7}).a}})).a!=7})?function(Fe,Ke,rt){var at=lt(tt,Ke);at&&delete tt[Ke],St(Fe,Ke,rt),at&&Fe!==tt&&St(tt,Ke,at)}:St,De=function(Fe,Ke){var rt=Ft[Fe]=G(me);return Qe(rt,{type:Me,tag:Fe,description:Ke}),A||(rt.description=Ke),rt},Ne=function(Fe,Ke,rt){Fe===tt&&Ne(ct,Ke,rt),X(Fe);var at=F(Ke);return X(rt),P(Ft,at)?(rt.enumerable?(P(Fe,we)&&Fe[we][at]&&(Fe[we][at]=!1),rt=G(rt,{enumerable:B(0,!1)})):(P(Fe,we)||St(Fe,we,B(1,{})),Fe[we][at]=!0),ce(Fe,at,rt)):St(Fe,at,rt)},Xe=function(Fe,Ke){X(Fe);var rt=Z(Ke),at=$(rt).concat(Vt(rt));return ue(at,function(kt){A&&!O(vt,rt,kt)||Ne(Fe,kt,rt[kt])}),Fe},vt=function(Fe){var Ke=F(Fe),rt=O(Ot,this,Ke);return!(this===tt&&P(Ft,Ke)&&!P(ct,Ke))&&(!(rt||!P(this,Ke)||!P(Ft,Ke)||P(this,we)&&this[we][Ke])||rt)},nn=function(Fe,Ke){var rt=Z(Fe),at=F(Ke);if(rt!==tt||!P(Ft,at)||P(ct,at)){var kt=lt(rt,at);return!kt||!P(Ft,at)||P(rt,we)&&rt[we][at]||(kt.enumerable=!0),kt}},fn=function(Fe){var Ke=st(Z(Fe)),rt=[];return ue(Ke,function(at){P(Ft,at)||P(Be,at)||Lt(rt,at)}),rt},Vt=function(Fe){var Ke=Fe===tt,rt=st(Ke?ct:Z(Fe)),at=[];return ue(rt,function(kt){!P(Ft,kt)||Ke&&!P(tt,kt)||Lt(at,Ft[kt])}),at};if(j||(Ve=function(){if(Y(me,this))throw $e("Symbol is not a constructor");var Fe=arguments.length&&arguments[0]!==void 0?R(arguments[0]):void 0,Ke=Ze(Fe),rt=function(at){this===tt&&O(rt,ct,at),P(this,we)&&P(this[we],Ke)&&(this[we][Ke]=!1),ce(this,Ke,B(1,at))};return A&&K&&ce(tt,Ke,{configurable:!0,set:rt}),De(Ke,Fe)},ye(me=Ve.prototype,"toString",function(){return it(this).tag}),ye(Ve,"withoutSetter",function(Fe){return De(Ze(Fe),Fe)}),ge.f=vt,Ee.f=Ne,ve.f=nn,te.f=pe.f=fn,le.f=Vt,Re.f=function(Fe){return De(Pe(Fe),Fe)},A&&(St(me,"description",{configurable:!0,get:function(){return it(this).description}}),w||ye(tt,"propertyIsEnumerable",vt,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!j,sham:!j},{Symbol:Ve}),ue($(ie),function(Fe){Je(Fe)}),p({target:Me,stat:!0,forced:!j},{for:function(Fe){var Ke=R(Fe);if(P(Yt,Ke))return Yt[Ke];var rt=Ve(Ke);return Yt[Ke]=rt,W[rt]=Ke,rt},keyFor:function(Fe){if(!Q(Fe))throw $e(Fe+" is not a symbol");if(P(W,Fe))return W[Fe]},useSetter:function(){K=!0},useSimple:function(){K=!1}}),p({target:"Object",stat:!0,forced:!j,sham:!A},{create:function(Fe,Ke){return Ke===void 0?G(Fe):Xe(G(Fe),Ke)},defineProperty:Ne,defineProperties:Xe,getOwnPropertyDescriptor:nn}),p({target:"Object",stat:!0,forced:!j},{getOwnPropertyNames:fn,getOwnPropertySymbols:Vt}),p({target:"Object",stat:!0,forced:T(function(){le.f(1)})},{getOwnPropertySymbols:function(Fe){return le.f(V(Fe))}}),ze&&p({target:"JSON",stat:!0,forced:!j||T(function(){var Fe=Ve();return ze([Fe])!="[null]"||ze({a:Fe})!="{}"||ze(Object(Fe))!="{}"})},{stringify:function(Fe,Ke,rt){var at=se(arguments),kt=Ke;if((L(Ke)||Fe!==void 0)&&!Q(Fe))return k(Ke)||(Ke=function(Wt,$r){if(I(kt)&&($r=O(kt,this,Wt,$r)),!Q($r))return $r}),at[1]=Ke,g(ze,null,at)}}),!me[xe]){var Zt=me.valueOf;ye(me,xe,function(Fe){return O(Zt,this)})}ee(Ve,Me),Be[we]=!0},function(a,l,i){var p=i(7),d=i(149),v=i(150),g=i(3),O=i(55),x=i(27),w=x("iterator"),A=x("toStringTag"),j=g.values,T=function(k,I){if(k){if(k[w]!==j)try{O(k,w,j)}catch{k[w]=j}if(k[A]||O(k,A,I),d[I]){for(var L in g)if(k[L]!==g[L])try{O(k,L,g[L])}catch{k[L]=g[L]}}}};for(var P in d)T(p[P]&&p[P].prototype,P);T(v,"DOMTokenList")},function(a,l,i){var p=i(148).charAt,d=i(41),v=i(56),g=i(115),O="String Iterator",x=v.set,w=v.getterFor(O);g(String,"String",function(A){x(this,{type:O,string:d(A),index:0})},function(){var A,j=w(this),T=j.string,P=j.index;return P>=T.length?{value:void 0,done:!0}:(A=p(T,P),j.index+=A.length,{value:A,done:!1})})},function(a,l,i){(function(p){var d=function(v){return v&&v.Math==Math&&v};a.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,i(81))},function(a,l,i){var p=i(17),d=i(36),v=i(7),g=i(15),O=i(35),x=i(28),w=i(58),A=i(41),j=i(37).f,T=i(131),P=v.Symbol,k=P&&P.prototype;if(d&&x(P)&&(!("description"in k)||P().description!==void 0)){var I={},L=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),B=w(k,this)?new P(R):R===void 0?P():P(R);return R===""&&(I[B]=!0),B};T(L,P),L.prototype=k,k.constructor=L;var Y=String(P("test"))=="Symbol(test)",Q=g(k.toString),X=g(k.valueOf),V=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),F=g("".slice);j(k,"description",{configurable:!0,get:function(){var R=X(this),B=Q(R);if(O(I,R))return"";var G=Y?F(B,7,-1):Z(B,V,"$1");return G===""?void 0:G}}),p({global:!0,forced:!0},{Symbol:L})}},function(a,l,i){i(138)("iterator")},function(a,l,i){i.d(l,"a",function(){return g.a}),i.d(l,"c",function(){return g.e}),i.d(l,"h",function(){return V}),i.d(l,"i",function(){return Y}),i.d(l,"j",function(){return I}),i.d(l,"b",function(){return ve}),i.d(l,"e",function(){return ye}),i.d(l,"f",function(){return Ee}),i.d(l,"g",function(){return Ft});var p,d,v,g=i(0),O=0,x=[],w=g.i.__b,A=g.i.__r,j=g.i.diffed,T=g.i.__c,P=g.i.unmount;function k(W,ie){g.i.__h&&g.i.__h(d,W,O||ie),O=0;var K=d.__H||(d.__H={__:[],__h:[]});return W>=K.__.length&&K.__.push({}),K.__[W]}function I(W){return O=1,L(te,W)}function L(W,ie,K){var ce=k(p++,2);return ce.t=W,ce.__c||(ce.__=[K?K(ie):te(void 0,ie),function(De){var Ne=ce.t(ce.__[0],De);ce.__[0]!==Ne&&(ce.__=[Ne,ce.__[1]],ce.__c.setState({}))}],ce.__c=d),ce.__}function Y(W,ie){var K=k(p++,3);!g.i.__s&&$(K.__H,ie)&&(K.__=W,K.__H=ie,d.__H.__h.push(K))}function Q(W,ie){var K=k(p++,4);!g.i.__s&&$(K.__H,ie)&&(K.__=W,K.__H=ie,d.__h.push(K))}function X(W,ie){var K=k(p++,7);return $(K.__H,ie)&&(K.__=W(),K.__H=ie,K.__h=W),K.__}function V(W,ie){return O=8,X(function(){return W},ie)}function Z(){var W;for(x.sort(function(ie,K){return ie.__v.__b-K.__v.__b});W=x.pop();)if(W.__P)try{W.__H.__h.forEach(B),W.__H.__h.forEach(G),W.__H.__h=[]}catch(ie){W.__H.__h=[],g.i.__e(ie,W.__v)}}g.i.__b=function(W){d=null,w&&w(W)},g.i.__r=function(W){A&&A(W),p=0;var ie=(d=W.__c).__H;ie&&(ie.__h.forEach(B),ie.__h.forEach(G),ie.__h=[])},g.i.diffed=function(W){j&&j(W);var ie=W.__c;ie&&ie.__H&&ie.__H.__h.length&&(x.push(ie)!==1&&v===g.i.requestAnimationFrame||((v=g.i.requestAnimationFrame)||R)(Z)),d=null},g.i.__c=function(W,ie){ie.some(function(K){try{K.__h.forEach(B),K.__h=K.__h.filter(function(ce){return!ce.__||G(ce)})}catch(ce){ie.some(function(De){De.__h&&(De.__h=[])}),ie=[],g.i.__e(ce,K.__v)}}),T&&T(W,ie)},g.i.unmount=function(W){P&&P(W);var ie,K=W.__c;K&&K.__H&&(K.__H.__.forEach(function(ce){try{B(ce)}catch(De){ie=De}}),ie&&g.i.__e(ie,K.__v))};var F=typeof requestAnimationFrame=="function";function R(W){var ie,K=function(){clearTimeout(ce),F&&cancelAnimationFrame(ie),setTimeout(W)},ce=setTimeout(K,100);F&&(ie=requestAnimationFrame(K))}function B(W){var ie=d,K=W.__c;typeof K=="function"&&(W.__c=void 0,K()),d=ie}function G(W){var ie=d;W.__c=W.__(),d=ie}function $(W,ie){return!W||W.length!==ie.length||ie.some(function(K,ce){return K!==W[ce]})}function te(W,ie){return typeof ie=="function"?ie(W):ie}function pe(W,ie){for(var K in ie)W[K]=ie[K];return W}function le(W,ie){for(var K in W)if(K!=="__source"&&!(K in ie))return!0;for(var ce in ie)if(ce!=="__source"&&W[ce]!==ie[ce])return!0;return!1}function ve(W){this.props=W}function Ee(W,ie){function K(De){var Ne=this.props.ref,Xe=Ne==De.ref;return!Xe&&Ne&&(Ne.call?Ne(null):Ne.current=null),ie?!ie(this.props,De)||!Xe:le(this.props,De)}function ce(De){return this.shouldComponentUpdate=K,Object(g.e)(W,De)}return ce.displayName="Memo("+(W.displayName||W.name)+")",ce.prototype.isReactComponent=!0,ce.__f=!0,ce}(ve.prototype=new g.a).isPureReactComponent=!0,ve.prototype.shouldComponentUpdate=function(W,ie){return le(this.props,W)||le(this.state,ie)};var ge=g.i.__b;g.i.__b=function(W){W.type&&W.type.__f&&W.ref&&(W.props.ref=W.ref,W.ref=null),ge&&ge(W)};var se=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ye(W){function ie(K,ce){var De=pe({},K);return delete De.ref,W(De,!(ce=K.ref||ce)||typeof ce=="object"&&!("current"in ce)?null:ce)}return ie.$$typeof=se,ie.render=ie,ie.prototype.isReactComponent=ie.__f=!0,ie.displayName="ForwardRef("+(W.displayName||W.name)+")",ie}var be=function(W,ie){return W==null?null:Object(g.k)(Object(g.k)(W).map(ie))},je={map:be,forEach:be,count:function(W){return W?Object(g.k)(W).length:0},only:function(W){var ie=Object(g.k)(W);if(ie.length!==1)throw"Children.only";return ie[0]},toArray:g.k},Be=g.i.__e;g.i.__e=function(W,ie,K){if(W.then){for(var ce,De=ie;De=De.__;)if((ce=De.__c)&&ce.__c)return ie.__e==null&&(ie.__e=K.__e,ie.__k=K.__k),ce.__c(W,ie)}Be(W,ie,K)};var Ze=g.i.unmount;function Pe(W,ie,K){return W&&(W.__c&&W.__c.__H&&(W.__c.__H.__.forEach(function(ce){typeof ce.__c=="function"&&ce.__c()}),W.__c.__H=null),(W=pe({},W)).__c!=null&&(W.__c.__P===K&&(W.__c.__P=ie),W.__c=null),W.__k=W.__k&&W.__k.map(function(ce){return Pe(ce,ie,K)})),W}function Re(W,ie,K){return W&&(W.__v=null,W.__k=W.__k&&W.__k.map(function(ce){return Re(ce,ie,K)}),W.__c&&W.__c.__P===ie&&(W.__e&&K.insertBefore(W.__e,W.__d),W.__c.__e=!0,W.__c.__P=K)),W}function Je(){this.__u=0,this.t=null,this.__b=null}function ee(W){var ie=W.__.__c;return ie&&ie.__e&&ie.__e(W)}function J(){this.u=null,this.o=null}g.i.unmount=function(W){var ie=W.__c;ie&&ie.__R&&ie.__R(),ie&&W.__h===!0&&(W.type=null),Ze&&Ze(W)},(Je.prototype=new g.a).__c=function(W,ie){var K=ie.__c,ce=this;ce.t==null&&(ce.t=[]),ce.t.push(K);var De=ee(ce.__v),Ne=!1,Xe=function(){Ne||(Ne=!0,K.__R=null,De?De(vt):vt())};K.__R=Xe;var vt=function(){if(!--ce.__u){if(ce.state.__e){var fn=ce.state.__e;ce.__v.__k[0]=Re(fn,fn.__c.__P,fn.__c.__O)}var Vt;for(ce.setState({__e:ce.__b=null});Vt=ce.t.pop();)Vt.forceUpdate()}},nn=ie.__h===!0;ce.__u++||nn||ce.setState({__e:ce.__b=ce.__v.__k[0]}),W.then(Xe,Xe)},Je.prototype.componentWillUnmount=function(){this.t=[]},Je.prototype.render=function(W,ie){if(this.__b){if(this.__v.__k){var K=document.createElement("div"),ce=this.__v.__k[0].__c;this.__v.__k[0]=Pe(this.__b,K,ce.__O=ce.__P)}this.__b=null}var De=ie.__e&&Object(g.e)(g.b,null,W.fallback);return De&&(De.__h=null),[Object(g.e)(g.b,null,ie.__e?null:W.children),De]};var ue=function(W,ie,K){if(++K[1]===K[0]&&W.o.delete(ie),W.props.revealOrder&&(W.props.revealOrder[0]!=="t"||!W.o.size))for(K=W.u;K;){for(;K.length>3;)K.pop()();if(K[1]<K[0])break;W.u=K=K[2]}};function we(W){return this.getChildContext=function(){return W.context},W.children}function Me(W){var ie=this,K=W.i;ie.componentWillUnmount=function(){Object(g.j)(null,ie.l),ie.l=null,ie.i=null},ie.i&&ie.i!==K&&ie.componentWillUnmount(),W.__v?(ie.l||(ie.i=K,ie.l={nodeType:1,parentNode:K,childNodes:[],appendChild:function(ce){this.childNodes.push(ce),ie.i.appendChild(ce)},insertBefore:function(ce,De){this.childNodes.push(ce),ie.i.appendChild(ce)},removeChild:function(ce){this.childNodes.splice(this.childNodes.indexOf(ce)>>>1,1),ie.i.removeChild(ce)}}),Object(g.j)(Object(g.e)(we,{context:ie.context},W.__v),ie.l)):ie.l&&ie.componentWillUnmount()}(J.prototype=new g.a).__e=function(W){var ie=this,K=ee(ie.__v),ce=ie.o.get(W);return ce[0]++,function(De){var Ne=function(){ie.props.revealOrder?(ce.push(De),ue(ie,W,ce)):De()};K?K(Ne):Ne()}},J.prototype.render=function(W){this.u=null,this.o=new Map;var ie=Object(g.k)(W.children);W.revealOrder&&W.revealOrder[0]==="b"&&ie.reverse();for(var K=ie.length;K--;)this.o.set(ie[K],this.u=[1,0,this.u]);return W.children},J.prototype.componentDidUpdate=J.prototype.componentDidMount=function(){var W=this;this.o.forEach(function(ie,K){ue(W,K,ie)})};var xe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Qe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,it=typeof document<"u",tt=function(W){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(W)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(W){Object.defineProperty(g.a.prototype,W,{configurable:!0,get:function(){return this["UNSAFE_"+W]},set:function(ie){Object.defineProperty(this,W,{configurable:!0,writable:!0,value:ie})}})});var Ve=g.i.event;function me(){}function $e(){return this.cancelBubble}function re(){return this.defaultPrevented}g.i.event=function(W){return Ve&&(W=Ve(W)),W.persist=me,W.isPropagationStopped=$e,W.isDefaultPrevented=re,W.nativeEvent=W};var ze,lt={configurable:!0,get:function(){return this.class}},St=g.i.vnode;g.i.vnode=function(W){var ie=W.type,K=W.props,ce=K;if(typeof ie=="string"){var De=ie.indexOf("-")===-1;for(var Ne in ce={},K){var Xe=K[Ne];it&&Ne==="children"&&ie==="noscript"||Ne==="value"&&"defaultValue"in K&&Xe==null||(Ne==="defaultValue"&&"value"in K&&K.value==null?Ne="value":Ne==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(Ne)?Ne="ondblclick":/^onchange(textarea|input)/i.test(Ne+ie)&&!tt(K.type)?Ne="oninput":/^onfocus$/i.test(Ne)?Ne="onfocusin":/^onblur$/i.test(Ne)?Ne="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ne)?Ne=Ne.toLowerCase():De&&Qe.test(Ne)?Ne=Ne.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),ce[Ne]=Xe)}ie=="select"&&ce.multiple&&Array.isArray(ce.value)&&(ce.value=Object(g.k)(K.children).forEach(function(vt){vt.props.selected=ce.value.indexOf(vt.props.value)!=-1})),ie=="select"&&ce.defaultValue!=null&&(ce.value=Object(g.k)(K.children).forEach(function(vt){vt.props.selected=ce.multiple?ce.defaultValue.indexOf(vt.props.value)!=-1:ce.defaultValue==vt.props.value})),W.props=ce,K.class!=K.className&&(lt.enumerable="className"in K,K.className!=null&&(ce.class=K.className),Object.defineProperty(ce,"className",lt))}W.$$typeof=xe,St&&St(W)};var st=g.i.__r;g.i.__r=function(W){st&&st(W),ze=W.__c};var Ot={ReactCurrentDispatcher:{current:{readContext:function(W){return ze.__n[W.__c].props.value}}}};function Lt(W){return!!W&&W.$$typeof===xe}var Ft=function(W,ie){return W(ie)},ct=g.b,Yt={useState:I,useReducer:L,useEffect:Y,useLayoutEffect:Q,useRef:function(W){return O=5,X(function(){return{current:W}},[])},useImperativeHandle:function(W,ie,K){O=6,Q(function(){typeof W=="function"?W(ie()):W&&(W.current=ie())},K==null?K:K.concat(W))},useMemo:X,useCallback:V,useContext:function(W){var ie=d.context[W.__c],K=k(p++,9);return K.c=W,ie?(K.__==null&&(K.__=!0,ie.sub(d)),ie.props.value):W.__},useDebugValue:function(W,ie){g.i.useDebugValue&&g.i.useDebugValue(ie?ie(W):W)},version:"17.0.2",Children:je,render:function(W,ie,K){return ie.__k==null&&(ie.textContent=""),Object(g.j)(W,ie),typeof K=="function"&&K(),W?W.__c:null},hydrate:function(W,ie,K){return Object(g.h)(W,ie),typeof K=="function"&&K(),W?W.__c:null},unmountComponentAtNode:function(W){return!!W.__k&&(Object(g.j)(null,W),!0)},createPortal:function(W,ie){return Object(g.e)(Me,{__v:W,i:ie})},createElement:g.e,createContext:g.d,createFactory:function(W){return g.e.bind(null,W)},cloneElement:function(W){return Lt(W)?g.c.apply(null,arguments):W},createRef:g.f,Fragment:g.b,isValidElement:Lt,findDOMNode:function(W){return W&&(W.base||W.nodeType===1&&W)||null},Component:g.a,PureComponent:ve,memo:Ee,forwardRef:ye,flushSync:function(W,ie){return W(ie)},unstable_batchedUpdates:Ft,StrictMode:ct,Suspense:Je,SuspenseList:J,lazy:function(W){var ie,K,ce;function De(Ne){if(ie||(ie=W()).then(function(Xe){K=Xe.default||Xe},function(Xe){ce=Xe}),ce)throw ce;if(!K)throw ie;return Object(g.e)(K,Ne)}return De.displayName="Lazy",De.__f=!0,De},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ot};l.d=Yt},function(a,l,i){var p=i(7),d=i(149),v=i(150),g=i(182),O=i(55),x=function(A){if(A&&A.forEach!==g)try{O(A,"forEach",g)}catch{A.forEach=g}};for(var w in d)d[w]&&x(p[w]&&p[w].prototype);x(v)},function(a,l,i){i(17)({target:"Object",stat:!0},{setPrototypeOf:i(101)})},function(a,l,i){var p=i(17),d=i(19),v=i(39),g=i(100),O=i(140);p({target:"Object",stat:!0,forced:d(function(){g(1)}),sham:!O},{getPrototypeOf:function(x){return g(v(x))}})},function(a,l,i){var p=i(17),d=i(46),v=i(71),g=i(200),O=i(157),x=i(33),w=i(32),A=i(57),j=i(19),T=d("Reflect","construct"),P=Object.prototype,k=[].push,I=j(function(){function Q(){}return!(T(function(){},[],Q)instanceof Q)}),L=!j(function(){T(function(){})}),Y=I||L;p({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(Q,X){O(Q),x(X);var V=arguments.length<3?Q:O(arguments[2]);if(L&&!I)return T(Q,X,V);if(Q==V){switch(X.length){case 0:return new Q;case 1:return new Q(X[0]);case 2:return new Q(X[0],X[1]);case 3:return new Q(X[0],X[1],X[2]);case 4:return new Q(X[0],X[1],X[2],X[3])}var Z=[null];return v(k,Z,X),new(v(g,Q,Z))}var F=V.prototype,R=A(w(F)?F:P),B=v(Q,R,X);return w(B)?B:R}})},function(a,l){var i=Function.prototype,p=i.bind,d=i.call,v=p&&p.bind(d);a.exports=p?function(g){return g&&v(d,g)}:function(g){return g&&function(){return d.apply(g,arguments)}}},function(a,l,i){var p=i(17),d=i(7),v=i(95),g=i(98),O=i(32),x=i(69),w=i(44),A=i(40),j=i(60),T=i(27),P=i(76),k=i(97),I=P("slice"),L=T("species"),Y=d.Array,Q=Math.max;p({target:"Array",proto:!0,forced:!I},{slice:function(X,V){var Z,F,R,B=A(this),G=w(B),$=x(X,G),te=x(V===void 0?G:V,G);if(v(B)&&(Z=B.constructor,(g(Z)&&(Z===Y||v(Z.prototype))||O(Z)&&(Z=Z[L])===null)&&(Z=void 0),Z===Y||Z===void 0))return k(B,$,te);for(F=new(Z===void 0?Y:Z)(Q(te-$,0)),R=0;$<te;$++,R++)$ in B&&j(F,R,B[$]);return F.length=R,F}})},function(a,l,i){var p=i(7),d=i(50).f,v=i(55),g=i(43),O=i(109),x=i(131),w=i(94);a.exports=function(A,j){var T,P,k,I,L,Y=A.target,Q=A.global,X=A.stat;if(T=Q?p:X?p[Y]||O(Y,{}):(p[Y]||{}).prototype)for(P in j){if(I=j[P],k=A.noTargetGet?(L=d(T,P))&&L.value:T[P],!w(Q?P:Y+(X?".":"#")+P,A.forced)&&k!==void 0){if(typeof I==typeof k)continue;x(I,k)}(A.sham||k&&k.sham)&&v(I,"sham",!0),g(T,P,I,A)}}},function(a,l,i){var p=i(17),d=i(102);p({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(a,l){a.exports=function(i){try{return!!i()}catch{return!0}}},function(a,l,i){var p=i(17),d=i(39),v=i(72);p({target:"Object",stat:!0,forced:i(19)(function(){v(1)})},{keys:function(g){return v(d(g))}})},function(a,l,i){var p=i(17),d=i(19),v=i(40),g=i(50).f,O=i(36),x=d(function(){g(1)});p({target:"Object",stat:!0,forced:!O||x,sham:!O},{getOwnPropertyDescriptor:function(w,A){return g(v(w),A)}})},function(a,l,i){var p=i(36),d=i(92).EXISTS,v=i(15),g=i(37).f,O=Function.prototype,x=v(O.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=v(w.exec);p&&!d&&g(O,"name",{configurable:!0,get:function(){try{return A(w,x(this))[1]}catch{return""}}})},function(a,l,i){var p=i(17),d=i(74).filter;p({target:"Array",proto:!0,forced:!i(76)("filter")},{filter:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}})},function(a,l,i){var p=i(17),d=i(183);p({target:"Array",stat:!0,forced:!i(119)(function(v){Array.from(v)})},{from:d})},function(a,l,i){var p=i(17),d=i(36),v=i(132),g=i(40),O=i(50),x=i(60);p({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(w){for(var A,j,T=g(w),P=O.f,k=v(T),I={},L=0;k.length>L;)(j=P(T,A=k[L++]))!==void 0&&x(I,A,j);return I}})},,function(a,l,i){var p=i(7),d=i(87),v=i(35),g=i(88),O=i(107),x=i(129),w=d("wks"),A=p.Symbol,j=A&&A.for,T=x?A:A&&A.withoutSetter||g;a.exports=function(P){if(!v(w,P)||!O&&typeof w[P]!="string"){var k="Symbol."+P;O&&v(A,P)?w[P]=A[P]:w[P]=x&&j?j(k):T(k)}return w[P]}},function(a,l){a.exports=function(i){return typeof i=="function"}},function(a,l,i){var p=i(17),d=i(7),v=i(19),g=i(95),O=i(32),x=i(39),w=i(44),A=i(60),j=i(114),T=i(76),P=i(27),k=i(65),I=P("isConcatSpreadable"),L=9007199254740991,Y="Maximum allowed index exceeded",Q=d.TypeError,X=k>=51||!v(function(){var F=[];return F[I]=!1,F.concat()[0]!==F}),V=T("concat"),Z=function(F){if(!O(F))return!1;var R=F[I];return R!==void 0?!!R:g(F)};p({target:"Array",proto:!0,forced:!X||!V},{concat:function(F){var R,B,G,$,te,pe=x(this),le=j(pe,0),ve=0;for(R=-1,G=arguments.length;R<G;R++)if(Z(te=R===-1?pe:arguments[R])){if(ve+($=w(te))>L)throw Q(Y);for(B=0;B<$;B++,ve++)B in te&&A(le,ve,te[B])}else{if(ve>=L)throw Q(Y);A(le,ve++,te)}return le.length=ve,le}})},function(a,l,i){var p=i(17),d=i(199);p({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(a,l,i){var p=i(105),d=typeof self=="object"&&self&&self.Object===Object&&self,v=p.a||d||Function("return this")();l.a=v},function(a,l,i){var p=i(28);a.exports=function(d){return typeof d=="object"?d!==null:p(d)}},function(a,l,i){var p=i(7),d=i(32),v=p.String,g=p.TypeError;a.exports=function(O){if(d(O))return O;throw g(v(O)+" is not an object")}},function(a,l){var i=Function.prototype.call;a.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(a,l,i){var p=i(15),d=i(39),v=p({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,O){return v(d(g),O)}},function(a,l,i){var p=i(19);a.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,l,i){var p=i(7),d=i(36),v=i(130),g=i(33),O=i(84),x=p.TypeError,w=Object.defineProperty;l.f=d?w:function(A,j,T){if(g(A),j=O(j),g(T),v)try{return w(A,j,T)}catch{}if("get"in T||"set"in T)throw x("Accessors not supported");return"value"in T&&(A[j]=T.value),A}},function(a,l,i){var p=i(17),d=i(74).map;p({target:"Array",proto:!0,forced:!i(76)("map")},{map:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}})},function(a,l,i){var p=i(7),d=i(45),v=p.Object;a.exports=function(g){return v(d(g))}},function(a,l,i){var p=i(83),d=i(45);a.exports=function(v){return p(d(v))}},function(a,l,i){var p=i(7),d=i(96),v=p.String;a.exports=function(g){if(d(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(g)}},function(a,l,i){(function(p){i.d(l,"d",function(){return g}),i.d(l,"c",function(){return O}),i.d(l,"b",function(){return x}),i.d(l,"a",function(){return A});var d=i(10),v=function(j,T){var P=typeof Symbol=="function"&&j[Symbol.iterator];if(!P)return j;var k,I,L=P.call(j),Y=[];try{for(;(T===void 0||T-- >0)&&!(k=L.next()).done;)Y.push(k.value)}catch(Q){I={error:Q}}finally{try{k&&!k.done&&(P=L.return)&&P.call(L)}finally{if(I)throw I.error}}return Y};function g(){var j=v(Object(d.j)(0),2)[1];return Object(d.h)(function(){j(function(T){return T+1})},[])}function O(j){if(!j||typeof j!="object")return!1;var T=Object.getPrototypeOf(j);return!T||T===Object.prototype}function x(j){return typeof Symbol=="function"?Symbol.for(j):"__$mobx-react "+j+"__"}var w={};function A(){return typeof window<"u"?window:p!==void 0?p:typeof self<"u"?self:w}}).call(this,i(81))},function(a,l,i){var p=i(7),d=i(28),v=i(35),g=i(55),O=i(109),x=i(90),w=i(56),A=i(92).CONFIGURABLE,j=w.get,T=w.enforce,P=String(String).split("String");(a.exports=function(k,I,L,Y){var Q,X=!!Y&&!!Y.unsafe,V=!!Y&&!!Y.enumerable,Z=!!Y&&!!Y.noTargetGet,F=Y&&Y.name!==void 0?Y.name:I;d(L)&&(String(F).slice(0,7)==="Symbol("&&(F="["+String(F).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(L,"name")||A&&L.name!==F)&&g(L,"name",F),(Q=T(L)).source||(Q.source=P.join(typeof F=="string"?F:""))),k!==p?(X?!Z&&k[I]&&(V=!0):delete k[I],V?k[I]=L:g(k,I,L)):V?k[I]=L:O(I,L)})(Function.prototype,"toString",function(){return d(this)&&j(this).source||x(this)})},function(a,l,i){var p=i(93);a.exports=function(d){return p(d.length)}},function(a,l,i){var p=i(7).TypeError;a.exports=function(d){if(d==null)throw p("Can't call method on "+d);return d}},function(a,l,i){var p=i(7),d=i(28),v=function(g){return d(g)?g:void 0};a.exports=function(g,O){return arguments.length<2?v(p[g]):p[g]&&p[g][O]}},function(a,l,i){var p=i(17),d=i(34),v=i(32),g=i(33),O=i(201),x=i(50),w=i(100);p({target:"Reflect",stat:!0},{get:function A(j,T){var P,k,I=arguments.length<3?j:arguments[2];return g(j)===I?j[T]:(P=x.f(j,T))?O(P)?P.value:P.get===void 0?void 0:d(P.get,I):v(k=w(j))?A(k,T,I):void 0}})},function(a,l,i){(function(p){var d=i(31),v=i(166),g=u&&!u.nodeType&&u,O=g&&typeof p=="object"&&p&&!p.nodeType&&p,x=O&&O.exports===g?d.a.Buffer:void 0,w=(x?x.isBuffer:void 0)||v.a;l.a=w}).call(this,i(121)(a))},function(a,l,i){(function(p){var d=i(105),v=u&&!u.nodeType&&u,g=v&&typeof p=="object"&&p&&!p.nodeType&&p,O=g&&g.exports===v&&d.a.process,x=function(){try{var w=g&&g.require&&g.require("util").types;return w||O&&O.binding&&O.binding("util")}catch{}}();l.a=x}).call(this,i(121)(a))},function(a,l,i){var p=i(36),d=i(34),v=i(82),g=i(64),O=i(40),x=i(84),w=i(35),A=i(130),j=Object.getOwnPropertyDescriptor;l.f=p?j:function(T,P){if(T=O(T),P=x(P),A)try{return j(T,P)}catch{}if(w(T,P))return g(!d(v.f,T,P),T[P])}},function(a,l,i){var p=i(15),d=p({}.toString),v=p("".slice);a.exports=function(g){return v(d(g),8,-1)}},function(a,l,i){var p=i(17),d=i(213).entries;p({target:"Object",stat:!0},{entries:function(v){return d(v)}})},function(a,l,i){var p=i(46);a.exports=p("navigator","userAgent")||""},function(a,l,i){var p=i(7),d=i(28),v=i(86),g=p.TypeError;a.exports=function(O){if(d(O))return O;throw g(v(O)+" is not a function")}},function(a,l,i){var p=i(36),d=i(37),v=i(64);a.exports=p?function(g,O,x){return d.f(g,O,v(1,x))}:function(g,O,x){return g[O]=x,g}},function(a,l,i){var p,d,v,g=i(170),O=i(7),x=i(15),w=i(32),A=i(55),j=i(35),T=i(108),P=i(91),k=i(67),I="Object already initialized",L=O.TypeError,Y=O.WeakMap;if(g||T.state){var Q=T.state||(T.state=new Y),X=x(Q.get),V=x(Q.has),Z=x(Q.set);p=function(R,B){if(V(Q,R))throw new L(I);return B.facade=R,Z(Q,R,B),B},d=function(R){return X(Q,R)||{}},v=function(R){return V(Q,R)}}else{var F=P("state");k[F]=!0,p=function(R,B){if(j(R,F))throw new L(I);return B.facade=R,A(R,F,B),B},d=function(R){return j(R,F)?R[F]:{}},v=function(R){return j(R,F)}}a.exports={set:p,get:d,has:v,enforce:function(R){return v(R)?d(R):p(R,{})},getterFor:function(R){return function(B){var G;if(!w(B)||(G=d(B)).type!==R)throw L("Incompatible receiver, "+R+" required");return G}}}},function(a,l,i){var p,d=i(33),v=i(171),g=i(110),O=i(67),x=i(135),w=i(89),A=i(91),j=A("IE_PROTO"),T=function(){},P=function(L){return"<script>"+L+"<\/script>"},k=function(L){L.write(P("")),L.close();var Y=L.parentWindow.Object;return L=null,Y},I=function(){try{p=new ActiveXObject("htmlfile")}catch{}var L,Y;I=typeof document<"u"?document.domain&&p?k(p):((Y=w("iframe")).style.display="none",x.appendChild(Y),Y.src="javascript:",(L=Y.contentWindow.document).open(),L.write(P("document.F=Object")),L.close(),L.F):k(p);for(var Q=g.length;Q--;)delete I.prototype[g[Q]];return I()};O[j]=!0,a.exports=Object.create||function(L,Y){var Q;return L!==null?(T.prototype=d(L),Q=new T,T.prototype=null,Q[j]=L):Q=I(),Y===void 0?Q:v(Q,Y)}},function(a,l,i){var p=i(15);a.exports=p({}.isPrototypeOf)},function(a,l,i){var p=i(54);a.exports=function(d,v){var g=d[v];return g==null?void 0:p(g)}},function(a,l,i){var p=i(84),d=i(37),v=i(64);a.exports=function(g,O,x){var w=p(O);w in g?d.f(g,w,v(0,x)):g[w]=x}},function(a,l,i){var p=i(15),d=i(54),v=p(p.bind);a.exports=function(g,O){return d(g),O===void 0?g:v?v(g,O):function(){return g.apply(O,arguments)}}},function(a,l,i){i(177)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},i(181))},function(a,l,i){var p=i(17),d=i(15),v=i(83),g=i(40),O=i(120),x=d([].join),w=v!=Object,A=O("join",",");p({target:"Array",proto:!0,forced:w||!A},{join:function(j){return x(g(this),j===void 0?",":j)}})},function(a,l){a.exports=function(i,p){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:p}}},function(a,l,i){var p,d,v=i(7),g=i(53),O=v.process,x=v.Deno,w=O&&O.versions||x&&x.version,A=w&&w.v8;A&&(d=(p=A.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!d&&g&&(!(p=g.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=g.match(/Chrome\/(\d+)/))&&(d=+p[1]),a.exports=d},function(a,l){a.exports=!1},function(a,l){a.exports={}},function(a,l,i){var p=i(133),d=i(110).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(v){return p(v,d)}},function(a,l,i){var p=i(70),d=Math.max,v=Math.min;a.exports=function(g,O){var x=p(g);return x<0?d(x+O,0):v(x,O)}},function(a,l){var i=Math.ceil,p=Math.floor;a.exports=function(d){var v=+d;return v!=v||v===0?0:(v>0?p:i)(v)}},function(a,l){var i=Function.prototype,p=i.apply,d=i.bind,v=i.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(d?v.bind(p):function(){return v.apply(p,arguments)})},function(a,l,i){var p=i(133),d=i(110);a.exports=Object.keys||function(v){return p(v,d)}},function(a,l,i){var p=i(37).f,d=i(35),v=i(27)("toStringTag");a.exports=function(g,O,x){g&&!d(g=x?g:g.prototype,v)&&p(g,v,{configurable:!0,value:O})}},function(a,l,i){var p=i(61),d=i(15),v=i(83),g=i(39),O=i(44),x=i(114),w=d([].push),A=function(j){var T=j==1,P=j==2,k=j==3,I=j==4,L=j==6,Y=j==7,Q=j==5||L;return function(X,V,Z,F){for(var R,B,G=g(X),$=v(G),te=p(V,Z),pe=O($),le=0,ve=F||x,Ee=T?ve(X,pe):P||Y?ve(X,0):void 0;pe>le;le++)if((Q||le in $)&&(B=te(R=$[le],le,G),j))if(T)Ee[le]=B;else if(B)switch(j){case 3:return!0;case 5:return R;case 6:return le;case 2:w(Ee,R)}else switch(j){case 4:return!1;case 7:w(Ee,R)}return L?-1:k||I?I:Ee}};a.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(a,l){a.exports={}},function(a,l,i){var p=i(19),d=i(27),v=i(65),g=d("species");a.exports=function(O){return v>=51||!p(function(){var x=[];return(x.constructor={})[g]=function(){return{foo:1}},x[O](Boolean).foo!==1})}},function(a,l,i){var p=i(71),d=i(34),v=i(15),g=i(122),O=i(154),x=i(33),w=i(45),A=i(156),j=i(123),T=i(93),P=i(41),k=i(59),I=i(113),L=i(124),Y=i(102),Q=i(151),X=i(19),V=Q.UNSUPPORTED_Y,Z=4294967295,F=Math.min,R=[].push,B=v(/./.exec),G=v(R),$=v("".slice),te=!X(function(){var pe=/(?:)/,le=pe.exec;pe.exec=function(){return le.apply(this,arguments)};var ve="ab".split(pe);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"});g("split",function(pe,le,ve){var Ee;return Ee="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ge,se){var ye=P(w(this)),be=se===void 0?Z:se>>>0;if(be===0)return[];if(ge===void 0)return[ye];if(!O(ge))return d(le,ye,ge,be);for(var je,Be,Ze,Pe=[],Re=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(ge.sticky?"y":""),Je=0,ee=new RegExp(ge.source,Re+"g");(je=d(Y,ee,ye))&&!((Be=ee.lastIndex)>Je&&(G(Pe,$(ye,Je,je.index)),je.length>1&&je.index<ye.length&&p(R,Pe,I(je,1)),Ze=je[0].length,Je=Be,Pe.length>=be));)ee.lastIndex===je.index&&ee.lastIndex++;return Je===ye.length?!Ze&&B(ee,"")||G(Pe,""):G(Pe,$(ye,Je)),Pe.length>be?I(Pe,0,be):Pe}:"0".split(void 0,0).length?function(ge,se){return ge===void 0&&se===0?[]:d(le,this,ge,se)}:le,[function(ge,se){var ye=w(this),be=ge==null?void 0:k(ge,pe);return be?d(be,ge,ye,se):d(Ee,P(ye),ge,se)},function(ge,se){var ye=x(this),be=P(ge),je=ve(Ee,ye,be,se,Ee!==le);if(je.done)return je.value;var Be=A(ye,RegExp),Ze=ye.unicode,Pe=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(V?"g":"y"),Re=new Be(V?"^(?:"+ye.source+")":ye,Pe),Je=se===void 0?Z:se>>>0;if(Je===0)return[];if(be.length===0)return L(Re,be)===null?[be]:[];for(var ee=0,J=0,ue=[];J<be.length;){Re.lastIndex=V?0:J;var we,Me=L(Re,V?$(be,J):be);if(Me===null||(we=F(T(Re.lastIndex+(V?J:0)),be.length))===ee)J=j(be,J,Ze);else{if(G(ue,$(be,ee,J)),ue.length===Je)return ue;for(var xe=1;xe<=Me.length-1;xe++)if(G(ue,Me[xe]),ue.length===Je)return ue;J=ee=we}}return G(ue,$(be,ee)),ue}]},!te,V)},function(a,l,i){var p=i(36),d=i(7),v=i(15),g=i(94),O=i(43),x=i(35),w=i(145),A=i(58),j=i(85),T=i(128),P=i(19),k=i(68).f,I=i(50).f,L=i(37).f,Y=i(197),Q=i(159).trim,X="Number",V=d.Number,Z=V.prototype,F=d.TypeError,R=v("".slice),B=v("".charCodeAt),G=function(Ee){var ge=T(Ee,"number");return typeof ge=="bigint"?ge:$(ge)},$=function(Ee){var ge,se,ye,be,je,Be,Ze,Pe,Re=T(Ee,"number");if(j(Re))throw F("Cannot convert a Symbol value to a number");if(typeof Re=="string"&&Re.length>2){if(Re=Q(Re),(ge=B(Re,0))===43||ge===45){if((se=B(Re,2))===88||se===120)return NaN}else if(ge===48){switch(B(Re,1)){case 66:case 98:ye=2,be=49;break;case 79:case 111:ye=8,be=55;break;default:return+Re}for(Be=(je=R(Re,2)).length,Ze=0;Ze<Be;Ze++)if((Pe=B(je,Ze))<48||Pe>be)return NaN;return parseInt(je,ye)}}return+Re};if(g(X,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var te,pe=function(Ee){var ge=arguments.length<1?0:V(G(Ee)),se=this;return A(Z,se)&&P(function(){Y(se)})?w(Object(ge),se,pe):ge},le=p?k(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;le.length>ve;ve++)x(V,te=le[ve])&&!x(pe,te)&&L(pe,te,I(V,te));pe.prototype=Z,Z.constructor=pe,O(d,X,pe)}},function(a,l,i){i(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,l,i){var p=i(17),d=i(214),v=i(99);p({target:"Array",proto:!0},{fill:d}),v("fill")},function(a,l){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}a.exports=i},function(a,l,i){var p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,v=d&&!p.call({1:2},1);l.f=v?function(g){var O=d(this,g);return!!O&&O.enumerable}:p},function(a,l,i){var p=i(7),d=i(15),v=i(19),g=i(51),O=p.Object,x=d("".split);a.exports=v(function(){return!O("z").propertyIsEnumerable(0)})?function(w){return g(w)=="String"?x(w,""):O(w)}:O},function(a,l,i){var p=i(128),d=i(85);a.exports=function(v){var g=p(v,"string");return d(g)?g:g+""}},function(a,l,i){var p=i(7),d=i(46),v=i(28),g=i(58),O=i(129),x=p.Object;a.exports=O?function(w){return typeof w=="symbol"}:function(w){var A=d("Symbol");return v(A)&&g(A.prototype,x(w))}},function(a,l,i){var p=i(7).String;a.exports=function(d){try{return p(d)}catch{return"Object"}}},function(a,l,i){var p=i(66),d=i(108);(a.exports=function(v,g){return d[v]||(d[v]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,l,i){var p=i(15),d=0,v=Math.random(),g=p(1 .toString);a.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+g(++d+v,36)}},function(a,l,i){var p=i(7),d=i(32),v=p.document,g=d(v)&&d(v.createElement);a.exports=function(O){return g?v.createElement(O):{}}},function(a,l,i){var p=i(15),d=i(28),v=i(108),g=p(Function.toString);d(v.inspectSource)||(v.inspectSource=function(O){return g(O)}),a.exports=v.inspectSource},function(a,l,i){var p=i(87),d=i(88),v=p("keys");a.exports=function(g){return v[g]||(v[g]=d(g))}},function(a,l,i){var p=i(36),d=i(35),v=Function.prototype,g=p&&Object.getOwnPropertyDescriptor,O=d(v,"name"),x=O&&(function(){}).name==="something",w=O&&(!p||p&&g(v,"name").configurable);a.exports={EXISTS:O,PROPER:x,CONFIGURABLE:w}},function(a,l,i){var p=i(70),d=Math.min;a.exports=function(v){return v>0?d(p(v),9007199254740991):0}},function(a,l,i){var p=i(19),d=i(28),v=/#|\.prototype\./,g=function(j,T){var P=x[O(j)];return P==A||P!=w&&(d(T)?p(T):!!T)},O=g.normalize=function(j){return String(j).replace(v,".").toLowerCase()},x=g.data={},w=g.NATIVE="N",A=g.POLYFILL="P";a.exports=g},function(a,l,i){var p=i(51);a.exports=Array.isArray||function(d){return p(d)=="Array"}},function(a,l,i){var p=i(7),d=i(112),v=i(28),g=i(51),O=i(27)("toStringTag"),x=p.Object,w=g(function(){return arguments}())=="Arguments";a.exports=d?g:function(A){var j,T,P;return A===void 0?"Undefined":A===null?"Null":typeof(T=function(k,I){try{return k[I]}catch{}}(j=x(A),O))=="string"?T:w?g(j):(P=g(j))=="Object"&&v(j.callee)?"Arguments":P}},function(a,l,i){var p=i(15);a.exports=p([].slice)},function(a,l,i){var p=i(15),d=i(19),v=i(28),g=i(96),O=i(46),x=i(90),w=function(){},A=[],j=O("Reflect","construct"),T=/^\s*(?:class|function)\b/,P=p(T.exec),k=!T.exec(w),I=function(L){if(!v(L))return!1;try{return j(w,A,L),!0}catch{return!1}};a.exports=!j||d(function(){var L;return I(I.call)||!I(Object)||!I(function(){L=!0})||L})?function(L){if(!v(L))return!1;switch(g(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return k||!!P(T,x(L))}:I},function(a,l,i){var p=i(27),d=i(57),v=i(37),g=p("unscopables"),O=Array.prototype;O[g]==null&&v.f(O,g,{configurable:!0,value:d(null)}),a.exports=function(x){O[g][x]=!0}},function(a,l,i){var p=i(7),d=i(35),v=i(28),g=i(39),O=i(91),x=i(140),w=O("IE_PROTO"),A=p.Object,j=A.prototype;a.exports=x?A.getPrototypeOf:function(T){var P=g(T);if(d(P,w))return P[w];var k=P.constructor;return v(k)&&P instanceof k?k.prototype:P instanceof A?j:null}},function(a,l,i){var p=i(15),d=i(33),v=i(176);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,O=!1,x={};try{(g=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x,[]),O=x instanceof Array}catch{}return function(w,A){return d(w),v(A),O?g(w,A):w.__proto__=A,w}}():void 0)},function(a,l,i){var p,d,v=i(34),g=i(15),O=i(41),x=i(185),w=i(151),A=i(87),j=i(57),T=i(56).get,P=i(186),k=i(187),I=A("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,Y=L,Q=g("".charAt),X=g("".indexOf),V=g("".replace),Z=g("".slice),F=(d=/b*/g,v(L,p=/a/,"a"),v(L,d,"a"),p.lastIndex!==0||d.lastIndex!==0),R=w.BROKEN_CARET,B=/()??/.exec("")[1]!==void 0;(F||B||R||P||k)&&(Y=function(G){var $,te,pe,le,ve,Ee,ge,se=this,ye=T(se),be=O(G),je=ye.raw;if(je)return je.lastIndex=se.lastIndex,$=v(Y,je,be),se.lastIndex=je.lastIndex,$;var Be=ye.groups,Ze=R&&se.sticky,Pe=v(x,se),Re=se.source,Je=0,ee=be;if(Ze&&(Pe=V(Pe,"y",""),X(Pe,"g")===-1&&(Pe+="g"),ee=Z(be,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&Q(be,se.lastIndex-1)!==`
`)&&(Re="(?: "+Re+")",ee=" "+ee,Je++),te=new RegExp("^(?:"+Re+")",Pe)),B&&(te=new RegExp("^"+Re+"$(?!\\s)",Pe)),F&&(pe=se.lastIndex),le=v(L,Ze?te:se,ee),Ze?le?(le.input=Z(le.input,Je),le[0]=Z(le[0],Je),le.index=se.lastIndex,se.lastIndex+=le[0].length):se.lastIndex=0:F&&le&&(se.lastIndex=se.global?le.index+le[0].length:pe),B&&le&&le.length>1&&v(I,le[0],te,function(){for(ve=1;ve<arguments.length-2;ve++)arguments[ve]===void 0&&(le[ve]=void 0)}),le&&Be)for(le.groups=Ee=j(null),ve=0;ve<Be.length;ve++)Ee[(ge=Be[ve])[0]]=le[ge[1]];return le}),a.exports=Y},function(a,l,i){var p=i(17),d=i(7),v=i(69),g=i(70),O=i(44),x=i(39),w=i(114),A=i(60),j=i(76)("splice"),T=d.TypeError,P=Math.max,k=Math.min,I=9007199254740991,L="Maximum allowed length exceeded";p({target:"Array",proto:!0,forced:!j},{splice:function(Y,Q){var X,V,Z,F,R,B,G=x(this),$=O(G),te=v(Y,$),pe=arguments.length;if(pe===0?X=V=0:pe===1?(X=0,V=$-te):(X=pe-2,V=k(P(g(Q),0),$-te)),$+X-V>I)throw T(L);for(Z=w(G,V),F=0;F<V;F++)(R=te+F)in G&&A(Z,F,G[R]);if(Z.length=V,X<V){for(F=te;F<$-V;F++)B=F+X,(R=F+V)in G?G[B]=G[R]:delete G[B];for(F=$;F>$-V+X;F--)delete G[F-1]}else if(X>V)for(F=$-V;F>te;F--)B=F+X-1,(R=F+V-1)in G?G[B]=G[R]:delete G[B];for(F=0;F<X;F++)G[F+te]=arguments[F+2];return G.length=$-V+X,Z}})},function(a,l,i){var p=i(17),d=i(202);p({target:"String",proto:!0,forced:i(203)("anchor")},{anchor:function(v){return d(this,"a","name",v)}})},function(a,l,i){(function(p){var d=typeof p=="object"&&p&&p.Object===Object&&p;l.a=d}).call(this,i(81))},function(a,l,i){(function(p){var d=i(31),v=u&&!u.nodeType&&u,g=v&&typeof p=="object"&&p&&!p.nodeType&&p,O=g&&g.exports===v?d.a.Buffer:void 0,x=O?O.allocUnsafe:void 0;l.a=function(w,A){if(A)return w.slice();var j=w.length,T=x?x(j):new w.constructor(j);return w.copy(T),T}}).call(this,i(121)(a))},function(a,l,i){var p=i(65),d=i(19);a.exports=!!Object.getOwnPropertySymbols&&!d(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(a,l,i){var p=i(7),d=i(109),v="__core-js_shared__",g=p[v]||d(v,{});a.exports=g},function(a,l,i){var p=i(7),d=Object.defineProperty;a.exports=function(v,g){try{d(p,v,{value:g,configurable:!0,writable:!0})}catch{p[v]=g}return g}},function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,l){l.f=Object.getOwnPropertySymbols},function(a,l,i){var p={};p[i(27)("toStringTag")]="z",a.exports=String(p)==="[object z]"},function(a,l,i){var p=i(7),d=i(69),v=i(44),g=i(60),O=p.Array,x=Math.max;a.exports=function(w,A,j){for(var T=v(w),P=d(A,T),k=d(j===void 0?T:j,T),I=O(x(k-P,0)),L=0;P<k;P++,L++)g(I,L,w[P]);return I.length=L,I}},function(a,l,i){var p=i(173);a.exports=function(d,v){return new(p(d))(v===0?0:v)}},function(a,l,i){var p=i(17),d=i(34),v=i(66),g=i(92),O=i(28),x=i(175),w=i(100),A=i(101),j=i(73),T=i(55),P=i(43),k=i(27),I=i(75),L=i(139),Y=g.PROPER,Q=g.CONFIGURABLE,X=L.IteratorPrototype,V=L.BUGGY_SAFARI_ITERATORS,Z=k("iterator"),F="keys",R="values",B="entries",G=function(){return this};a.exports=function($,te,pe,le,ve,Ee,ge){x(pe,te,le);var se,ye,be,je=function(J){if(J===ve&&Je)return Je;if(!V&&J in Pe)return Pe[J];switch(J){case F:case R:case B:return function(){return new pe(this,J)}}return function(){return new pe(this)}},Be=te+" Iterator",Ze=!1,Pe=$.prototype,Re=Pe[Z]||Pe["@@iterator"]||ve&&Pe[ve],Je=!V&&Re||je(ve),ee=te=="Array"&&Pe.entries||Re;if(ee&&(se=w(ee.call(new $)))!==Object.prototype&&se.next&&(v||w(se)===X||(A?A(se,X):O(se[Z])||P(se,Z,G)),j(se,Be,!0,!0),v&&(I[Be]=G)),Y&&ve==R&&Re&&Re.name!==R&&(!v&&Q?T(Pe,"name",R):(Ze=!0,Je=function(){return d(Re,this)})),ve)if(ye={values:je(R),keys:Ee?Je:je(F),entries:je(B)},ge)for(be in ye)(V||Ze||!(be in Pe))&&P(Pe,be,ye[be]);else p({target:te,proto:!0,forced:V||Ze},ye);return v&&!ge||Pe[Z]===Je||P(Pe,Z,Je,{name:ve}),I[te]=Je,ye}},function(a,l,i){var p=i(7),d=i(61),v=i(34),g=i(33),O=i(86),x=i(142),w=i(44),A=i(58),j=i(143),T=i(117),P=i(144),k=p.TypeError,I=function(Y,Q){this.stopped=Y,this.result=Q},L=I.prototype;a.exports=function(Y,Q,X){var V,Z,F,R,B,G,$,te=X&&X.that,pe=!(!X||!X.AS_ENTRIES),le=!(!X||!X.IS_ITERATOR),ve=!(!X||!X.INTERRUPTED),Ee=d(Q,te),ge=function(ye){return V&&P(V,"normal",ye),new I(!0,ye)},se=function(ye){return pe?(g(ye),ve?Ee(ye[0],ye[1],ge):Ee(ye[0],ye[1])):ve?Ee(ye,ge):Ee(ye)};if(le)V=Y;else{if(!(Z=T(Y)))throw k(O(Y)+" is not iterable");if(x(Z)){for(F=0,R=w(Y);R>F;F++)if((B=se(Y[F]))&&A(L,B))return B;return new I(!1)}V=j(Y,Z)}for(G=V.next;!($=v(G,V)).done;){try{B=se($.value)}catch(ye){P(V,"throw",ye)}if(typeof B=="object"&&B&&A(L,B))return B}return new I(!1)}},function(a,l,i){var p=i(96),d=i(59),v=i(75),g=i(27)("iterator");a.exports=function(O){if(O!=null)return d(O,g)||d(O,"@@iterator")||v[p(O)]}},function(a,l,i){var p=i(7),d=i(58),v=p.TypeError;a.exports=function(g,O){if(d(O,g))return g;throw v("Incorrect invocation")}},function(a,l,i){var p=i(27)("iterator"),d=!1;try{var v=0,g={next:function(){return{done:!!v++}},return:function(){d=!0}};g[p]=function(){return this},Array.from(g,function(){throw 2})}catch{}a.exports=function(O,x){if(!x&&!d)return!1;var w=!1;try{var A={};A[p]=function(){return{next:function(){return{done:w=!0}}}},O(A)}catch{}return w}},function(a,l,i){var p=i(19);a.exports=function(d,v){var g=[][d];return!!g&&p(function(){g.call(null,v||function(){throw 1},1)})}},function(a,l){a.exports=function(i){if(!i.webpackPolyfill){var p=Object.create(i);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(a,l,i){i(18);var p=i(15),d=i(43),v=i(102),g=i(19),O=i(27),x=i(55),w=O("species"),A=RegExp.prototype;a.exports=function(j,T,P,k){var I=O(j),L=!g(function(){var V={};return V[I]=function(){return 7},""[j](V)!=7}),Y=L&&!g(function(){var V=!1,Z=/a/;return j==="split"&&((Z={}).constructor={},Z.constructor[w]=function(){return Z},Z.flags="",Z[I]=/./[I]),Z.exec=function(){return V=!0,null},Z[I](""),!V});if(!L||!Y||P){var Q=p(/./[I]),X=T(I,""[j],function(V,Z,F,R,B){var G=p(V),$=Z.exec;return $===v||$===A.exec?L&&!B?{done:!0,value:Q(Z,F,R)}:{done:!0,value:G(F,Z,R)}:{done:!1}});d(String.prototype,j,X[0]),d(A,I,X[1])}k&&x(A[I],"sham",!0)}},function(a,l,i){var p=i(148).charAt;a.exports=function(d,v,g){return v+(g?p(d,v).length:1)}},function(a,l,i){var p=i(7),d=i(34),v=i(33),g=i(28),O=i(51),x=i(102),w=p.TypeError;a.exports=function(A,j){var T=A.exec;if(g(T)){var P=d(T,A,j);return P!==null&&v(P),P}if(O(A)==="RegExp")return d(x,A,j);throw w("RegExp#exec called on incompatible receiver")}},function(a,l,i){var p=i(71),d=i(34),v=i(15),g=i(122),O=i(19),x=i(33),w=i(28),A=i(70),j=i(93),T=i(41),P=i(45),k=i(123),I=i(59),L=i(198),Y=i(124),Q=i(27)("replace"),X=Math.max,V=Math.min,Z=v([].concat),F=v([].push),R=v("".indexOf),B=v("".slice),G="a".replace(/./,"$0")==="$0",$=!!/./[Q]&&/./[Q]("a","$0")==="";g("replace",function(te,pe,le){var ve=$?"$":"$0";return[function(Ee,ge){var se=P(this),ye=Ee==null?void 0:I(Ee,Q);return ye?d(ye,Ee,se,ge):d(pe,T(se),Ee,ge)},function(Ee,ge){var se=x(this),ye=T(Ee);if(typeof ge=="string"&&R(ge,ve)===-1&&R(ge,"$<")===-1){var be=le(pe,se,ye,ge);if(be.done)return be.value}var je=w(ge);je||(ge=T(ge));var Be=se.global;if(Be){var Ze=se.unicode;se.lastIndex=0}for(var Pe=[];;){var Re=Y(se,ye);if(Re===null||(F(Pe,Re),!Be))break;T(Re[0])===""&&(se.lastIndex=k(ye,j(se.lastIndex),Ze))}for(var Je,ee="",J=0,ue=0;ue<Pe.length;ue++){for(var we=T((Re=Pe[ue])[0]),Me=X(V(A(Re.index),ye.length),0),xe=[],Qe=1;Qe<Re.length;Qe++)F(xe,(Je=Re[Qe])===void 0?Je:String(Je));var it=Re.groups;if(je){var tt=Z([we],xe,Me,ye);it!==void 0&&F(tt,it);var Ve=T(p(ge,void 0,tt))}else Ve=L(we,ye,Me,xe,it,ge);Me>=J&&(ee+=B(ye,J,Me)+Ve,J=Me+we.length)}return ee+B(ye,J)}]},!!O(function(){var te=/./;return te.exec=function(){var pe=[];return pe.groups={a:"7"},pe},"".replace(te,"$<a>")!=="7"})||!G||$)},function(a,l,i){var p=i(51),d=i(7);a.exports=p(d.process)=="process"},function(a,l,i){i(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,l,i){var p=i(7),d=i(34),v=i(32),g=i(85),O=i(59),x=i(169),w=i(27),A=p.TypeError,j=w("toPrimitive");a.exports=function(T,P){if(!v(T)||g(T))return T;var k,I=O(T,j);if(I){if(P===void 0&&(P="default"),k=d(I,T,P),!v(k)||g(k))return k;throw A("Can't convert object to primitive value")}return P===void 0&&(P="number"),x(T,P)}},function(a,l,i){var p=i(107);a.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,l,i){var p=i(36),d=i(19),v=i(89);a.exports=!p&&!d(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(a,l,i){var p=i(35),d=i(132),v=i(50),g=i(37);a.exports=function(O,x){for(var w=d(x),A=g.f,j=v.f,T=0;T<w.length;T++){var P=w[T];p(O,P)||A(O,P,j(x,P))}}},function(a,l,i){var p=i(46),d=i(15),v=i(68),g=i(111),O=i(33),x=d([].concat);a.exports=p("Reflect","ownKeys")||function(w){var A=v.f(O(w)),j=g.f;return j?x(A,j(w)):A}},function(a,l,i){var p=i(15),d=i(35),v=i(40),g=i(134).indexOf,O=i(67),x=p([].push);a.exports=function(w,A){var j,T=v(w),P=0,k=[];for(j in T)!d(O,j)&&d(T,j)&&x(k,j);for(;A.length>P;)d(T,j=A[P++])&&(~g(k,j)||x(k,j));return k}},function(a,l,i){var p=i(40),d=i(69),v=i(44),g=function(O){return function(x,w,A){var j,T=p(x),P=v(T),k=d(A,P);if(O&&w!=w){for(;P>k;)if((j=T[k++])!=j)return!0}else for(;P>k;k++)if((O||k in T)&&T[k]===w)return O||k||0;return!O&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,l,i){var p=i(46);a.exports=p("document","documentElement")},function(a,l,i){var p=i(51),d=i(40),v=i(68).f,g=i(113),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(x){return O&&p(x)=="Window"?function(w){try{return v(w)}catch{return g(O)}}(x):v(d(x))}},function(a,l,i){var p=i(27);l.f=p},function(a,l,i){var p=i(172),d=i(35),v=i(137),g=i(37).f;a.exports=function(O){var x=p.Symbol||(p.Symbol={});d(x,O)||g(x,O,{value:v.f(O)})}},function(a,l,i){var p,d,v,g=i(19),O=i(28),x=i(57),w=i(100),A=i(43),j=i(27),T=i(66),P=j("iterator"),k=!1;[].keys&&("next"in(v=[].keys())?(d=w(w(v)))!==Object.prototype&&(p=d):k=!0),p==null||g(function(){var I={};return p[P].call(I)!==I})?p={}:T&&(p=x(p)),O(p[P])||A(p,P,function(){return this}),a.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:k}},function(a,l,i){var p=i(19);a.exports=!p(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(a,l,i){var p=i(17),d=i(15),v=i(67),g=i(32),O=i(35),x=i(37).f,w=i(68),A=i(136),j=i(178),T=i(88),P=i(180),k=!1,I=T("meta"),L=0,Y=function(X){x(X,I,{value:{objectID:"O"+L++,weakData:{}}})},Q=a.exports={enable:function(){Q.enable=function(){},k=!0;var X=w.f,V=d([].splice),Z={};Z[I]=1,X(Z).length&&(w.f=function(F){for(var R=X(F),B=0,G=R.length;B<G;B++)if(R[B]===I){V(R,B,1);break}return R},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(X,V){if(!g(X))return typeof X=="symbol"?X:(typeof X=="string"?"S":"P")+X;if(!O(X,I)){if(!j(X))return"F";if(!V)return"E";Y(X)}return X[I].objectID},getWeakData:function(X,V){if(!O(X,I)){if(!j(X))return!0;if(!V)return!1;Y(X)}return X[I].weakData},onFreeze:function(X){return P&&k&&j(X)&&!O(X,I)&&Y(X),X}};v[I]=!0},function(a,l,i){var p=i(27),d=i(75),v=p("iterator"),g=Array.prototype;a.exports=function(O){return O!==void 0&&(d.Array===O||g[v]===O)}},function(a,l,i){var p=i(7),d=i(34),v=i(54),g=i(33),O=i(86),x=i(117),w=p.TypeError;a.exports=function(A,j){var T=arguments.length<2?x(A):j;if(v(T))return g(d(T,A));throw w(O(A)+" is not iterable")}},function(a,l,i){var p=i(34),d=i(33),v=i(59);a.exports=function(g,O,x){var w,A;d(g);try{if(!(w=v(g,"return"))){if(O==="throw")throw x;return x}w=p(w,g)}catch(j){A=!0,w=j}if(O==="throw")throw x;if(A)throw w;return d(w),x}},function(a,l,i){var p=i(28),d=i(32),v=i(101);a.exports=function(g,O,x){var w,A;return v&&p(w=O.constructor)&&w!==x&&d(A=w.prototype)&&A!==x.prototype&&v(g,A),g}},function(a,l,i){var p=i(43);a.exports=function(d,v,g){for(var O in v)p(d,O,v[O],g);return d}},function(a,l,i){var p=i(46),d=i(37),v=i(27),g=i(36),O=v("species");a.exports=function(x){var w=p(x),A=d.f;g&&w&&!w[O]&&A(w,O,{configurable:!0,get:function(){return this}})}},function(a,l,i){var p=i(15),d=i(70),v=i(41),g=i(45),O=p("".charAt),x=p("".charCodeAt),w=p("".slice),A=function(j){return function(T,P){var k,I,L=v(g(T)),Y=d(P),Q=L.length;return Y<0||Y>=Q?j?"":void 0:(k=x(L,Y))<55296||k>56319||Y+1===Q||(I=x(L,Y+1))<56320||I>57343?j?O(L,Y):k:j?w(L,Y,Y+2):I-56320+(k-55296<<10)+65536}};a.exports={codeAt:A(!1),charAt:A(!0)}},function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,l,i){var p=i(89)("span").classList,d=p&&p.constructor&&p.constructor.prototype;a.exports=d===Object.prototype?void 0:d},function(a,l,i){var p=i(19),d=i(7).RegExp,v=p(function(){var x=d("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),g=v||p(function(){return!d("a","y").sticky}),O=v||p(function(){var x=d("^r","gy");return x.lastIndex=2,x.exec("str")!=null});a.exports={BROKEN_CARET:O,MISSED_STICKY:g,UNSUPPORTED_Y:v}},function(a,l,i){var p=i(17),d=i(134).includes,v=i(99);p({target:"Array",proto:!0},{includes:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(a,l,i){var p=i(17),d=i(15),v=i(194),g=i(45),O=i(41),x=i(195),w=d("".indexOf);p({target:"String",proto:!0,forced:!x("includes")},{includes:function(A){return!!~w(O(g(this)),O(v(A)),arguments.length>1?arguments[1]:void 0)}})},function(a,l,i){var p=i(32),d=i(51),v=i(27)("match");a.exports=function(g){var O;return p(g)&&((O=g[v])!==void 0?!!O:d(g)=="RegExp")}},function(a,l){var i,p,d=a.exports={};function v(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function O(L){if(i===setTimeout)return setTimeout(L,0);if((i===v||!i)&&setTimeout)return i=setTimeout,setTimeout(L,0);try{return i(L,0)}catch{try{return i.call(null,L,0)}catch{return i.call(this,L,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:v}catch{i=v}try{p=typeof clearTimeout=="function"?clearTimeout:g}catch{p=g}})();var x,w=[],A=!1,j=-1;function T(){A&&x&&(A=!1,x.length?w=x.concat(w):j=-1,w.length&&P())}function P(){if(!A){var L=O(T);A=!0;for(var Y=w.length;Y;){for(x=w,w=[];++j<Y;)x&&x[j].run();j=-1,Y=w.length}x=null,A=!1,function(Q){if(p===clearTimeout)return clearTimeout(Q);if((p===g||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(Q);try{p(Q)}catch{try{return p.call(null,Q)}catch{return p.call(this,Q)}}}(L)}}function k(L,Y){this.fun=L,this.array=Y}function I(){}d.nextTick=function(L){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var Q=1;Q<arguments.length;Q++)Y[Q-1]=arguments[Q];w.push(new k(L,Y)),w.length!==1||A||O(P)},k.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=I,d.addListener=I,d.once=I,d.off=I,d.removeListener=I,d.removeAllListeners=I,d.emit=I,d.prependListener=I,d.prependOnceListener=I,d.listeners=function(L){return[]},d.binding=function(L){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(L){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(a,l,i){var p=i(33),d=i(157),v=i(27)("species");a.exports=function(g,O){var x,w=p(g).constructor;return w===void 0||(x=p(w)[v])==null?O:d(x)}},function(a,l,i){var p=i(7),d=i(98),v=i(86),g=p.TypeError;a.exports=function(O){if(d(O))return O;throw g(v(O)+" is not a constructor")}},function(a,l,i){var p=i(17),d=i(159).trim;p({target:"String",proto:!0,forced:i(196)("trim")},{trim:function(){return d(this)}})},function(a,l,i){var p=i(15),d=i(45),v=i(41),g=i(160),O=p("".replace),x="["+g+"]",w=RegExp("^"+x+x+"*"),A=RegExp(x+x+"*$"),j=function(T){return function(P){var k=v(d(P));return 1&T&&(k=O(k,w,"")),2&T&&(k=O(k,A,"")),k}};a.exports={start:j(1),end:j(2),trim:j(3)}},function(a,l){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,l,i){var p=i(34),d=i(122),v=i(33),g=i(93),O=i(41),x=i(45),w=i(59),A=i(123),j=i(124);d("match",function(T,P,k){return[function(I){var L=x(this),Y=I==null?void 0:w(I,T);return Y?p(Y,I,L):new RegExp(I)[T](O(L))},function(I){var L=v(this),Y=O(I),Q=k(P,L,Y);if(Q.done)return Q.value;if(!L.global)return j(L,Y);var X=L.unicode;L.lastIndex=0;for(var V,Z=[],F=0;(V=j(L,Y))!==null;){var R=O(V[0]);Z[F]=R,R===""&&(L.lastIndex=A(Y,g(L.lastIndex),X)),F++}return F===0?null:Z}]})},function(a,l,i){var p=i(17),d=Math.hypot,v=Math.abs,g=Math.sqrt;p({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(O,x){for(var w,A,j=0,T=0,P=arguments.length,k=0;T<P;)k<(w=v(arguments[T++]))?(j=j*(A=k/w)*A+1,k=w):j+=w>0?(A=w/k)*A:w;return k===1/0?1/0:k*g(j)}})},function(a,l,i){var p,d,v,g,O=i(7),x=i(71),w=i(61),A=i(28),j=i(35),T=i(19),P=i(135),k=i(97),I=i(89),L=i(164),Y=i(126),Q=O.setImmediate,X=O.clearImmediate,V=O.process,Z=O.Dispatch,F=O.Function,R=O.MessageChannel,B=O.String,G=0,$={},te="onreadystatechange";try{p=O.location}catch{}var pe=function(ge){if(j($,ge)){var se=$[ge];delete $[ge],se()}},le=function(ge){return function(){pe(ge)}},ve=function(ge){pe(ge.data)},Ee=function(ge){O.postMessage(B(ge),p.protocol+"//"+p.host)};Q&&X||(Q=function(ge){var se=k(arguments,1);return $[++G]=function(){x(A(ge)?ge:F(ge),void 0,se)},d(G),G},X=function(ge){delete $[ge]},Y?d=function(ge){V.nextTick(le(ge))}:Z&&Z.now?d=function(ge){Z.now(le(ge))}:R&&!L?(g=(v=new R).port2,v.port1.onmessage=ve,d=w(g.postMessage,g)):O.addEventListener&&A(O.postMessage)&&!O.importScripts&&p&&p.protocol!=="file:"&&!T(Ee)?(d=Ee,O.addEventListener("message",ve,!1)):d=te in I("script")?function(ge){P.appendChild(I("script")).onreadystatechange=function(){P.removeChild(this),pe(ge)}}:function(ge){setTimeout(le(ge),0)}),a.exports={set:Q,clear:X}},function(a,l,i){var p=i(53);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(p)},function(a,l,i){var p=i(54),d=function(v){var g,O;this.promise=new v(function(x,w){if(g!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");g=x,O=w}),this.resolve=p(g),this.reject=p(O)};a.exports.f=function(v){return new d(v)}},function(a,l,i){l.a=function(){return!1}},function(a,l,i){(function(p){i.d(l,"a",function(){return V});var d=i(1);function v(R){throw new Error("[mobx-utils] "+R)}function g(R,B){B===void 0&&(B="Illegal state"),R||v(B)}var O=function(R){return R&&R!==Object.prototype&&Object.getOwnPropertyNames(R).concat(O(Object.getPrototypeOf(R))||[])},x=function(R){return function(B){var G=O(B);return G.filter(function($,te){return G.indexOf($)===te})}(R).filter(function(B){return B!=="constructor"&&!~B.indexOf("__")})},w="pending",A="fulfilled",j="rejected";function T(R){switch(this.state){case w:return R.pending&&R.pending(this.value);case j:return R.rejected&&R.rejected(this.value);case A:return R.fulfilled?R.fulfilled(this.value):this.value}}function P(R,B){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof R=="function"||typeof R=="object"&&R&&typeof R.then=="function","Please pass a promise or function to fromPromise"),R.isPromiseBasedObservable===!0)return R;typeof R=="function"&&(R=new Promise(R));var G=R;R.then(Object(d.k)("observableFromPromise-resolve",function(te){G.value=te,G.state=A}),Object(d.k)("observableFromPromise-reject",function(te){G.value=te,G.state=j})),G.isPromiseBasedObservable=!0,G.case=T;var $=B&&B.state===A?B.value:void 0;return Object(d.q)(G,{value:$,state:w},{},{deep:!1}),G}(function(R){R.reject=Object(d.k)("fromPromise.reject",function(B){var G=R(Promise.reject(B));return G.state=j,G.value=B,G}),R.resolve=Object(d.k)("fromPromise.resolve",function(B){B===void 0&&(B=void 0);var G=R(Promise.resolve(B));return G.state=A,G.value=B,G})})(P||(P={}));var k=function(R,B,G,$){var te,pe=arguments.length,le=pe<3?B:$===null?$=Object.getOwnPropertyDescriptor(B,G):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(R,B,G,$);else for(var ve=R.length-1;ve>=0;ve--)(te=R[ve])&&(le=(pe<3?te(le):pe>3?te(B,G,le):te(B,G))||le);return pe>3&&le&&Object.defineProperty(B,G,le),le};(function(){function R(B,G){var $=this;Object(d.G)(function(){$.current=G,$.subscription=B.subscribe($)})}R.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},R.prototype.next=function(B){this.current=B},R.prototype.complete=function(){this.dispose()},R.prototype.error=function(B){this.current=B,this.dispose()},k([d.C.ref],R.prototype,"current",void 0),k([d.k.bound],R.prototype,"next",null),k([d.k.bound],R.prototype,"complete",null),k([d.k.bound],R.prototype,"error",null)})();var I=function(){return I=Object.assign||function(R){for(var B,G=1,$=arguments.length;G<$;G++)for(var te in B=arguments[G])Object.prototype.hasOwnProperty.call(B,te)&&(R[te]=B[te]);return R},I.apply(this,arguments)},L=function(R,B,G,$){var te,pe=arguments.length,le=pe<3?B:$===null?$=Object.getOwnPropertyDescriptor(B,G):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(R,B,G,$);else for(var ve=R.length-1;ve>=0;ve--)(te=R[ve])&&(le=(pe<3?te(le):pe>3?te(B,G,le):te(B,G))||le);return pe>3&&le&&Object.defineProperty(B,G,le),le},Y=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function R(B){var G=this;this.model=B,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function($){return G.localValues.has($)},g(Object(d.A)(B),"createViewModel expects an observable object"),x(B).forEach(function($){if($!==d.a&&$!=="__mobxDidRunLazyInitializers"){if(g(Y.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(d.w)(B,$)){var te=Object(d.h)(B,$).derivation;G.localComputedValues.set($,Object(d.m)(te.bind(G)))}var pe=Object.getOwnPropertyDescriptor(B,$),le=pe?{enumerable:pe.enumerable}:{};Object.defineProperty(G,$,I(I({},le),{configurable:!0,get:function(){return Object(d.w)(B,$)?G.localComputedValues.get($).get():G.isPropertyDirty($)?G.localValues.get($):G.model[$]},set:Object(d.k)(function(ve){ve!==G.model[$]?G.localValues.set($,ve):G.localValues.delete($)})}))}})}Object.defineProperty(R.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),R.prototype.submit=function(){var B=this;Object(d.B)(this.localValues).forEach(function(G){var $=B.localValues.get(G),te=B.model[G];Object(d.y)(te)?te.replace($):Object(d.z)(te)?(te.clear(),te.merge($)):Object(d.v)($)||(B.model[G]=$)}),this.localValues.clear()},R.prototype.reset=function(){this.localValues.clear()},R.prototype.resetProperty=function(B){this.localValues.delete(B)},L([d.m],R.prototype,"isDirty",null),L([d.m],R.prototype,"changedValues",null),L([d.k.bound],R.prototype,"submit",null),L([d.k.bound],R.prototype,"reset",null),L([d.k.bound],R.prototype,"resetProperty",null)})();function Q(R){if(!R)return"ROOT";for(var B=[];R.parent;)B.push(R.path),R=R.parent;return B.reverse().join("/")}function X(R){return Object(d.A)(R)||Object(d.y)(R)||Object(d.z)(R)}function V(R,B){var G=new WeakMap;function $(le){var ve=G.get(le.object);(function(Ee,ge){switch(Ee.type){case"add":te(Ee.newValue,ge,Ee.name);break;case"update":pe(Ee.oldValue),te(Ee.newValue,ge,Ee.name||""+Ee.index);break;case"remove":case"delete":pe(Ee.oldValue);break;case"splice":Ee.removed.map(pe),Ee.added.forEach(function(be,je){return te(be,ge,""+(Ee.index+je))});for(var se=Ee.index+Ee.addedCount;se<Ee.object.length;se++)if(X(Ee.object[se])){var ye=G.get(Ee.object[se]);ye&&(ye.path=""+se)}}})(le,ve),B(le,Q(ve),R)}function te(le,ve,Ee){if(X(le)){var ge=G.get(le);if(ge){if(ge.parent!==ve||ge.path!==Ee)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+Q(ve)+"/"+Ee+"', but it already exists at '"+Q(ge.parent)+"/"+ge.path+"'")}else{var se={parent:ve,path:Ee,dispose:Object(d.D)(le,$)};G.set(le,se),Object(d.p)(le).forEach(function(ye){var be=ye[0];return te(ye[1],se,be)})}}}function pe(le){if(X(le)){var ve=G.get(le);if(!ve)return;G.delete(le),ve.dispose(),Object(d.L)(le).forEach(pe)}}return te(R,void 0,""),function(){pe(R)}}var Z,F=(Z=function(R,B){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,$){G.__proto__=$}||function(G,$){for(var te in $)$.hasOwnProperty(te)&&(G[te]=$[te])},Z(R,B)},function(R,B){function G(){this.constructor=R}Z(R,B),R.prototype=B===null?Object.create(B):(G.prototype=B.prototype,new G)});(function(R){function B(G,$,te){var pe=te===void 0?{}:te,le=pe.name,ve=le===void 0?"ogm"+(1e3*Math.random()|0):le,Ee=pe.keyToName,ge=Ee===void 0?function(be){return""+be}:Ee,se=R.call(this)||this;se._keyToName=ge,se._groupBy=$,se._ogmInfoKey=Symbol("ogmInfo"+ve),se._base=G;for(var ye=0;ye<G.length;ye++)se._addItem(G[ye]);return se._disposeBaseObserver=Object(d.D)(se._base,function(be){if(be.type==="splice")Object(d.J)(function(){for(var je=0,Be=be.removed;je<Be.length;je++){var Ze=Be[je];se._removeItem(Ze)}for(var Pe=0,Re=be.added;Pe<Re.length;Pe++){var Je=Re[Pe];se._addItem(Je)}});else{if(be.type!=="update")throw new Error("illegal state");Object(d.J)(function(){se._removeItem(be.oldValue),se._addItem(be.newValue)})}}),se}F(B,R),B.prototype.clear=function(){throw new Error("not supported")},B.prototype.delete=function(G){throw new Error("not supported")},B.prototype.set=function(G,$){throw new Error("not supported")},B.prototype.dispose=function(){this._disposeBaseObserver();for(var G=0;G<this._base.length;G++){var $=this._base[G];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},B.prototype._getGroupArr=function(G){var $=R.prototype.get.call(this,G);return $===void 0&&($=Object(d.C)([],{name:"GroupArray["+this._keyToName(G)+"]",deep:!1}),R.prototype.set.call(this,G,$)),$},B.prototype._removeFromGroupArr=function(G,$){var te=R.prototype.get.call(this,G);te.length===1?R.prototype.delete.call(this,G):($===te.length-1||(te[$]=te[te.length-1],te[$][this._ogmInfoKey].groupArrIndex=$),te.length--)},B.prototype._addItem=function(G){var $=this,te=this._groupBy(G),pe=this._getGroupArr(te),le={groupByValue:te,groupArrIndex:pe.length,reaction:Object(d.F)(function(){return $._groupBy(G)},function(ve,Ee){var ge=G[$._ogmInfoKey];$._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var se=$._getGroupArr(ve),ye=se.length;se.push(G),ge.groupByValue=ve,ge.groupArrIndex=ye})};Object.defineProperty(G,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:le}),pe.push(G)},B.prototype._removeItem=function(G){var $=G[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete G[this._ogmInfoKey]}})(d.b),function(){function R(B,G){this.base=B,this.args=G,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=B,te=0;te<this.args.length-1&&($=$.get(G[te]));te++)this.closest=$;this.closestIdx=te}return R.prototype.exists=function(){this.assertNotDisposed();var B=this.args.length;return this.closestIdx>=B-1&&this.closest.has(this.args[B-1])},R.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},R.prototype.set=function(B){this.assertNotDisposed();for(var G=this.args.length,$=this.closest,te=this.closestIdx;te<G-1;te++){var pe=new Map;$.set(this.args[te],pe),$=pe}this.closestIdx=G-1,this.closest=$,$.set(this.args[G-1],B)},R.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var B=this.args.length;this.closest.delete(this.args[B-1]);for(var G=this.root,$=[G],te=0;te<B-1;te++)G=G.get(this.args[te]),$.push(G);for(te=$.length-1;te>0;te--)$[te].size===0&&$[te-1].delete(this.args[te-1]);this.isDisposed=!0},R.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},R}(),Promise.resolve(),typeof queueMicrotask<"u"||p!==void 0&&p.nextTick}).call(this,i(155))},function(a,l,i){var p;(function(d,v,g){if(d){for(var O,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},j={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},T=1;T<20;++T)x[111+T]="f"+T;for(T=0;T<=9;++T)x[T+96]=T.toString();X.prototype.bind=function(V,Z,F){var R=this;return V=V instanceof Array?V:[V],R._bindMultiple.call(R,V,Z,F),R},X.prototype.unbind=function(V,Z){return this.bind.call(this,V,function(){},Z)},X.prototype.trigger=function(V,Z){var F=this;return F._directMap[V+":"+Z]&&F._directMap[V+":"+Z]({},V),F},X.prototype.reset=function(){var V=this;return V._callbacks={},V._directMap={},V},X.prototype.stopCallback=function(V,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||Q(Z,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var F=V.composedPath()[0];F!==V.target&&(Z=F)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},X.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},X.addKeycodes=function(V){for(var Z in V)V.hasOwnProperty(Z)&&(x[Z]=V[Z]);O=null},X.init=function(){var V=X(v);for(var Z in V)Z.charAt(0)!=="_"&&(X[Z]=function(F){return function(){return V[F].apply(V,arguments)}}(Z))},X.init(),d.Mousetrap=X,a.exports&&(a.exports=X),(p=(function(){return X}).call(l,i,l,a))===void 0||(a.exports=p)}function P(V,Z,F){V.addEventListener?V.addEventListener(Z,F,!1):V.attachEvent("on"+Z,F)}function k(V){if(V.type=="keypress"){var Z=String.fromCharCode(V.which);return V.shiftKey||(Z=Z.toLowerCase()),Z}return x[V.which]?x[V.which]:w[V.which]?w[V.which]:String.fromCharCode(V.which).toLowerCase()}function I(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function L(V,Z,F){return F||(F=function(){if(!O)for(var R in O={},x)R>95&&R<112||x.hasOwnProperty(R)&&(O[x[R]]=R);return O}()[V]?"keydown":"keypress"),F=="keypress"&&Z.length&&(F="keydown"),F}function Y(V,Z){var F,R,B,G=[];for(F=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(V),B=0;B<F.length;++B)R=F[B],j[R]&&(R=j[R]),Z&&Z!="keypress"&&A[R]&&(R=A[R],G.push("shift")),I(R)&&G.push(R);return{key:R,modifiers:G,action:Z=L(R,G,Z)}}function Q(V,Z){return V!==null&&V!==v&&(V===Z||Q(V.parentNode,Z))}function X(V){var Z=this;if(V=V||v,!(Z instanceof X))return new X(V);Z.target=V,Z._callbacks={},Z._directMap={};var F,R={},B=!1,G=!1,$=!1;function te(se){se=se||{};var ye,be=!1;for(ye in R)se[ye]?be=!0:R[ye]=0;be||($=!1)}function pe(se,ye,be,je,Be,Ze){var Pe,Re,Je,ee,J=[],ue=be.type;if(!Z._callbacks[se])return[];for(ue=="keyup"&&I(se)&&(ye=[se]),Pe=0;Pe<Z._callbacks[se].length;++Pe)if(Re=Z._callbacks[se][Pe],(je||!Re.seq||R[Re.seq]==Re.level)&&ue==Re.action&&(ue=="keypress"&&!be.metaKey&&!be.ctrlKey||(Je=ye,ee=Re.modifiers,Je.sort().join(",")===ee.sort().join(",")))){var we=!je&&Re.combo==Be,Me=je&&Re.seq==je&&Re.level==Ze;(we||Me)&&Z._callbacks[se].splice(Pe,1),J.push(Re)}return J}function le(se,ye,be,je){Z.stopCallback(ye,ye.target||ye.srcElement,be,je)||se(ye,be)===!1&&(function(Be){Be.preventDefault?Be.preventDefault():Be.returnValue=!1}(ye),function(Be){Be.stopPropagation?Be.stopPropagation():Be.cancelBubble=!0}(ye))}function ve(se){typeof se.which!="number"&&(se.which=se.keyCode);var ye=k(se);ye&&(se.type!="keyup"||B!==ye?Z.handleKey(ye,function(be){var je=[];return be.shiftKey&&je.push("shift"),be.altKey&&je.push("alt"),be.ctrlKey&&je.push("ctrl"),be.metaKey&&je.push("meta"),je}(se),se):B=!1)}function Ee(se,ye,be,je){function Be(Je){return function(){$=Je,++R[se],clearTimeout(F),F=setTimeout(te,1e3)}}function Ze(Je){le(be,Je,se),je!=="keyup"&&(B=k(Je)),setTimeout(te,10)}R[se]=0;for(var Pe=0;Pe<ye.length;++Pe){var Re=Pe+1===ye.length?Ze:Be(je||Y(ye[Pe+1]).action);ge(ye[Pe],Re,je,se,Pe)}}function ge(se,ye,be,je,Be){Z._directMap[se+":"+be]=ye;var Ze,Pe=(se=se.replace(/\s+/g," ")).split(" ");Pe.length>1?Ee(se,Pe,ye,be):(Ze=Y(se,be),Z._callbacks[Ze.key]=Z._callbacks[Ze.key]||[],pe(Ze.key,Ze.modifiers,{type:Ze.action},je,se,Be),Z._callbacks[Ze.key][je?"unshift":"push"]({callback:ye,modifiers:Ze.modifiers,action:Ze.action,seq:je,level:Be,combo:se}))}Z._handleKey=function(se,ye,be){var je,Be=pe(se,ye,be),Ze={},Pe=0,Re=!1;for(je=0;je<Be.length;++je)Be[je].seq&&(Pe=Math.max(Pe,Be[je].level));for(je=0;je<Be.length;++je)if(Be[je].seq){if(Be[je].level!=Pe)continue;Re=!0,Ze[Be[je].seq]=1,le(Be[je].callback,be,Be[je].combo,Be[je].seq)}else Re||le(Be[je].callback,be,Be[je].combo);var Je=be.type=="keypress"&&G;be.type!=$||I(se)||Je||te(Ze),G=Re&&be.type=="keydown"},Z._bindMultiple=function(se,ye,be){for(var je=0;je<se.length;++je)ge(se[je],ye,be)},P(V,"keypress",ve),P(V,"keydown",ve),P(V,"keyup",ve)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(a,l,i){var p=i(7),d=i(34),v=i(28),g=i(32),O=p.TypeError;a.exports=function(x,w){var A,j;if(w==="string"&&v(A=x.toString)&&!g(j=d(A,x))||v(A=x.valueOf)&&!g(j=d(A,x))||w!=="string"&&v(A=x.toString)&&!g(j=d(A,x)))return j;throw O("Can't convert object to primitive value")}},function(a,l,i){var p=i(7),d=i(28),v=i(90),g=p.WeakMap;a.exports=d(g)&&/native code/.test(v(g))},function(a,l,i){var p=i(36),d=i(37),v=i(33),g=i(40),O=i(72);a.exports=p?Object.defineProperties:function(x,w){v(x);for(var A,j=g(w),T=O(w),P=T.length,k=0;P>k;)d.f(x,A=T[k++],j[A]);return x}},function(a,l,i){var p=i(7);a.exports=p},function(a,l,i){var p=i(7),d=i(95),v=i(98),g=i(32),O=i(27)("species"),x=p.Array;a.exports=function(w){var A;return d(w)&&(A=w.constructor,(v(A)&&(A===x||d(A.prototype))||g(A)&&(A=A[O])===null)&&(A=void 0)),A===void 0?x:A}},function(a,l,i){var p=i(112),d=i(96);a.exports=p?{}.toString:function(){return"[object "+d(this)+"]"}},function(a,l,i){var p=i(139).IteratorPrototype,d=i(57),v=i(64),g=i(73),O=i(75),x=function(){return this};a.exports=function(w,A,j,T){var P=A+" Iterator";return w.prototype=d(p,{next:v(+!T,j)}),g(w,P,!1,!0),O[P]=x,w}},function(a,l,i){var p=i(7),d=i(28),v=p.String,g=p.TypeError;a.exports=function(O){if(typeof O=="object"||d(O))return O;throw g("Can't set "+v(O)+" as a prototype")}},function(a,l,i){var p=i(17),d=i(7),v=i(15),g=i(94),O=i(43),x=i(141),w=i(116),A=i(118),j=i(28),T=i(32),P=i(19),k=i(119),I=i(73),L=i(145);a.exports=function(Y,Q,X){var V=Y.indexOf("Map")!==-1,Z=Y.indexOf("Weak")!==-1,F=V?"set":"add",R=d[Y],B=R&&R.prototype,G=R,$={},te=function(se){var ye=v(B[se]);O(B,se,se=="add"?function(be){return ye(this,be===0?0:be),this}:se=="delete"?function(be){return!(Z&&!T(be))&&ye(this,be===0?0:be)}:se=="get"?function(be){return Z&&!T(be)?void 0:ye(this,be===0?0:be)}:se=="has"?function(be){return!(Z&&!T(be))&&ye(this,be===0?0:be)}:function(be,je){return ye(this,be===0?0:be,je),this})};if(g(Y,!j(R)||!(Z||B.forEach&&!P(function(){new R().entries().next()}))))G=X.getConstructor(Q,Y,V,F),x.enable();else if(g(Y,!0)){var pe=new G,le=pe[F](Z?{}:-0,1)!=pe,ve=P(function(){pe.has(1)}),Ee=k(function(se){new R(se)}),ge=!Z&&P(function(){for(var se=new R,ye=5;ye--;)se[F](ye,ye);return!se.has(-0)});Ee||((G=Q(function(se,ye){A(se,B);var be=L(new R,se,G);return ye!=null&&w(ye,be[F],{that:be,AS_ENTRIES:V}),be})).prototype=B,B.constructor=G),(ve||ge)&&(te("delete"),te("has"),V&&te("get")),(ge||le)&&te(F),Z&&B.clear&&delete B.clear}return $[Y]=G,p({global:!0,forced:G!=R},$),I(G,Y),Z||X.setStrong(G,Y,V),G}},function(a,l,i){var p=i(19),d=i(32),v=i(51),g=i(179),O=Object.isExtensible,x=p(function(){});a.exports=x||g?function(w){return!!d(w)&&(!g||v(w)!="ArrayBuffer")&&(!O||O(w))}:O},function(a,l,i){var p=i(19);a.exports=p(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(a,l,i){var p=i(19);a.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,l,i){var p=i(37).f,d=i(57),v=i(146),g=i(61),O=i(118),x=i(116),w=i(115),A=i(147),j=i(36),T=i(141).fastKey,P=i(56),k=P.set,I=P.getterFor;a.exports={getConstructor:function(L,Y,Q,X){var V=L(function(G,$){O(G,Z),k(G,{type:Y,index:d(null),first:void 0,last:void 0,size:0}),j||(G.size=0),$!=null&&x($,G[X],{that:G,AS_ENTRIES:Q})}),Z=V.prototype,F=I(Y),R=function(G,$,te){var pe,le,ve=F(G),Ee=B(G,$);return Ee?Ee.value=te:(ve.last=Ee={index:le=T($,!0),key:$,value:te,previous:pe=ve.last,next:void 0,removed:!1},ve.first||(ve.first=Ee),pe&&(pe.next=Ee),j?ve.size++:G.size++,le!=="F"&&(ve.index[le]=Ee)),G},B=function(G,$){var te,pe=F(G),le=T($);if(le!=="F")return pe.index[le];for(te=pe.first;te;te=te.next)if(te.key==$)return te};return v(Z,{clear:function(){for(var G=F(this),$=G.index,te=G.first;te;)te.removed=!0,te.previous&&(te.previous=te.previous.next=void 0),delete $[te.index],te=te.next;G.first=G.last=void 0,j?G.size=0:this.size=0},delete:function(G){var $=this,te=F($),pe=B($,G);if(pe){var le=pe.next,ve=pe.previous;delete te.index[pe.index],pe.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),te.first==pe&&(te.first=le),te.last==pe&&(te.last=ve),j?te.size--:$.size--}return!!pe},forEach:function(G){for(var $,te=F(this),pe=g(G,arguments.length>1?arguments[1]:void 0);$=$?$.next:te.first;)for(pe($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(G){return!!B(this,G)}}),v(Z,Q?{get:function(G){var $=B(this,G);return $&&$.value},set:function(G,$){return R(this,G===0?0:G,$)}}:{add:function(G){return R(this,G=G===0?0:G,G)}}),j&&p(Z,"size",{get:function(){return F(this).size}}),V},setStrong:function(L,Y,Q){var X=Y+" Iterator",V=I(Y),Z=I(X);w(L,Y,function(F,R){k(this,{type:X,target:F,state:V(F),kind:R,last:void 0})},function(){for(var F=Z(this),R=F.kind,B=F.last;B&&B.removed;)B=B.previous;return F.target&&(F.last=B=B?B.next:F.state.first)?R=="keys"?{value:B.key,done:!1}:R=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(F.target=void 0,{value:void 0,done:!0})},Q?"entries":"values",!Q,!0),A(Y)}}},function(a,l,i){var p=i(74).forEach,d=i(120)("forEach");a.exports=d?[].forEach:function(v){return p(this,v,arguments.length>1?arguments[1]:void 0)}},function(a,l,i){var p=i(7),d=i(61),v=i(34),g=i(39),O=i(184),x=i(142),w=i(98),A=i(44),j=i(60),T=i(143),P=i(117),k=p.Array;a.exports=function(I){var L=g(I),Y=w(this),Q=arguments.length,X=Q>1?arguments[1]:void 0,V=X!==void 0;V&&(X=d(X,Q>2?arguments[2]:void 0));var Z,F,R,B,G,$,te=P(L),pe=0;if(!te||this==k&&x(te))for(Z=A(L),F=Y?new this(Z):k(Z);Z>pe;pe++)$=V?X(L[pe],pe):L[pe],j(F,pe,$);else for(G=(B=T(L,te)).next,F=Y?new this:[];!(R=v(G,B)).done;pe++)$=V?O(B,X,[R.value,pe],!0):R.value,j(F,pe,$);return F.length=pe,F}},function(a,l,i){var p=i(33),d=i(144);a.exports=function(v,g,O,x){try{return x?g(p(O)[0],O[1]):g(O)}catch(w){d(v,"throw",w)}}},function(a,l,i){var p=i(33);a.exports=function(){var d=p(this),v="";return d.global&&(v+="g"),d.ignoreCase&&(v+="i"),d.multiline&&(v+="m"),d.dotAll&&(v+="s"),d.unicode&&(v+="u"),d.sticky&&(v+="y"),v}},function(a,l,i){var p=i(19),d=i(7).RegExp;a.exports=p(function(){var v=d(".","s");return!(v.dotAll&&v.exec(`
`)&&v.flags==="s")})},function(a,l,i){var p=i(19),d=i(7).RegExp;a.exports=p(function(){var v=d("(?<a>b)","g");return v.exec("b").groups.a!=="b"||"b".replace(v,"$<a>c")!=="bc"})},function(a,l,i){var p=i(17),d=i(15),v=i(54),g=i(39),O=i(44),x=i(41),w=i(19),A=i(189),j=i(120),T=i(190),P=i(191),k=i(65),I=i(192),L=[],Y=d(L.sort),Q=d(L.push),X=w(function(){L.sort(void 0)}),V=w(function(){L.sort(null)}),Z=j("sort"),F=!w(function(){if(k)return k<70;if(!(T&&T>3)){if(P)return!0;if(I)return I<603;var R,B,G,$,te="";for(R=65;R<76;R++){switch(B=String.fromCharCode(R),R){case 66:case 69:case 70:case 72:G=3;break;case 68:case 71:G=4;break;default:G=2}for($=0;$<47;$++)L.push({k:B+$,v:G})}for(L.sort(function(pe,le){return le.v-pe.v}),$=0;$<L.length;$++)B=L[$].k.charAt(0),te.charAt(te.length-1)!==B&&(te+=B);return te!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:X||!V||!Z||!F},{sort:function(R){R!==void 0&&v(R);var B=g(this);if(F)return R===void 0?Y(B):Y(B,R);var G,$,te=[],pe=O(B);for($=0;$<pe;$++)$ in B&&Q(te,B[$]);for(A(te,function(le){return function(ve,Ee){return Ee===void 0?-1:ve===void 0?1:le!==void 0?+le(ve,Ee)||0:x(ve)>x(Ee)?1:-1}}(R)),G=te.length,$=0;$<G;)B[$]=te[$++];for(;$<pe;)delete B[$++];return B}})},function(a,l,i){var p=i(113),d=Math.floor,v=function(x,w){var A=x.length,j=d(A/2);return A<8?g(x,w):O(x,v(p(x,0,j),w),v(p(x,j),w),w)},g=function(x,w){for(var A,j,T=x.length,P=1;P<T;){for(j=P,A=x[P];j&&w(x[j-1],A)>0;)x[j]=x[--j];j!==P++&&(x[j]=A)}return x},O=function(x,w,A,j){for(var T=w.length,P=A.length,k=0,I=0;k<T||I<P;)x[k+I]=k<T&&I<P?j(w[k],A[I])<=0?w[k++]:A[I++]:k<T?w[k++]:A[I++];return x};a.exports=v},function(a,l,i){var p=i(53).match(/firefox\/(\d+)/i);a.exports=!!p&&+p[1]},function(a,l,i){var p=i(53);a.exports=/MSIE|Trident/.test(p)},function(a,l,i){var p=i(53).match(/AppleWebKit\/(\d+)\./);a.exports=!!p&&+p[1]},function(a,l,i){var p=i(17),d=i(74).find,v=i(99),g="find",O=!0;g in[]&&Array(1).find(function(){O=!1}),p({target:"Array",proto:!0,forced:O},{find:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),v(g)},function(a,l,i){var p=i(7),d=i(154),v=p.TypeError;a.exports=function(g){if(d(g))throw v("The method doesn't accept regular expressions");return g}},function(a,l,i){var p=i(27)("match");a.exports=function(d){var v=/./;try{"/./"[d](v)}catch{try{return v[p]=!1,"/./"[d](v)}catch{}}return!1}},function(a,l,i){var p=i(92).PROPER,d=i(19),v=i(160);a.exports=function(g){return d(function(){return!!v[g]()||"​᠎"[g]()!=="​᠎"||p&&v[g].name!==g})}},function(a,l,i){var p=i(15);a.exports=p(1 .valueOf)},function(a,l,i){var p=i(15),d=i(39),v=Math.floor,g=p("".charAt),O=p("".replace),x=p("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;a.exports=function(j,T,P,k,I,L){var Y=P+j.length,Q=k.length,X=A;return I!==void 0&&(I=d(I),X=w),O(L,X,function(V,Z){var F;switch(g(Z,0)){case"$":return"$";case"&":return j;case"`":return x(T,0,P);case"'":return x(T,Y);case"<":F=I[x(Z,1,-1)];break;default:var R=+Z;if(R===0)return V;if(R>Q){var B=v(R/10);return B===0?V:B<=Q?k[B-1]===void 0?g(Z,1):k[B-1]+g(Z,1):V}F=k[R-1]}return F===void 0?"":F})}},function(a,l,i){var p=i(36),d=i(15),v=i(34),g=i(19),O=i(72),x=i(111),w=i(82),A=i(39),j=i(83),T=Object.assign,P=Object.defineProperty,k=d([].concat);a.exports=!T||g(function(){if(p&&T({b:1},T(P({},"a",{enumerable:!0,get:function(){P(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},L={},Y=Symbol(),Q="abcdefghijklmnopqrst";return I[Y]=7,Q.split("").forEach(function(X){L[X]=X}),T({},I)[Y]!=7||O(T({},L)).join("")!=Q})?function(I,L){for(var Y=A(I),Q=arguments.length,X=1,V=x.f,Z=w.f;Q>X;)for(var F,R=j(arguments[X++]),B=V?k(O(R),V(R)):O(R),G=B.length,$=0;G>$;)F=B[$++],p&&!v(Z,R,F)||(Y[F]=R[F]);return Y}:T},function(a,l,i){var p=i(7),d=i(15),v=i(54),g=i(32),O=i(35),x=i(97),w=p.Function,A=d([].concat),j=d([].join),T={},P=function(k,I,L){if(!O(T,I)){for(var Y=[],Q=0;Q<I;Q++)Y[Q]="a["+Q+"]";T[I]=w("C,a","return new C("+j(Y,",")+")")}return T[I](k,L)};a.exports=w.bind||function(k){var I=v(this),L=I.prototype,Y=x(arguments,1),Q=function(){var X=A(Y,x(arguments));return this instanceof Q?P(I,X.length,X):I.apply(k,X)};return g(L)&&(Q.prototype=L),Q}},function(a,l,i){var p=i(35);a.exports=function(d){return d!==void 0&&(p(d,"value")||p(d,"writable"))}},function(a,l,i){var p=i(15),d=i(45),v=i(41),g=/"/g,O=p("".replace);a.exports=function(x,w,A,j){var T=v(d(x)),P="<"+w;return A!==""&&(P+=" "+A+'="'+O(v(j),g,"&quot;")+'"'),P+">"+T+"</"+w+">"}},function(a,l,i){var p=i(19);a.exports=function(d){return p(function(){var v=""[d]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(a,l,i){var p,d,v,g,O=i(17),x=i(66),w=i(7),A=i(46),j=i(34),T=i(205),P=i(43),k=i(146),I=i(101),L=i(73),Y=i(147),Q=i(54),X=i(28),V=i(32),Z=i(118),F=i(90),R=i(116),B=i(119),G=i(156),$=i(163).set,te=i(206),pe=i(209),le=i(210),ve=i(165),Ee=i(211),ge=i(56),se=i(94),ye=i(27),be=i(212),je=i(126),Be=i(65),Ze=ye("species"),Pe="Promise",Re=ge.getterFor(Pe),Je=ge.set,ee=ge.getterFor(Pe),J=T&&T.prototype,ue=T,we=J,Me=w.TypeError,xe=w.document,Qe=w.process,it=ve.f,tt=it,Ve=!!(xe&&xe.createEvent&&w.dispatchEvent),me=X(w.PromiseRejectionEvent),$e="unhandledrejection",re=!1,ze=se(Pe,function(){var K=F(ue),ce=K!==String(ue);if(!ce&&Be===66||x&&!we.finally)return!0;if(Be>=51&&/native code/.test(K))return!1;var De=new ue(function(Xe){Xe(1)}),Ne=function(Xe){Xe(function(){},function(){})};return(De.constructor={})[Ze]=Ne,!(re=De.then(function(){})instanceof Ne)||!ce&&be&&!me}),lt=ze||!B(function(K){ue.all(K).catch(function(){})}),St=function(K){var ce;return!(!V(K)||!X(ce=K.then))&&ce},st=function(K,ce){if(!K.notified){K.notified=!0;var De=K.reactions;te(function(){for(var Ne=K.value,Xe=K.state==1,vt=0;De.length>vt;){var nn,fn,Vt,Zt=De[vt++],Fe=Xe?Zt.ok:Zt.fail,Ke=Zt.resolve,rt=Zt.reject,at=Zt.domain;try{Fe?(Xe||(K.rejection===2&&ct(K),K.rejection=1),Fe===!0?nn=Ne:(at&&at.enter(),nn=Fe(Ne),at&&(at.exit(),Vt=!0)),nn===Zt.promise?rt(Me("Promise-chain cycle")):(fn=St(nn))?j(fn,nn,Ke,rt):Ke(nn)):rt(Ne)}catch(kt){at&&!Vt&&at.exit(),rt(kt)}}K.reactions=[],K.notified=!1,ce&&!K.rejection&&Lt(K)})}},Ot=function(K,ce,De){var Ne,Xe;Ve?((Ne=xe.createEvent("Event")).promise=ce,Ne.reason=De,Ne.initEvent(K,!1,!0),w.dispatchEvent(Ne)):Ne={promise:ce,reason:De},!me&&(Xe=w["on"+K])?Xe(Ne):K===$e&&le("Unhandled promise rejection",De)},Lt=function(K){j($,w,function(){var ce,De=K.facade,Ne=K.value;if(Ft(K)&&(ce=Ee(function(){je?Qe.emit("unhandledRejection",Ne,De):Ot($e,De,Ne)}),K.rejection=je||Ft(K)?2:1,ce.error))throw ce.value})},Ft=function(K){return K.rejection!==1&&!K.parent},ct=function(K){j($,w,function(){var ce=K.facade;je?Qe.emit("rejectionHandled",ce):Ot("rejectionhandled",ce,K.value)})},Yt=function(K,ce,De){return function(Ne){K(ce,Ne,De)}},W=function(K,ce,De){K.done||(K.done=!0,De&&(K=De),K.value=ce,K.state=2,st(K,!0))},ie=function(K,ce,De){if(!K.done){K.done=!0,De&&(K=De);try{if(K.facade===ce)throw Me("Promise can't be resolved itself");var Ne=St(ce);Ne?te(function(){var Xe={done:!1};try{j(Ne,ce,Yt(ie,Xe,K),Yt(W,Xe,K))}catch(vt){W(Xe,vt,K)}}):(K.value=ce,K.state=1,st(K,!1))}catch(Xe){W({done:!1},Xe,K)}}};if(ze&&(we=(ue=function(K){Z(this,we),Q(K),j(p,this);var ce=Re(this);try{K(Yt(ie,ce),Yt(W,ce))}catch(De){W(ce,De)}}).prototype,(p=function(K){Je(this,{type:Pe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=k(we,{then:function(K,ce){var De=ee(this),Ne=De.reactions,Xe=it(G(this,ue));return Xe.ok=!X(K)||K,Xe.fail=X(ce)&&ce,Xe.domain=je?Qe.domain:void 0,De.parent=!0,Ne[Ne.length]=Xe,De.state!=0&&st(De,!1),Xe.promise},catch:function(K){return this.then(void 0,K)}}),d=function(){var K=new p,ce=Re(K);this.promise=K,this.resolve=Yt(ie,ce),this.reject=Yt(W,ce)},ve.f=it=function(K){return K===ue||K===v?new d(K):tt(K)},!x&&X(T)&&J!==Object.prototype)){g=J.then,re||(P(J,"then",function(K,ce){var De=this;return new ue(function(Ne,Xe){j(g,De,Ne,Xe)}).then(K,ce)},{unsafe:!0}),P(J,"catch",we.catch,{unsafe:!0}));try{delete J.constructor}catch{}I&&I(J,we)}O({global:!0,wrap:!0,forced:ze},{Promise:ue}),L(ue,Pe,!1,!0),Y(Pe),v=A(Pe),O({target:Pe,stat:!0,forced:ze},{reject:function(K){var ce=it(this);return j(ce.reject,void 0,K),ce.promise}}),O({target:Pe,stat:!0,forced:x||ze},{resolve:function(K){return pe(x&&this===v?ue:this,K)}}),O({target:Pe,stat:!0,forced:lt},{all:function(K){var ce=this,De=it(ce),Ne=De.resolve,Xe=De.reject,vt=Ee(function(){var nn=Q(ce.resolve),fn=[],Vt=0,Zt=1;R(K,function(Fe){var Ke=Vt++,rt=!1;Zt++,j(nn,ce,Fe).then(function(at){rt||(rt=!0,fn[Ke]=at,--Zt||Ne(fn))},Xe)}),--Zt||Ne(fn)});return vt.error&&Xe(vt.value),De.promise},race:function(K){var ce=this,De=it(ce),Ne=De.reject,Xe=Ee(function(){var vt=Q(ce.resolve);R(K,function(nn){j(vt,ce,nn).then(De.resolve,Ne)})});return Xe.error&&Ne(Xe.value),De.promise}})},function(a,l,i){var p=i(7);a.exports=p.Promise},function(a,l,i){var p,d,v,g,O,x,w,A,j=i(7),T=i(61),P=i(50).f,k=i(163).set,I=i(164),L=i(207),Y=i(208),Q=i(126),X=j.MutationObserver||j.WebKitMutationObserver,V=j.document,Z=j.process,F=j.Promise,R=P(j,"queueMicrotask"),B=R&&R.value;B||(p=function(){var G,$;for(Q&&(G=Z.domain)&&G.exit();d;){$=d.fn,d=d.next;try{$()}catch(te){throw d?g():v=void 0,te}}v=void 0,G&&G.enter()},I||Q||Y||!X||!V?!L&&F&&F.resolve?((w=F.resolve(void 0)).constructor=F,A=T(w.then,w),g=function(){A(p)}):Q?g=function(){Z.nextTick(p)}:(k=T(k,j),g=function(){k(p)}):(O=!0,x=V.createTextNode(""),new X(p).observe(x,{characterData:!0}),g=function(){x.data=O=!O})),a.exports=B||function(G){var $={fn:G,next:void 0};v&&(v.next=$),d||(d=$,g()),v=$}},function(a,l,i){var p=i(53),d=i(7);a.exports=/ipad|iphone|ipod/i.test(p)&&d.Pebble!==void 0},function(a,l,i){var p=i(53);a.exports=/web0s(?!.*chrome)/i.test(p)},function(a,l,i){var p=i(33),d=i(32),v=i(165);a.exports=function(g,O){if(p(g),d(O)&&O.constructor===g)return O;var x=v.f(g);return(0,x.resolve)(O),x.promise}},function(a,l,i){var p=i(7);a.exports=function(d,v){var g=p.console;g&&g.error&&(arguments.length==1?g.error(d):g.error(d,v))}},function(a,l){a.exports=function(i){try{return{error:!1,value:i()}}catch(p){return{error:!0,value:p}}}},function(a,l){a.exports=typeof window=="object"},function(a,l,i){var p=i(36),d=i(15),v=i(72),g=i(40),O=d(i(82).f),x=d([].push),w=function(A){return function(j){for(var T,P=g(j),k=v(P),I=k.length,L=0,Y=[];I>L;)T=k[L++],p&&!O(P,T)||x(Y,A?[T,P[T]]:P[T]);return Y}};a.exports={entries:w(!0),values:w(!1)}},function(a,l,i){var p=i(39),d=i(69),v=i(44);a.exports=function(g){for(var O=p(this),x=v(O),w=arguments.length,A=d(w>1?arguments[1]:void 0,x),j=w>2?arguments[2]:void 0,T=j===void 0?x:d(j,x);T>A;)O[A++]=g;return O}},function(a,l,i){i.r(l),i.d(l,"observer",function(){return br}),i.d(l,"LogicFlow",function(){return Qp}),i.d(l,"h",function(){return re.g}),i.d(l,"LogicFlowUtil",function(){return p}),i.d(l,"BaseNode",function(){return eo}),i.d(l,"RectNode",function(){return Hf}),i.d(l,"CircleNode",function(){return Kf}),i.d(l,"PolygonNode",function(){return ep}),i.d(l,"DiamondNode",function(){return op}),i.d(l,"EllipseNode",function(){return cp}),i.d(l,"TextNode",function(){return pp}),i.d(l,"HtmlNode",function(){return vp}),i.d(l,"BaseEdge",function(){return Ma}),i.d(l,"LineEdge",function(){return Tp}),i.d(l,"PolylineEdge",function(){return Rp}),i.d(l,"BezierEdge",function(){return zp}),i.d(l,"Arrow",function(){return nj}),i.d(l,"BaseEdgeModel",function(){return ll}),i.d(l,"BezierEdgeModel",function(){return Ql}),i.d(l,"LineEdgeModel",function(){return yl}),i.d(l,"PolylineEdgeModel",function(){return bl}),i.d(l,"BaseNodeModel",function(){return Qr}),i.d(l,"CircleNodeModel",function(){return af}),i.d(l,"DiamondNodeModel",function(){return ff}),i.d(l,"EllipseNodeModel",function(){return yf}),i.d(l,"PolygonNodeModel",function(){return Of}),i.d(l,"RectNodeModel",function(){return Sf}),i.d(l,"TextNodeModel",function(){return Mf}),i.d(l,"HtmlNodeModel",function(){return Df}),i.d(l,"EditConfigModel",function(){return Bh}),i.d(l,"GraphModel",function(){return Mv}),i.d(l,"SnaplineModel",function(){return cm}),i.d(l,"Keyboard",function(){return Km}),i.d(l,"get",function(){return Qv}),i.d(l,"defaults",function(){return tg}),i.d(l,"ElementState",function(){return Mt}),i.d(l,"ModelType",function(){return _t}),i.d(l,"ElementType",function(){return rn}),i.d(l,"EventType",function(){return ot}),i.d(l,"formateAnchorConnectValidateData",function(){return ha});var p={};i.r(p),i.d(p,"createUuid",function(){return _o}),i.d(p,"refreshGraphId",function(){return aw}),i.d(p,"createDrag",function(){return Rw}),i.d(p,"StepDrag",function(){return Kr});var d=i(1),v=i(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=i(42),O=Object(g.b)("observerBatching");function x(e){e()}var w=!1;function A(){return w}function j(e){return Object(d.t)(e)}var T,P=1e4,k=new Set;function I(){T===void 0&&(T=setTimeout(L,1e4))}function L(){T=void 0;var e=Date.now();k.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,k.delete(t))}),k.size>0&&I()}var Y=!1,Q=[],X={};function V(e){return"observer"+e}function Z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=X),A();var r,c=function(_){return function(){Y?Q.push(_):_()}}((n.useForceUpdate||g.d)()),s=v.d.useRef(null);if(!s.current){var f=new d.c(V(t),function(){h.mounted?c():(f.dispose(),s.current=null)}),h=function(_){return{cleanAt:Date.now()+P,reaction:_}}(f);s.current=h,r=s,k.add(r),I()}var y=s.current.reaction;return v.d.useDebugValue(y,j),v.d.useEffect(function(){var _;return _=s,k.delete(_),s.current?s.current.mounted=!0:(s.current={reaction:new d.c(V(t),function(){c()}),cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}},[]),function(_){Y=!0,Q=[];try{var E=_();Y=!1;var M=Q.length>0?Q:void 0;return v.d.useLayoutEffect(function(){M&&M.forEach(function(D){return D()})},[M]),E}finally{Y=!1}}(function(){var _,E;if(y.track(function(){try{_=e()}catch(M){E=M}}),E)throw E;return _})}var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},F.apply(this,arguments)};function R(e,t){var n,r,c,s=F({forwardRef:!1},t),f=e.displayName||e.name,h=function(y,_){return Z(function(){return e(y,_)},f)};return h.displayName=f,n=s.forwardRef?Object(v.f)(Object(v.e)(h)):Object(v.f)(h),r=e,c=n,Object.keys(r).forEach(function(y){B[y]||Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(r,y))}),n.displayName=f,n}var B={$$typeof:!0,render:!0,compare:!0,type:!0};function G(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:Z(r)}function $(e,t,n,r,c){var s=t==="children"?"render":"children",f=typeof e[t]=="function",h=typeof e[s]=="function";return f&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):f||h?null:new Error("Invalid prop `"+c+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}G.propTypes={children:$,render:$},G.displayName="Observer";var te;(te=v.g)||(te=x),Object(d.n)({reactionScheduler:te}),Object(g.a)()[O]=!0;var pe=0,le={};function ve(e){return le[e]||(le[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+pe+")";return pe++,n}(e)),le[e]}function Ee(e,t){if(ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var c=0;c<n.length;c++)if(!Object.hasOwnProperty.call(t,n[c])||!ge(e[n[c]],t[n[c]]))return!1;return!0}function ge(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var ye=ve("patchMixins"),be=ve("patchedDefinition");function je(e,t){for(var n=this,r=arguments.length,c=new Array(r>2?r-2:0),s=2;s<r;s++)c[s-2]=arguments[s];t.locks++;try{var f;return e!=null&&(f=e.apply(this,c)),f}finally{t.locks--,t.locks===0&&t.methods.forEach(function(h){h.apply(n,c)})}}function Be(e,t){return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];je.call.apply(je,[this,e,t].concat(r))}}function Ze(e,t,n){var r=function(h,y){var _=h[ye]=h[ye]||{},E=_[y]=_[y]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var c=Object.getOwnPropertyDescriptor(e,t);if(!c||!c[be]){var s=e[t],f=Pe(e,t,c?c.enumerable:void 0,r,s);Object.defineProperty(e,t,f)}}function Pe(e,t,n,r,c){var s,f=Be(c,r);return(s={})[be]=!0,s.get=function(){return f},s.set=function(h){if(this===e)f=Be(h,r);else{var y=Pe(this,t,n,r,h);Object.defineProperty(this,t,y)}},s.configurable=!0,s.enumerable=n,s}var Re=d.a||"$mobx",Je=ve("isMobXReactObserver"),ee=ve("isUnmounted"),J=ve("skipRender"),ue=ve("isForcingUpdate");function we(e){var t=e.prototype;if(e[Je]?Me(t):e[Je]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Qe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Qe;it(t,"props"),it(t,"state");var n=t.render;return t.render=function(){return xe.call(this,n)},Ze(t,"componentWillUnmount",function(){var r;(r=this.render[Re])===null||r===void 0||r.dispose(),this[ee]=!0,!this.render[Re]&&Me(this)}),e}function Me(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function xe(e){var t=this;se(this,J,!1),se(this,ue,!1);var n=Me(this),r=e.bind(this),c=!1,s=new d.c(n+".render()",function(){if(!c&&(c=!0,t[ee]!==!0)){var h=!0;try{se(t,ue,!0),t[J]||v.a.prototype.forceUpdate.call(t),h=!1}finally{se(t,ue,!1),h&&s.dispose()}}});function f(){c=!1;var h=void 0,y=void 0;if(s.track(function(){try{y=Object(d.d)(!1,r)}catch(_){h=_}}),h)throw h;return y}return s.reactComponent=this,f[Re]=s,this.render=f,f.call(this)}function Qe(e,t){return this.state!==t||!Ee(this.props,e)}function it(e,t){var n=ve("reactProp_"+t+"_valueHolder"),r=ve("reactProp_"+t+"_atomHolder");function c(){return this[r]||se(this,r,Object(d.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var s=!1;return d.f&&d.e&&(s=Object(d.f)(!0)),c.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(s),this[n]},set:function(s){this[ue]||Ee(this[n],s)?se(this,n,s):(se(this,n,s),se(this,J,!0),c.call(this).reportChanged(),se(this,J,!1))}})}var tt=typeof Symbol=="function"&&Symbol.for,Ve=tt?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,me=tt?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function $e(e){if(e.isMobxInjector,me&&e.$$typeof===me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ve&&e.$$typeof===Ve){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(G,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(v.a,e)?we(e):R(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var re=i(0);i(4),i(8),i(2),i(3),i(62),i(6),i(5),i(11),i(38),i(29),i(22),i(20),i(23),i(21),i(25),i(9),i(16),i(24),i(18),i(188),i(193),i(103),i(152),i(153);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,c=Array(r);++n<r;)c[n]=t(e[n],n,e);return c},lt=function(){this.__data__=[],this.size=0},St=function(e,t){return e===t||e!=e&&t!=t},st=function(e,t){for(var n=e.length;n--;)if(St(e[n][0],t))return n;return-1},Ot=Array.prototype.splice,Lt=function(e){var t=this.__data__,n=st(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ot.call(t,n,1),--this.size,!0)},Ft=function(e){var t=this.__data__,n=st(t,e);return n<0?void 0:t[n][1]},ct=function(e){return st(this.__data__,e)>-1},Yt=function(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function W(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W.prototype.clear=lt,W.prototype.delete=Lt,W.prototype.get=Ft,W.prototype.has=ct,W.prototype.set=Yt;var ie=W,K=function(){this.__data__=new ie,this.size=0},ce=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},De=function(e){return this.__data__.get(e)},Ne=function(e){return this.__data__.has(e)},Xe=i(31),vt=Xe.a.Symbol,nn=Object.prototype,fn=nn.hasOwnProperty,Vt=nn.toString,Zt=vt?vt.toStringTag:void 0,Fe=function(e){var t=fn.call(e,Zt),n=e[Zt];try{e[Zt]=void 0;var r=!0}catch{}var c=Vt.call(e);return r&&(t?e[Zt]=n:delete e[Zt]),c},Ke=Object.prototype.toString,rt=function(e){return Ke.call(e)},at=vt?vt.toStringTag:void 0,kt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":at&&at in Object(e)?Fe(e):rt(e)},Wt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},$r,xr=function(e){if(!Wt(e))return!1;var t=kt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Er=Xe.a["__core-js_shared__"],Bo=($r=/[^.]+$/.exec(Er&&Er.keys&&Er.keys.IE_PROTO||""))?"Symbol(src)_1."+$r:"",Mc=function(e){return!!Bo&&Bo in e},Qi=Function.prototype.toString,qn=function(e){if(e!=null){try{return Qi.call(e)}catch{}try{return e+""}catch{}}return""},nu=/^\[object .+?Constructor\]$/,He=Function.prototype,Tc=Object.prototype,ru=He.toString,ou=Tc.hasOwnProperty,zn=RegExp("^"+ru.call(ou).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fn=function(e){return!(!Wt(e)||Mc(e))&&(xr(e)?zn:nu).test(qn(e))},iu=function(e,t){return e==null?void 0:e[t]},Sr=function(e,t){var n=iu(e,t);return Fn(n)?n:void 0},po=Sr(Xe.a,"Map"),dr=Sr(Object,"create"),ea=function(){this.__data__=dr?dr(null):{},this.size=0},au=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},kc=Object.prototype.hasOwnProperty,ai=function(e){var t=this.__data__;if(dr){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return kc.call(t,e)?t[e]:void 0},Dc=Object.prototype.hasOwnProperty,uu=function(e){var t=this.__data__;return dr?t[e]!==void 0:Dc.call(t,e)},Nc=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dr&&t===void 0?"__lodash_hash_undefined__":t,this};function Wr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wr.prototype.clear=ea,Wr.prototype.delete=au,Wr.prototype.get=ai,Wr.prototype.has=uu,Wr.prototype.set=Nc;var su=Wr,jr=function(){this.size=0,this.__data__={hash:new su,map:new(po||ie),string:new su}},Cc=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},ui=function(e,t){var n=e.__data__;return Cc(t)?n[typeof t=="string"?"string":"hash"]:n.map},ta=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},na=function(e){return ui(this,e).get(e)},Rc=function(e){return ui(this,e).has(e)},cu=function(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ho(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ho.prototype.clear=jr,ho.prototype.delete=ta,ho.prototype.get=na,ho.prototype.has=Rc,ho.prototype.set=cu;var yo=ho,lu=function(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!po||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yo(r)}return n.set(e,t),this.size=n.size,this};function vo(e){var t=this.__data__=new ie(e);this.size=t.size}vo.prototype.clear=K,vo.prototype.delete=ce,vo.prototype.get=De,vo.prototype.has=Ne,vo.prototype.set=lu;var Ar=vo,fu=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pu=function(e){return this.__data__.has(e)};function zo(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yo;++t<n;)this.add(e[t])}zo.prototype.add=zo.prototype.push=fu,zo.prototype.has=pu;var du=zo,Ic=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},hu=function(e,t){return e.has(t)},yu=function(e,t,n,r,c,s){var f=1&n,h=e.length,y=t.length;if(h!=y&&!(f&&y>h))return!1;var _=s.get(e),E=s.get(t);if(_&&E)return _==t&&E==e;var M=-1,D=!0,z=2&n?new du:void 0;for(s.set(e,t),s.set(t,e);++M<h;){var H=e[M],q=t[M];if(r)var ae=f?r(q,H,M,t,e,s):r(H,q,M,e,t,s);if(ae!==void 0){if(ae)continue;D=!1;break}if(z){if(!Ic(t,function(oe,fe){if(!hu(z,fe)&&(H===oe||c(H,oe,n,r,s)))return z.push(fe)})){D=!1;break}}else if(H!==q&&!c(H,q,n,r,s)){D=!1;break}}return s.delete(e),s.delete(t),D},Fo=Xe.a.Uint8Array,vu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,c){n[++t]=[c,r]}),n},Lc=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},gu=vt?vt.prototype:void 0,ra=gu?gu.valueOf:void 0,Go=function(e,t,n,r,c,s,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new Fo(e),new Fo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return St(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=vu;case"[object Set]":var y=1&r;if(h||(h=Lc),e.size!=t.size&&!y)return!1;var _=f.get(e);if(_)return _==t;r|=2,f.set(e,t);var E=yu(h(e),h(t),r,c,s,f);return f.delete(e),E;case"[object Symbol]":if(ra)return ra.call(e)==ra.call(t)}return!1},Pr=function(e,t){for(var n=-1,r=t.length,c=e.length;++n<r;)e[c+n]=t[n];return e},hn=Array.isArray,mu=function(e,t,n){var r=t(e);return hn(e)?r:Pr(r,n(e))},bu=function(e,t){for(var n=-1,r=e==null?0:e.length,c=0,s=[];++n<r;){var f=e[n];t(f,n,e)&&(s[c++]=f)}return s},_u=function(){return[]},Bc=Object.prototype.propertyIsEnumerable,Hr=Object.getOwnPropertySymbols,Zn=Hr?function(e){return e==null?[]:(e=Object(e),bu(Hr(e),function(t){return Bc.call(e,t)}))}:_u,zc=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Jn=function(e){return e!=null&&typeof e=="object"},Gn=function(e){return Jn(e)&&kt(e)=="[object Arguments]"},Ou=Object.prototype,wu=Ou.hasOwnProperty,Fc=Ou.propertyIsEnumerable,si=Gn(function(){return arguments}())?Gn:function(e){return Jn(e)&&wu.call(e,"callee")&&!Fc.call(e,"callee")},Mr=si,Uo=i(48),Gc=/^(?:0|[1-9]\d*)$/,_n=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Gc.test(e))&&e>-1&&e%1==0&&e<t},Xr=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var Un=function(e){return Jn(e)&&Xr(e.length)&&!!xt[kt(e)]},Yr=function(e){return function(t){return e(t)}},pn=i(49),xu=pn.a&&pn.a.isTypedArray,oa=xu?Yr(xu):Un,Eu=Object.prototype.hasOwnProperty,Qn=function(e,t){var n=hn(e),r=!n&&Mr(e),c=!n&&!r&&Object(Uo.a)(e),s=!n&&!r&&!c&&oa(e),f=n||r||c||s,h=f?zc(e.length,String):[],y=h.length;for(var _ in e)!t&&!Eu.call(e,_)||f&&(_=="length"||c&&(_=="offset"||_=="parent")||s&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||_n(_,y))||h.push(_);return h},Su=Object.prototype,ci=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Su)},er=function(e,t){return function(n){return e(t(n))}},ju=er(Object.keys,Object),Uc=Object.prototype.hasOwnProperty,ia=function(e){if(!ci(e))return ju(e);var t=[];for(var n in Object(e))Uc.call(e,n)&&n!="constructor"&&t.push(n);return t},Jt=function(e){return e!=null&&Xr(e.length)&&!xr(e)},go=function(e){return Jt(e)?Qn(e):ia(e)},li=function(e){return mu(e,go,Zn)},Dn=Object.prototype.hasOwnProperty,Au=function(e,t,n,r,c,s){var f=1&n,h=li(e),y=h.length;if(y!=li(t).length&&!f)return!1;for(var _=y;_--;){var E=h[_];if(!(f?E in t:Dn.call(t,E)))return!1}var M=s.get(e),D=s.get(t);if(M&&D)return M==t&&D==e;var z=!0;s.set(e,t),s.set(t,e);for(var H=f;++_<y;){var q=e[E=h[_]],ae=t[E];if(r)var oe=f?r(ae,q,E,t,e,s):r(q,ae,E,e,t,s);if(!(oe===void 0?q===ae||c(q,ae,n,r,s):oe)){z=!1;break}H||(H=E=="constructor")}if(z&&!H){var fe=e.constructor,_e=t.constructor;fe==_e||!("constructor"in e)||!("constructor"in t)||typeof fe=="function"&&fe instanceof fe&&typeof _e=="function"&&_e instanceof _e||(z=!1)}return s.delete(e),s.delete(t),z},$o=Sr(Xe.a,"DataView"),fi=Sr(Xe.a,"Promise"),pi=Sr(Xe.a,"Set"),di=Sr(Xe.a,"WeakMap"),Pu="[object Map]",Nn="[object Promise]",$n="[object Set]",mo="[object WeakMap]",aa="[object DataView]",ua=qn($o),sa=qn(po),Mu=qn(fi),$c=qn(pi),hi=qn(di),Vr=kt;($o&&Vr(new $o(new ArrayBuffer(1)))!=aa||po&&Vr(new po)!=Pu||fi&&Vr(fi.resolve())!=Nn||pi&&Vr(new pi)!=$n||di&&Vr(new di)!=mo)&&(Vr=function(e){var t=kt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?qn(n):"";if(r)switch(r){case ua:return aa;case sa:return Pu;case Mu:return Nn;case $c:return $n;case hi:return mo}return t});var m=Vr,b="[object Arguments]",S="[object Array]",N="[object Object]",U=Object.prototype.hasOwnProperty,ne=function(e,t,n,r,c,s){var f=hn(e),h=hn(t),y=f?S:m(e),_=h?S:m(t),E=(y=y==b?N:y)==N,M=(_=_==b?N:_)==N,D=y==_;if(D&&Object(Uo.a)(e)){if(!Object(Uo.a)(t))return!1;f=!0,E=!1}if(D&&!E)return s||(s=new Ar),f||oa(e)?yu(e,t,n,r,c,s):Go(e,t,y,n,r,c,s);if(!(1&n)){var z=E&&U.call(e,"__wrapped__"),H=M&&U.call(t,"__wrapped__");if(z||H){var q=z?e.value():e,ae=H?t.value():t;return s||(s=new Ar),c(q,ae,n,r,s)}}return!!D&&(s||(s=new Ar),Au(e,t,n,r,c,s))},he=function e(t,n,r,c,s){return t===n||(t==null||n==null||!Jn(t)&&!Jn(n)?t!=t&&n!=n:ne(t,n,r,c,e,s))},Ae=function(e,t,n,r){var c=n.length,s=c,f=!r;if(e==null)return!s;for(e=Object(e);c--;){var h=n[c];if(f&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++c<s;){var y=(h=n[c])[0],_=e[y],E=h[1];if(f&&h[2]){if(_===void 0&&!(y in e))return!1}else{var M=new Ar;if(r)var D=r(_,E,y,e,t,M);if(!(D===void 0?he(E,_,3,r,M):D))return!1}}return!0},Ue=function(e){return e==e&&!Wt(e)},bt=function(e){for(var t=go(e),n=t.length;n--;){var r=t[n],c=e[r];t[n]=[r,c,Ue(c)]}return t},ut=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},Dt=function(e){var t=bt(e);return t.length==1&&t[0][2]?ut(t[0][0],t[0][1]):function(n){return n===e||Ae(n,e,t)}},dt=function(e){return typeof e=="symbol"||Jn(e)&&kt(e)=="[object Symbol]"},Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wn=/^\w*$/,Ut=function(e,t){if(hn(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!dt(e))||Wn.test(e)||!Pt.test(e)||t!=null&&e in Object(t)};function On(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,c=t?t.apply(this,r):r[0],s=n.cache;if(s.has(c))return s.get(c);var f=e.apply(this,r);return n.cache=s.set(c,f)||s,f};return n.cache=new(On.Cache||yo),n}On.Cache=yo;var Wo=On,Wc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tu=/\\(\\)?/g,ku=function(e){var t=Wo(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wc,function(n,r,c,s){t.push(c?s.replace(Tu,"$1"):r||n)}),t}),yi=vt?vt.prototype:void 0,ca=yi?yi.toString:void 0,wn=function e(t){if(typeof t=="string")return t;if(hn(t))return ze(t,e)+"";if(dt(t))return ca?ca.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},Du=function(e){return e==null?"":wn(e)},Ho=function(e,t){return hn(e)?e:Ut(e,t)?[e]:ku(Du(e))},la=function(e){if(typeof e=="string"||dt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Hc=function(e,t){for(var n=0,r=(t=Ho(t,e)).length;e!=null&&n<r;)e=e[la(t[n++])];return n&&n==r?e:void 0},fh=function(e,t,n){var r=e==null?void 0:Hc(e,t);return r===void 0?n:r},X1=function(e,t){return e!=null&&t in Object(e)},Y1=function(e,t,n){for(var r=-1,c=(t=Ho(t,e)).length,s=!1;++r<c;){var f=la(t[r]);if(!(s=e!=null&&n(e,f)))break;e=e[f]}return s||++r!=c?s:!!(c=e==null?0:e.length)&&Xr(c)&&_n(f,c)&&(hn(e)||Mr(e))},ph=function(e,t){return e!=null&&Y1(e,t,X1)},V1=function(e,t){return Ut(e)&&Ue(t)?ut(la(e),t):function(n){var r=fh(n,e);return r===void 0&&r===t?ph(n,e):he(t,r,3)}},Xc=function(e){return e},K1=function(e){return function(t){return t==null?void 0:t[e]}},q1=function(e){return function(t){return Hc(t,e)}},Z1=function(e){return Ut(e)?K1(la(e)):q1(e)},J1=function(e){return typeof e=="function"?e:e==null?Xc:typeof e=="object"?hn(e)?V1(e[0],e[1]):Dt(e):Z1(e)},dh=function(e){return function(t,n,r){for(var c=-1,s=Object(t),f=r(t),h=f.length;h--;){var y=f[e?h:++c];if(n(s[y],y,s)===!1)break}return t}}(),Q1=function(e,t){return function(n,r){if(n==null)return n;if(!Jt(n))return e(n,r);for(var c=n.length,s=t?c:-1,f=Object(n);(t?s--:++s<c)&&r(f[s],s,f)!==!1;);return n}}(function(e,t){return e&&dh(e,t,go)}),eO=function(e,t){var n=-1,r=Jt(e)?Array(e.length):[];return Q1(e,function(c,s,f){r[++n]=t(c,s,f)}),r},Nu=function(e,t){return(hn(e)?ze:eO)(e,J1(t))};Object(d.n)({isolateGlobalState:!0});var Cu=function(){try{var e=Sr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yc=function(e,t,n){t=="__proto__"&&Cu?Cu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tO=Object.prototype.hasOwnProperty,Ru=function(e,t,n){var r=e[t];tO.call(e,t)&&St(r,n)&&(n!==void 0||t in e)||Yc(e,t,n)},vi=function(e,t,n,r){var c=!n;n||(n={});for(var s=-1,f=t.length;++s<f;){var h=t[s],y=r?r(n[h],e[h],h,n,e):void 0;y===void 0&&(y=e[h]),c?Yc(n,h,y):Ru(n,h,y)}return n},nO=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},hh=Math.max,yh=function(e,t,n){return t=hh(t===void 0?e.length-1:t,0),function(){for(var r=arguments,c=-1,s=hh(r.length-t,0),f=Array(s);++c<s;)f[c]=r[t+c];c=-1;for(var h=Array(t+1);++c<t;)h[c]=r[c];return h[t]=n(f),nO(e,this,h)}},rO=function(e){return function(){return e}},oO=Cu?function(e,t){return Cu(e,"toString",{configurable:!0,enumerable:!1,value:rO(t),writable:!0})}:Xc,iO=Date.now,aO=function(e){var t=0,n=0;return function(){var r=iO(),c=16-(r-n);if(n=r,c>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},vh=aO(oO),uO=function(e,t){return vh(yh(e,t,Xc),e+"")},sO=function(e,t,n){if(!Wt(n))return!1;var r=typeof t;return!!(r=="number"?Jt(n)&&_n(t,n.length):r=="string"&&t in n)&&St(n[t],e)},gh=function(e){return uO(function(t,n){var r=-1,c=n.length,s=c>1?n[c-1]:void 0,f=c>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(c--,s):void 0,f&&sO(n[0],n[1],f)&&(s=c<3?void 0:s,c=1),t=Object(t);++r<c;){var h=n[r];h&&e(t,h,r,s)}return t})},cO=Object.prototype.hasOwnProperty,xn=gh(function(e,t){if(ci(t)||Jt(t))vi(t,go(t),e);else for(var n in t)cO.call(t,n)&&Ru(e,n,t[n])}),lO=function(e,t,n,r){if(!Wt(e))return e;for(var c=-1,s=(t=Ho(t,e)).length,f=s-1,h=e;h!=null&&++c<s;){var y=la(t[c]),_=n;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(c!=f){var E=h[y];(_=r?r(E,y,h):void 0)===void 0&&(_=Wt(E)?E:_n(t[c+1])?[]:{})}Ru(h,y,_),h=h[y]}return e},fO=function(e,t,n){for(var r=-1,c=t.length,s={};++r<c;){var f=t[r],h=Hc(e,f);n(h,f)&&lO(s,Ho(f,e),h)}return s},pO=function(e,t){return fO(e,t,function(n,r){return ph(e,r)})},mh=vt?vt.isConcatSpreadable:void 0,dO=function(e){return hn(e)||Mr(e)||!!(mh&&e&&e[mh])},hO=function e(t,n,r,c,s){var f=-1,h=t.length;for(r||(r=dO),s||(s=[]);++f<h;){var y=t[f];n>0&&r(y)?n>1?e(y,n-1,r,c,s):Pr(s,y):c||(s[s.length]=y)}return s},yO=function(e){return e!=null&&e.length?hO(e,1):[]},Qt,bh,_h,Oh,wh,xh,Eh,Sh,jh,Ah,Ph,Mh,Th,kh,Dh,Nh,Ch,Rh,fa=function(e){return vh(yh(e,void 0,yO),e+"")}(function(e,t){return e==null?{}:pO(e,t)});function yn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function vO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Mt,Lh,_t,rn,ot,$t,gO={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Vc=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Bh=(bh=dn((Qt=function(){function e(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),yn(this,"isSilentMode",bh,this),yn(this,"stopZoomGraph",_h,this),yn(this,"stopScrollGraph",Oh,this),yn(this,"stopMoveGraph",wh,this),yn(this,"adjustEdge",xh,this),yn(this,"adjustEdgeMiddle",Eh,this),yn(this,"adjustEdgeStartAndEnd",Sh,this),yn(this,"adjustNodePosition",jh,this),yn(this,"hideAnchors",Ah,this),yn(this,"hoverOutline",Ph,this),yn(this,"nodeSelectedOutline",Mh,this),yn(this,"edgeSelectedOutline",Th,this),yn(this,"nodeTextEdit",kh,this),yn(this,"edgeTextEdit",Dh,this),yn(this,"nodeTextDraggable",Nh,this),yn(this,"edgeTextDraggable",Ch,this),yn(this,"autoExpand",Rh,this),Ih(this,"multipleSelectKey",""),Ih(this,"defaultConfig",{}),xn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var c=this.getConfigDetail(r);xn(this,c)}},{key:"getConfigDetail",value:function(r){var c=r.isSilentMode,s=r.textEdit,f={};if(c===!1&&xn(f,this.defaultConfig),c===!0&&c!==this.isSilentMode){var h=fa(gO,Vc);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},xn(f,h)}s===!1&&xn(f,{nodeTextEdit:!1,edgeTextEdit:!1});var y=fa(r,Vc);return xn(f,y)}},{key:"getConfig",value:function(){return fa(this,Vc)}}])&&vO(t.prototype,n),e}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_h=dn(Qt.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oh=dn(Qt.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wh=dn(Qt.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xh=dn(Qt.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Eh=dn(Qt.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sh=dn(Qt.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jh=dn(Qt.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ah=dn(Qt.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ph=dn(Qt.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mh=dn(Qt.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Th=dn(Qt.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kh=dn(Qt.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dh=dn(Qt.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nh=dn(Qt.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ch=dn(Qt.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rh=dn(Qt.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dn(Qt.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(Qt.prototype,"updateEditConfig"),Qt.prototype),Qt);i(63),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Mt||(Mt={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Lh||(Lh={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(_t||(_t={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(rn||(rn={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(ot||(ot={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}($t||($t={}));var Hn,en,zh,Fh,Gh,Uh,$h,Wh,Hh;function Iu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Xh(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xo(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hr(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Hn||(Hn={}));var bO=(en=function(){function e(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Kc(this,"MINI_SCALE_SIZE",.2),Kc(this,"MAX_SCALE_SIZE",16),Xo(this,"SCALE_X",zh,this),Xo(this,"SKEW_Y",Fh,this),Xo(this,"SKEW_X",Gh,this),Xo(this,"SCALE_Y",Uh,this),Xo(this,"TRANSLATE_X",$h,this),Xo(this,"TRANSLATE_Y",Wh,this),Xo(this,"ZOOM_SIZE",Hh,this),Kc(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var c=Iu(r,2),s=c[0],f=c[1];return[(s-this.TRANSLATE_X)/this.SCALE_X,(f-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var c=Iu(r,2),s=c[0],f=c[1];return[s*this.SCALE_X+this.TRANSLATE_X,f*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,c,s){var f=Iu(r,2),h=f[0],y=f[1];return[h+c/this.SCALE_X,y+s/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,c){return[r/this.SCALE_X,c/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=arguments.length>1?arguments[1]:void 0,s=this.SCALE_X,f=this.SCALE_Y;return r===!0?(s+=this.ZOOM_SIZE,f+=this.ZOOM_SIZE):r===!1?(s-=this.ZOOM_SIZE,f-=this.ZOOM_SIZE):typeof r=="number"&&(s=r,f=r),s<this.MINI_SCALE_SIZE||s>this.MAX_SCALE_SIZE||(c&&(this.TRANSLATE_X-=(s-this.SCALE_X)*c[0],this.TRANSLATE_Y-=(f-this.SCALE_Y)*c[1]),this.SCALE_X=s,this.SCALE_Y=f,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ot.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,c){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=c,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,c,s,f){var h=Iu(this.CanvasPointToHtmlPoint([r,c]),2),y=s/2-h[0],_=f/2-h[1];this.TRANSLATE_X+=y,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}],n&&mO(t.prototype,n),e}(),zh=hr(en.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fh=hr(en.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gh=hr(en.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Uh=hr(en.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$h=hr(en.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wh=hr(en.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hh=hr(en.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),hr(en.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(en.prototype,"zoom"),en.prototype),hr(en.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(en.prototype,"resetZoom"),en.prototype),hr(en.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(en.prototype,"translate"),en.prototype),hr(en.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(en.prototype,"focusOn"),en.prototype),en),_O=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},OO=function(e,t){return e&&vi(t,go(t),e)},wO=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},xO=Object.prototype.hasOwnProperty,EO=function(e){if(!Wt(e))return wO(e);var t=ci(e),n=[];for(var r in e)(r!="constructor"||!t&&xO.call(e,r))&&n.push(r);return n},pa=function(e){return Jt(e)?Qn(e,!0):EO(e)},SO=function(e,t){return e&&vi(t,pa(t),e)},Yh=i(106),Vh=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},jO=function(e,t){return vi(e,Zn(e),t)},qc=er(Object.getPrototypeOf,Object),Kh=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Pr(t,Zn(e)),e=qc(e);return t}:_u,AO=function(e,t){return vi(e,Kh(e),t)},PO=function(e){return mu(e,pa,Kh)},MO=Object.prototype.hasOwnProperty,TO=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&MO.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Zc=function(e){var t=new e.constructor(e.byteLength);return new Fo(t).set(new Fo(e)),t},kO=function(e,t){var n=t?Zc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},DO=/\w*$/,NO=function(e){var t=new e.constructor(e.source,DO.exec(e));return t.lastIndex=e.lastIndex,t},qh=vt?vt.prototype:void 0,Zh=qh?qh.valueOf:void 0,CO=function(e){return Zh?Object(Zh.call(e)):{}},Jh=function(e,t){var n=t?Zc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},RO=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Zc(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return kO(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jh(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return NO(e);case"[object Symbol]":return CO(e)}},Qh=Object.create,IO=function(){function e(){}return function(t){if(!Wt(t))return{};if(Qh)return Qh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ey=function(e){return typeof e.constructor!="function"||ci(e)?{}:IO(qc(e))},LO=function(e){return Jn(e)&&m(e)=="[object Map]"},ty=pn.a&&pn.a.isMap,BO=ty?Yr(ty):LO,zO=function(e){return Jn(e)&&m(e)=="[object Set]"},ny=pn.a&&pn.a.isSet,FO=ny?Yr(ny):zO,ry="[object Arguments]",oy="[object Function]",GO="[object Object]",Gt={};Gt[ry]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object DataView]"]=Gt["[object Boolean]"]=Gt["[object Date]"]=Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object Symbol]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Error]"]=Gt[oy]=Gt["[object WeakMap]"]=!1;var UO=function e(t,n,r,c,s,f){var h,y=1&n,_=2&n,E=4&n;if(r&&(h=s?r(t,c,s,f):r(t)),h!==void 0)return h;if(!Wt(t))return t;var M=hn(t);if(M){if(h=TO(t),!y)return Vh(t,h)}else{var D=m(t),z=D==oy||D=="[object GeneratorFunction]";if(Object(Uo.a)(t))return Object(Yh.a)(t,y);if(D==GO||D==ry||z&&!s){if(h=_||z?{}:ey(t),!y)return _?AO(t,SO(h,t)):jO(t,OO(h,t))}else{if(!Gt[D])return s?t:{};h=RO(t,D,y)}}f||(f=new Ar);var H=f.get(t);if(H)return H;f.set(t,h),FO(t)?t.forEach(function(ae){h.add(e(ae,n,r,ae,t,f))}):BO(t)&&t.forEach(function(ae,oe){h.set(oe,e(ae,n,r,oe,t,f))});var q=M?void 0:(E?_?PO:li:_?pa:go)(t);return _O(q||t,function(ae,oe){q&&(ae=t[oe=ae]),Ru(h,oe,e(ae,n,r,oe,t,f))}),h},Xt=function(e){return UO(e,5)},Jc=function(e,t,n){(n!==void 0&&!St(e[t],n)||n===void 0&&!(t in e))&&Yc(e,t,n)},$O=function(e){return Jn(e)&&Jt(e)},WO=Function.prototype,HO=Object.prototype,iy=WO.toString,XO=HO.hasOwnProperty,YO=iy.call(Object),VO=function(e){if(!Jn(e)||kt(e)!="[object Object]")return!1;var t=qc(e);if(t===null)return!0;var n=XO.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iy.call(n)==YO},Qc=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},KO=function(e){return vi(e,pa(e))},qO=function(e,t,n,r,c,s,f){var h=Qc(e,n),y=Qc(t,n),_=f.get(y);if(_)Jc(e,n,_);else{var E=s?s(h,y,n+"",e,t,f):void 0,M=E===void 0;if(M){var D=hn(y),z=!D&&Object(Uo.a)(y),H=!D&&!z&&oa(y);E=y,D||z||H?hn(h)?E=h:$O(h)?E=Vh(h):z?(M=!1,E=Object(Yh.a)(y,!0)):H?(M=!1,E=Jh(y,!0)):E=[]:VO(y)||Mr(y)?(E=h,Mr(h)?E=KO(h):Wt(h)&&!xr(h)||(E=ey(y))):M=!1}M&&(f.set(y,E),c(E,y,r,s,f),f.delete(y)),Jc(e,n,E)}},ZO=function e(t,n,r,c,s){t!==n&&dh(n,function(f,h){if(s||(s=new Ar),Wt(f))qO(t,n,h,r,e,c,s);else{var y=c?c(Qc(t,h),f,h+"",t,n,s):void 0;y===void 0&&(y=f),Jc(t,h,y)}},pa)},ay=gh(function(e,t,n){ZO(e,t,n)}),JO={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},uy=function(e){var t=Xt(JO);return e&&(t=ay(t,e)),t};i(77),i(158);function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ew=function(){function e(){var r,c,s;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),s={},(c="_events")in(r=this)?Object.defineProperty(r,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[c]=s}var t,n;return t=e,(n=[{key:"on",value:function(r,c,s){var f=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),f._events[h]||(f._events[h]=[]),f._events[h].push({callback:c,once:!!s})}),this}},{key:"once",value:function(r,c){var s=this;r==null||r.split(",").forEach(function(f){return f=f.trim(),s.on(f,c,!0)})}},{key:"emit",value:function(r,c){var s=this;r==null||r.split(",").forEach(function(f){var h=s._events[f]||[],y=s._events["*"]||[],_=function(E){for(var M=E.length,D=0;D<M;D++)if(E[D]){var z=E[D],H=z.callback;z.once&&(E.splice(D,1),E.length===0&&delete s._events[f],M--,D--),H.apply(s,[c])}};_(h),_(y)})}},{key:"off",value:function(r,c){var s=this;return r||(this._events={}),r.split(",").forEach(function(f){if(c){for(var h=s._events[f]||[],y=h.length,_=0;_<y;_++)h[_].callback===c&&(h.splice(_,1),y--,_--);h.length===0&&delete s._events[f]}else delete s._events[f]}),this}},{key:"getEvents",value:function(){return this._events}}])&&QO(t.prototype,n),e}();function bo(e,t){return t*Math.round(e/t)||e}function sy(e,t){return e%t}function el(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return cy(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return cy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tl,nl=function(e,t,n){var r=el(e,2),c=r[0],s=r[1],f=el(t,2),h=f[0],y=f[1],_=el(n,2),E=_[0],M=_[1];return c>h&&c<E&&s>y&&s<M},ly=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},tw=(i(78),i(161),i(125),i(79),i(30),i(12),i(13),i(14),i(47),new Uint8Array(16));function nw(){if(!tl&&!(tl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tl(tw)}for(var rw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ow=function(e){return typeof e=="string"&&rw.test(e)},vn=[],rl=0;rl<256;++rl)vn.push((rl+256).toString(16).substr(1));var iw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vn[e[t+0]]+vn[e[t+1]]+vn[e[t+2]]+vn[e[t+3]]+"-"+vn[e[t+4]]+vn[e[t+5]]+"-"+vn[e[t+6]]+vn[e[t+7]]+"-"+vn[e[t+8]]+vn[e[t+9]]+"-"+vn[e[t+10]]+vn[e[t+11]]+vn[e[t+12]]+vn[e[t+13]]+vn[e[t+14]]+vn[e[t+15]]).toLowerCase();if(!ow(n))throw TypeError("Stringified UUID is invalid");return n},ol=function(e,t,n){var r=(e=e||{}).random||(e.rng||nw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var c=0;c<16;++c)t[n+c]=r[c];return t}return iw(r)},_o=function(){return ol()},aw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,c){return r[c.id]=t+ol(),c.id=r[c.id],r},{});return e.edges.forEach(function(r){r.id=t+ol(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},da=(i(104),i(162),function(e,t,n){var r=e.x,c=e.y;return(r-t.x)*(r-n.x)<=0&&(c-t.y)*(c-n.y)<=0});function il(e){return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(r){uw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe,dy,hy,yy,vy,gy,my,by,_y,Oy,wy,xy,Ey,Sy,jy,Ay,Py,My,Ty,ky,Dy,al=function(e){return e.anchors},Lu=function(e,t){for(var n,r=t.nodes,c=r.length-1;c>=0;c--){var s=r[c];if(cw(e,s)){var f=s.getTargetAnchor(e);if(f){var h={node:s,anchorIndex:f.index,anchor:f.anchor};n&&!sw(s,n.node,t)||(n=h)}}}return n},sw=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},yr=function(e,t,n,r){return Math.hypot(e-n,t-r)},Oo=function(e,t){var n=!1,r=Xn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},cw=function(e,t){var n=!1,r=Xn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Xn=function(e){var t=e.x,n=e.y,r=e.width,c=e.height;return{minX:t-r/2,minY:n-c/2,maxX:t+r/2,maxY:n+c/2,x:t,y:n,width:r,height:c,centerX:t,centerY:n}},Ny=function(e,t,n){var r,c=function(f){var h=f,y=h.x,_=h.y,E=h.width,M=h.height,D=h.radius;return[{x:y-E/2+D,y:_-M/2+D,r:D},{x:y+E/2-D,y:_-M/2+D,r:D},{x:y-E/2+D,y:_+M/2-D,r:D},{x:y+E/2-D,y:_+M/2-D,r:D}]}(n),s=Number.MAX_SAFE_INTEGER;return c.forEach(function(f){var h=yr(e.x,e.y,f.x,f.y);h<s&&(s=h,r=f)}),ul(e,t,r)},ul=function(e,t,n){var r,c=n,s=c.x,f=c.y,h=c.r;if(t===$t.HORIZONTAL){var y=s-Math.sqrt(h*h-(e.y-f)*(e.y-f)),_=s+Math.sqrt(h*h-(e.y-f)*(e.y-f));r={x:Math.abs(y-e.x)<Math.abs(_-e.x)?y:_,y:e.y}}else if(t===$t.VERTICAL){var E=f-Math.sqrt(h*h-(e.x-s)*(e.x-s)),M=f+Math.sqrt(h*h-(e.x-s)*(e.x-s)),D=Math.abs(E-e.y)<Math.abs(M-e.y)?E:M;r={x:e.x,y:D}}return r},Cy=function(e,t){var n=t,r=!1,c=n.x-n.width/2+n.radius,s=n.x+n.width/2-n.radius,f=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,y=n.x,_=n.y,E=n.width,M=n.height;return e.y===_+M/2||e.y===_-M/2?r=e.x>c&&e.x<s:e.x!==y+E/2&&e.x!==y-E/2||(r=e.y>f&&e.y<h),r},Ry=function(e,t,n){var r,c=n,s=c.x,f=c.y,h=c.rx,y=c.ry;if(t===$t.HORIZONTAL){var _=s-Math.sqrt(h*h-(e.y-f)*(e.y-f)*h*h/(y*y)),E=s+Math.sqrt(h*h-(e.y-f)*(e.y-f)*h*h/(y*y));r={x:Math.abs(_-e.x)<Math.abs(E-e.x)?_:E,y:e.y}}else if(t===$t.VERTICAL){var M=f-Math.sqrt(y*y-(e.x-s)*(e.x-s)*y*y/(h*h)),D=f+Math.sqrt(y*y-(e.x-s)*(e.x-s)*y*y/(h*h)),z=Math.abs(M-e.y)<Math.abs(D-e.y)?M:D;r={x:e.x,y:z}}return r},Iy=function(e,t,n){for(var r,c=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,f=[],h=0;h<c.length;h++)f.push({start:c[h],end:c[(h+1)%c.length]});return f.forEach(function(y){var _=y.start,E=y.end,M=_,D=E;_.x>E.x&&(M=E,D=_);var z={x:e.x,y:e.y};if(M.x===D.x&&t===$t.HORIZONTAL&&(z={x:M.x,y:e.y}),M.y===D.y&&t===$t.VERTICAL&&(z={x:e.x,y:M.y}),M.x!==D.x&&M.y!==D.y){var H=(D.y-M.y)/(D.x-M.x),q=(M.x*D.y-D.x*M.y)/(M.x-D.x);t===$t.HORIZONTAL?z={x:(e.y-q)/H,y:e.y}:t===$t.VERTICAL&&(z={x:e.x,y:H*e.x+q})}if(da(z,_,E)){var ae=yr(z.x,z.y,e.x,e.y);ae<s&&(s=ae,r=z)}}),r},Ly=function(e,t,n,r){var c=e.x,s=e.y;return t.x>e.x?c=e.x+n/2:t.x<e.x&&(c=e.x-n/2),t.y>e.y?s=e.y+r/2:t.y<e.y&&(s=e.y-r/2),{x:c,y:s}},By=function(e){var t=e.rows,n=e.style,r=e.rowsLength,c=e.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=c,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),r>1?t.forEach(function(h){var y=document.createElement("div");y.textContent=h,s.appendChild(y)}):s.textContent=t,document.body.appendChild(s);var f=s.clientHeight;return document.body.removeChild(s),f},sl=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,c=0;return t&&t.forEach(function(s){var f=uv(s);c=f>c?f:c}),{width:Math.ceil(c/2)*r+r/4,height:n*(r+2)+r/4}},ha=function(e){return il(e)!=="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},gn=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},lw=1e3,fw=999,cl=function(){return++lw};function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function on(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var ll=(Oe=function(){function e(r,c){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),tr(this,"id",""),on(this,"type",dy,this),on(this,"sourceNodeId",hy,this),on(this,"targetNodeId",yy,this),on(this,"startPoint",vy,this),on(this,"endPoint",gy,this),on(this,"text",my,this),on(this,"properties",by,this),on(this,"points",_y,this),on(this,"pointsList",Oy,this),on(this,"isSelected",wy,this),on(this,"isHovered",xy,this),on(this,"isHitable",Ey,this),on(this,"draggable",Sy,this),on(this,"visible",jy,this),tr(this,"virtual",!1),on(this,"isAnimation",Ay,this),on(this,"isShowAdjustPoint",Py,this),tr(this,"graphModel",void 0),on(this,"zIndex",My,this),tr(this,"BaseType",rn.EDGE),tr(this,"modelType",_t.EDGE),on(this,"state",Ty,this),tr(this,"additionStateData",void 0),tr(this,"sourceAnchorId",""),tr(this,"targetAnchorId",""),tr(this,"menu",void 0),tr(this,"customTextPosition",!1),on(this,"style",ky,this),on(this,"arrowConfig",Dy,this),this.graphModel=c,this.initEdgeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),f=this.createId();r.id=f||s||_o()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,xn(this,Nw(r)),this.graphModel.overlapMode===Hn.INCREASE&&(this.zIndex=r.zIndex||cl()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Cn(Cn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Cn({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Xt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Xt(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),c=this.getEdgeAnimationStyle(),s=this.graphModel.theme.arrow,f=this.isAnimation?c.stroke:r.stroke;return Cn(Cn({},r),{},{fill:f,stroke:f},s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Xt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.sourceNodeId])===null||c===void 0?void 0:c.model}},{key:"targetNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.targetNodeId])===null||c===void 0?void 0:c.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,c){var s,f;return al(r).forEach(function(h){var y=fv(h,c);(f===void 0||y<f)&&(f=y,s=h)}),s}},{key:"getEndAnchor",value:function(r){var c,s,f=this;return al(r).forEach(function(h){var y=fv(h,f.startPoint);(s===void 0||y<s)&&(s=y,c=h)}),c}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,f=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return f&&(h.text={x:c,y:s,value:f}),this.graphModel.overlapMode===Hn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,c){this.properties[r]=gn(c),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Cn(Cn({},Object(d.I)(this.properties)),gn(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var c=this.arrowConfig,s=c.markerEnd,f=c.markerStart;f&&f==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),s&&s==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,c){this.style=Cn(Cn({},this.style),{},tr({},r,gn(c)))}},{key:"setStyles",value:function(r){this.style=Cn(Cn({},this.style),gn(r))}},{key:"updateStyles",value:function(r){this.style=Cn({},gn(r))}},{key:"formatText",value:function(r){var c=this.textPosition,s=c.x,f=c.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||s,y:r.text.y||f,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:s,y:f,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,c=r.x,s=r.y;this.text.x=c,this.text.y=s}},{key:"moveText",value:function(r,c){if(this.text){var s=this.text,f=s.x,h=s.y,y=s.value,_=s.draggable,E=s.editable;this.text={value:y,draggable:_,x:f+r,y:h+c,editable:E}}}},{key:"setText",value:function(r){r&&xn(this.text,r)}},{key:"updateText",value:function(r){this.text=Cn(Cn({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var c=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:c.x,y:c.y}),this.targetAnchorId||(this.targetAnchorId=c.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,c){this.startPoint.x+=r,this.startPoint.y+=c}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,c){this.endPoint.x+=r,this.endPoint.y+=c}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){xn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var c=r.startPoint,s=r.endPoint;this.updateStartPoint({x:c.x,y:c.y}),this.updateEndPoint({x:s.x,y:s.y})}}],n&&pw(t.prototype,n),e}(),dy=nt(Oe.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hy=nt(Oe.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yy=nt(Oe.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vy=nt(Oe.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gy=nt(Oe.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),my=nt(Oe.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),by=nt(Oe.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_y=nt(Oe.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oy=nt(Oe.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wy=nt(Oe.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xy=nt(Oe.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ey=nt(Oe.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sy=nt(Oe.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jy=nt(Oe.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ay=nt(Oe.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Py=nt(Oe.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),My=nt(Oe.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ty=nt(Oe.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ky=nt(Oe.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Dy=nt(Oe.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),nt(Oe.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),nt(Oe.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),nt(Oe.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),nt(Oe.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),nt(Oe.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"deleteProperty"),Oe.prototype),nt(Oe.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),nt(Oe.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"changeEdgeId"),Oe.prototype),nt(Oe.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyle"),Oe.prototype),nt(Oe.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyles"),Oe.prototype),nt(Oe.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStyles"),Oe.prototype),nt(Oe.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),nt(Oe.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),nt(Oe.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),nt(Oe.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),nt(Oe.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),nt(Oe.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),nt(Oe.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),nt(Oe.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),nt(Oe.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),nt(Oe.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"openEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"closeEdgeAnimation"),Oe.prototype),nt(Oe.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),nt(Oe.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),nt(Oe.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),nt(Oe.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),nt(Oe.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),nt(Oe.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),nt(Oe.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),nt(Oe.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),nt(Oe.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),nt(Oe.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),nt(Oe.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),fl=ll;function pl(e){return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(n),!0).forEach(function(r){$y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(){return dl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=yw(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},dl.apply(this,arguments)}function yw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=gi(e))!==null;);return e}function hl(e,t){return hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hl(e,t)}function vw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gi(e);if(t){var c=gi(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return gw(this,n)}}function gw(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uy(e)}function Uy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(e)}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt,Wy,yl=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&hl(s,f)})(c,e);var t,n,r=vw(c);function c(){var s;dw(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return $y(Uy(s=r.call.apply(r,[this].concat(h))),"modelType",_t.LINE_EDGE),s}return t=c,(n=[{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.line;return Gy(Gy({},dl(gi(c.prototype),"getEdgeStyle",this).call(this)),Xt(s))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&hw(t.prototype,n),c}(fl);function vl(e){return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function mw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Hy(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Hy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(n),!0).forEach(function(r){ml(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bw(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(){return ya=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=ww(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},ya.apply(this,arguments)}function ww(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=wo(e))!==null;);return e}function gl(e,t){return gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gl(e,t)}function xw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wo(e);if(t){var c=wo(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Ew(this,n)}}function Ew(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(e)}function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var bl=(pt=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&gl(s,f)})(c,e);var t,n,r=xw(c);function c(){var s;_w(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return ml(va(s=r.call.apply(r,[this].concat(h))),"modelType",_t.POLYLINE_EDGE),ml(va(s),"draggingPointList",void 0),bw(va(s),"dbClickPosition",Wy,va(s)),s}return t=c,(n=[{key:"initEdgeData",value:function(s){this.offset=30,ya(wo(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.polyline;return Yy(Yy({},ya(wo(c.prototype),"getEdgeStyle",this).call(this)),Xt(s))}},{key:"getTextPosition",value:function(){var s,f=(s=this.text)===null||s===void 0?void 0:s.value;if(this.dbClickPosition&&!f){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var y=Yo(this.points),_=mw(kw(y),2),E=_[0],M=_[1];return{x:(E.x+M.x)/2,y:(E.y+M.y)/2}}},{key:"getAfterAnchor",value:function(s,f,h){var y,_;return h.forEach(function(E){var M;s===$t.HORIZONTAL?M=Math.abs(f.y-E.y):s===$t.VERTICAL&&(M=Math.abs(f.x-E.x)),(!_||_>M)&&(_=M,y=E)}),y}},{key:"getCrossPoint",value:function(s,f,h){var y;return s===$t.HORIZONTAL?y={x:h.x,y:f.y}:s===$t.VERTICAL&&(y={x:f.x,y:h.y}),y}},{key:"removeCrossPoints",value:function(s,f,h){var y=h.map(function(oe){return oe});if(s===1){var _=y[s],E=y[f],M=y[s-1];if(rv(M,_,this.sourceNode)){if(ov(_,E,this.sourceNode)){var D=iv(_,E,this.sourceNode);D&&(y[s]=D,y.splice(s-1,1),s--,f--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===M.x&&oe.x===_.x||oe.y===M.y&&oe.y===_.y)&&yr(oe.x,oe.y,_.x,_.y)<yr(M.x,M.y,_.x,_.y)&&(y[s-1]=oe)})}if(f===h.length-2){var z=y[s],H=y[f],q=y[f+1];if(rv(H,q,this.targetNode)){if(ov(z,H,this.targetNode)){var ae=iv(z,H,this.targetNode);ae&&(y[f]=ae,y.splice(f+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===q.x&&oe.x===H.x||oe.y===q.y&&oe.y===H.y)&&yr(oe.x,oe.y,H.x,H.y)<yr(q.x,q.y,H.x,H.y)&&(y[f+1]=oe)})}return y}},{key:"getDraggingPoints",value:function(s,f,h,y,_){var E=_.map(function(z){return z}),M=this.getAfterAnchor(s,h,y),D=this.getCrossPoint(s,h,M);return f==="start"?(E.unshift(D),E.unshift(M)):(E.push(D),E.push(M)),E}},{key:"updateCrossPoints",value:function(s){var f=s.map(function(_e){return _e}),h=s[0],y=s[1],_=s[f.length-2],E=s[f.length-1],M=this.sourceNode,D=this.targetNode,z=M.modelType,H=D.modelType,q=Wu(h,y),ae=f[0];switch(z){case _t.RECT_NODE:M.radius!==0&&(Cy(h,M)||(ae=Ny(h,q,M)));break;case _t.CIRCLE_NODE:ae=ul(h,q,M);break;case _t.ELLIPSE_NODE:ae=Ry(h,q,M);break;case _t.DIAMOND_NODE:case _t.POLYGON_NODE:ae=Iy(h,q,M)}f[0]=ae;var oe=Wu(_,E),fe=f[f.length-1];switch(H){case _t.RECT_NODE:D.radius!==0&&(Cy(E,D)||(fe=Ny(E,oe,D)));break;case _t.CIRCLE_NODE:fe=ul(E,oe,D);break;case _t.ELLIPSE_NODE:fe=Ry(E,oe,D);break;case _t.DIAMOND_NODE:case _t.POLYGON_NODE:fe=Iy(E,oe,D)}return f[f.length-1]=fe,f}},{key:"getData",value:function(){var s=ya(wo(c.prototype),"getData",this).call(this),f=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},s,{pointsList:f})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var s=nv({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=s,this.points=s.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"updateStartPoint",value:function(s){this.startPoint=s,this.updatePoints()}},{key:"moveStartPoint",value:function(s,f){this.startPoint.x+=s,this.startPoint.y+=f,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=s,this.updatePoints()}},{key:"moveEndPoint",value:function(s,f){this.endPoint.x+=s,this.endPoint.y+=f,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(s){return s})}},{key:"dragAppendSimple",value:function(s,f){this.isDragging=!0;var h=s.start,y=s.end,_=s.startIndex,E=s.endIndex,M=s.direction,D=this.pointsList,z=D;return M===$t.HORIZONTAL?(D[_]={x:h.x,y:h.y+f.y},D[E]={x:y.x,y:y.y+f.y},z=this.pointsList.map(function(H){return H})):M===$t.VERTICAL&&(D[_]={x:h.x+f.x,y:h.y},D[E]={x:y.x+f.x,y:y.y},z=this.pointsList.map(function(H){return H})),this.updatePointsAfterDrag(z),this.draggingPointList=z,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:M}}},{key:"dragAppend",value:function(s,f){this.isDragging=!0;var h=s.start,y=s.end,_=s.startIndex,E=s.endIndex,M=s.direction,D=this.pointsList;if(M===$t.HORIZONTAL){D[_]={x:h.x,y:h.y+f.y},D[E]={x:y.x,y:y.y+f.y};var z=this.pointsList.map(function(ke){return ke});if(_!==0&&E!==this.pointsList.length-1&&(z=this.removeCrossPoints(_,E,z)),_===0){var H={x:h.x,y:h.y+f.y};if(!Oo(H,this.sourceNode)){var q=this.sourceNode.anchors;z=this.getDraggingPoints(M,"start",H,q,z)}}if(E===this.pointsList.length-1){var ae={x:y.x,y:y.y+f.y};if(!Oo(ae,this.targetNode)){var oe=this.targetNode.anchors;z=this.getDraggingPoints(M,"end",ae,oe,z)}}this.updatePointsAfterDrag(z),this.draggingPointList=z}else if(M===$t.VERTICAL){D[_]={x:h.x+f.x,y:h.y},D[E]={x:y.x+f.x,y:y.y};var fe=this.pointsList.map(function(ke){return ke});if(_!==0&&E!==this.pointsList.length-1&&(fe=this.removeCrossPoints(_,E,fe)),_===0){var _e={x:h.x+f.x,y:h.y};if(!Oo(_e,this.sourceNode)){var Te=this.sourceNode.anchors;fe=this.getDraggingPoints(M,"start",_e,Te,fe)}}if(E===this.pointsList.length-1){var Se={x:y.x+f.x,y:y.y};if(!Oo(Se,this.targetNode)){var We=this.targetNode.anchors;fe=this.getDraggingPoints(M,"end",Se,We,fe)}}this.updatePointsAfterDrag(fe),this.draggingPointList=fe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:M}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var s=tv(Yo(this.points));this.pointsList=s.map(function(y){return y}),this.draggingPointList=[];var f=s[0];this.startPoint=Object.assign({},f);var h=s[s.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(s){var f=this.updateCrossPoints(s);this.points=f.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var f=s.startPoint,h=s.endPoint,y=s.sourceNode,_=s.targetNode,E=nv({x:f.x,y:f.y},{x:h.x,y:h.y},y,_,this.offset||0);this.pointsList=E,this.initPoints()}}])&&Ow(t.prototype,n),c}(fl),Wy=En(pt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En(pt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"initPoints"),pt.prototype),En(pt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePoints"),pt.prototype),En(pt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateStartPoint"),pt.prototype),En(pt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveStartPoint"),pt.prototype),En(pt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateEndPoint"),pt.prototype),En(pt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveEndPoint"),pt.prototype),En(pt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendStart"),pt.prototype),En(pt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendSimple"),pt.prototype),En(pt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppend"),pt.prototype),En(pt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"dragAppendEnd"),pt.prototype),En(pt.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"updatePointsAfterDrag"),pt.prototype),En(pt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustStart"),pt.prototype),En(pt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"getAdjustEnd"),pt.prototype),En(pt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateAfterAdjustStartAndEnd"),pt.prototype),pt),ga=function(e){var t=e.start,n=e.end,r=e.offset,c=e.verticalLength,s=e.type,f={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-t.y)/(n.x-t.x)),y=Math.atan(r/c),_=Math.sqrt(c*c+r*r);return s==="start"?n.x>=t.x?(f.leftX=t.x+_*Math.sin(h+y),f.leftY=t.y-_*Math.cos(h+y),f.rightX=t.x-_*Math.sin(h-y),f.rightY=t.y+_*Math.cos(h-y)):(f.leftX=t.x-_*Math.sin(h+y),f.leftY=t.y+_*Math.cos(h+y),f.rightX=t.x+_*Math.sin(h-y),f.rightY=t.y-_*Math.cos(h-y)):s==="end"&&(n.x>=t.x?(f.leftX=n.x+_*Math.sin(h-y),f.leftY=n.y-_*Math.cos(h-y),f.rightX=n.x-_*Math.sin(h+y),f.rightY=n.y+_*Math.cos(h+y)):(f.leftX=n.x-_*Math.sin(h-y),f.leftY=n.y+_*Math.cos(h-y),f.rightX=n.x+_*Math.sin(h+y),f.rightY=n.y-_*Math.cos(h+y))),f},Sw={x:1,y:0,z:0};function Vy(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function jw(e){return r=function(s,f){return s.x*f.y-s.y*f.x}(t=Sw,n=e),c=Math.acos(function(s,f){var h=[s.x,s.y,s.z];return[f.x,f.y,f.z].reduce(function(y,_,E){return y+_*h[E]})}(Vy(t),Vy(n))),r>=0?c:-c;var t,n,r,c}function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(n),!0).forEach(function(r){Aw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pw(e){return function(t){if(Array.isArray(t))return Ol(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||qy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _l(e){return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function zu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||qy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qy(e,t){if(e){if(typeof e=="string")return Ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ol(e,t):void 0}}function Ol(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wl=function(e){var t=[],n={};return e.forEach(function(r){var c="".concat(r.x,"-").concat(r.y);r.id=c,n[c]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},Fu=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Gu=function(e,t,n){var r=function(c,s){var f=Math.abs(c.x-s.centerX),h=Math.abs(c.y-s.centerY);return f/s.width>h/s.height?$t.HORIZONTAL:$t.VERTICAL}(n,t);return r===$t.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},Zy=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),c=Math.max(e.maxX,t.maxX),s=Math.max(e.maxY,t.maxY);return{centerX:(n+c)/2,centerY:(r+s)/2,minX:n,minY:r,maxX:c,maxY:s,height:s-r,width:c-n}},ma=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var c=Math.min.apply(Math,n),s=Math.max.apply(Math,n),f=Math.min.apply(Math,r),h=Math.max.apply(Math,r),y=s-c,_=h-f;return t&&(y+=t,_+=t),{centerX:(c+s)/2,centerY:(f+h)/2,maxX:s,maxY:h,minX:c,minY:f,x:(c+s)/2,y:(f+h)/2,height:_,width:y}},Uu=function(e){var t=e.minX,n=e.minY,r=e.maxX,c=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:c},{x:t,y:c}]},$u=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},xl=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Jy=function(e,t,n,r,c){return xl(e,t)+xl(e,n)+function(s,f){var h=0;return f.forEach(function(y){y&&(s.x===y.x&&(h+=-2),s.y===y.y&&(h+=-2))}),h}(e,[t,n,r,c])},Mw=function e(t,n,r,c,s){s||(s=0),t.unshift(n[c]),r[c]&&r[c]!==c&&s<=100&&e(t,n,r,r[c],s+1)},ba=function(e,t,n,r){var c=t.x-e.x,s=t.y-e.y,f=r.x-n.x,h=r.y-n.y,y=(-s*(e.x-n.x)+c*(e.y-n.y))/(-f*s+c*h),_=(f*(e.y-n.y)-h*(e.x-n.x))/(-f*s+c*h);return y>=0&&y<=1&&_>=0&&_<=1},Qy=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=zu(Uu(n),4),c=r[0],s=r[1],f=r[2],h=r[3];return ba(e,t,c,s)||ba(e,t,c,h)||ba(e,t,s,f)||ba(e,t,f,h)},Tw=function(e,t,n,r,c,s,f){var h=[],y=[t],_={},E={},M={};E[t.id]=0,M[t.id]=Jy(t,n,t);var D={};e.forEach(function(q){D[q.id]=q});for(var z=function(){var q,ae,oe,fe=void 0,_e=1/0;if(y.forEach(function(Se){M[Se.id]<_e&&(_e=M[Se.id],fe=Se)}),fe===n){var Te=[];return Mw(Te,D,_,n.id),{v:Te}}ae=fe,(oe=(q=y).indexOf(ae))>-1&&q.splice(oe,1),h.push(fe),function(Se,We,ke,Ge){var Ie=[];return Se.forEach(function(ht){ht!==We&&(ht.x!==We.x&&ht.y!==We.y||Qy(ht,We,ke)||Qy(ht,We,Ge)||Ie.push(ht))}),wl(Ie)}(e,fe,r,c).forEach(function(Se){if(h.indexOf(Se)===-1){y.indexOf(Se)===-1&&y.push(Se);var We=M[fe.id]+xl(fe,Se);E[Se.id]&&We>=E[Se.id]||(_[Se.id]=fe.id,E[Se.id]=We,M[Se.id]=E[Se.id]+Jy(Se,n,t,s,f))}})};y.length;){var H=z();if(_l(H)==="object")return H.v}return[t,n]},ev=function(e){return Xn(e)},tv=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],c=e[t+1];n.x===r.x&&r.x===c.x||n.y===r.y&&r.y===c.y?e.splice(t,1):t++}return e},nv=function(e,t,n,r,c){var s,f,h=ev(n),y=ev(r),_=Fu(h,c),E=Fu(y,c),M=Gu(_,h,e),D=Gu(E,y,t);if(s=_,f=E,2*Math.abs(s.centerX-f.centerX)<s.width+f.width&&2*Math.abs(s.centerY-f.centerY)<s.height+f.height){var z=Dw(e,t,M,D);return[e,M].concat(Pw(z),[D,t])}var H=ma([M,D]),q=Zy(_,H),ae=Zy(E,H),oe=[];oe=(oe=oe.concat(Uu(q))).concat(Uu(ae));var fe={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[H,q,ae].forEach(function(Te){oe=oe.concat(function(Se,We){return function(ke,Ge){return Ge<ke.minX||Ge>ke.maxX?[]:[{x:Ge,y:ke.minY},{x:Ge,y:ke.maxY}]}(Se,We.x).concat(function(ke,Ge){return Ge<ke.minY||Ge>ke.maxY?[]:[{x:ke.minX,y:Ge},{x:ke.maxX,y:Ge}]}(Se,We.y))}(Te,fe).filter(function(Se){return $u(Se,_)&&$u(Se,E)}))}),[{x:M.x,y:D.y},{x:D.x,y:M.y}].forEach(function(Te){$u(Te,_)&&$u(Te,E)&&oe.push(Te)}),oe.unshift(M),oe.push(D),oe=wl(oe);var _e=Tw(oe,M,D,h,y,e,t);return _e.unshift(e),_e.push(t),_e.length>2&&(_e=tv(_e)),wl(_e)},kw=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],c=yr(n.x,n.y,r.x,r.y),s=1;s<e.length-1;s++){var f=e[s],h=e[s+1],y=yr(f.x,f.y,h.x,h.y);y>c&&(c=y,n=f,r=h)}t=[n,r]}return t},rv=function(e,t,n){var r=Oo(e,n),c=Oo(t,n);return r&&c},ov=function(e,t,n){var r=Oo(e,n),c=Oo(t,n);return!(r&&c)&&(r||c)},iv=function(e,t,n){for(var r,c,s=Xn(n),f=Uu(s),h=0;h<f.length;h++)ba(e,t,f[h],f[(h+1)%f.length])&&(c=[f[h],f[(h+1)%f.length]]);return c&&(r=function(y,_,E,M){var D=(_.y-y.y)*(M.x-E.x)-(y.x-_.x)*(E.y-M.y);if(D===0)return!1;var z=((_.x-y.x)*(M.x-E.x)*(E.y-y.y)+(_.y-y.y)*(M.x-E.x)*y.x-(M.y-E.y)*(_.x-y.x)*E.x)/D,H=-((_.y-y.y)*(M.y-E.y)*(E.x-y.x)+(_.x-y.x)*(M.y-E.y)*y.y-(M.x-E.x)*(_.y-y.y)*E.y)/D;return(z-y.x)*(z-_.x)<=0&&(H-y.y)*(H-_.y)<=0&&(z-E.x)*(z-M.x)<=0&&(H-E.y)*(H-M.y)<=0&&{x:z,y:H}}(e,t,c[0],c[1])),r},Wu=function(e,t){var n;return e.x===t.x?n=$t.VERTICAL:e.y===t.y&&(n=$t.HORIZONTAL),n},Yo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var c=zu(r.split(","),2),s=c[0],f=c[1];n.push({x:Number(s),y:Number(f)})}),n},Dw=function(e,t,n,r){var c=[];if(Wu(e,n)===Wu(t,r))e.y===n.y?(c.push({x:n.x,y:(n.y+r.y)/2}),c.push({x:r.x,y:(n.y+r.y)/2})):(c.push({x:(n.x+r.x)/2,y:n.y}),c.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},f=da(s,e,n),h=da(s,t,r);if(f||h)s={x:r.x,y:n.y};else{var y=av(s,e,n),_=av(s,t,r);y&&_&&(s={x:r.x,y:n.y})}c.push(s)}return c},av=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},uv=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},sv=function(e){var t=e.start,n=e.end,r=e.sourceNode,c=e.targetNode,s=e.offset,f=Xn(r),h=Xn(c),y=Fu(f,s),_=Fu(h,s);return{sNext:Gu(y,f,t),ePre:Gu(_,h,n)}},El=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[Hu(t[0]),Hu(t[1]),Hu(t[2]),Hu(t[3])]},Hu=function(e){var t=zu(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},cv=function(e,t){var n=zu(e,4),r=function(c,s,f,h,y){for(var _=function(fe){if(fe<0||fe>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:c.x*Math.pow(1-fe,3)+3*s.x*fe*Math.pow(1-fe,2)+3*f.x*Math.pow(fe,2)*(1-fe)+h.x*Math.pow(fe,3),y:c.y*Math.pow(1-fe,3)+3*s.y*fe*Math.pow(1-fe,2)+3*f.y*Math.pow(fe,2)*(1-fe)+h.y*Math.pow(fe,3)}},E=0,M=2,D=h.x,z=h.y,H=h;E<y&&M<50;){var q=H=_(1-M/100),ae=q.x,oe=q.y;E=yr(D,z,ae,oe),M++}return H}(n[0],n[1],n[2],n[3],t);return[r,e[3]]},lv=function(e,t){for(var n,r=e.x,c=e.y,s=Yo(t),f=Number.MAX_SAFE_INTEGER,h=[],y=0;y<s.length;y++)h.push({start:s[y],end:s[(y+1)%s.length]});if(h.forEach(function(D){var z=D.start,H=D.end;if(z.x===H.x){var q={x:z.x,y:c};if(da(q,z,H)){var ae=Math.abs(z.x-r);ae<f&&(f=ae,n=q)}}else if(z.y===H.y){var oe={x:r,y:z.y};if(da(oe,z,H)){var fe=Math.abs(z.y-c);fe<f&&(f=fe,n=oe)}}}),!n){var _=h[0],E=_.start,M=_.end;n={x:E.x+(M.x-E.x)/2,y:E.y+(M.y-E.y)/2}}return n},Nw=function(e){return fa(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},fv=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var mi=function(){};function Cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=window.document;function Rw(e){var t=e.onDragStart,n=t===void 0?mi:t,r=e.onDragging,c=r===void 0?mi:r,s=e.onDragEnd,f=s===void 0?mi:s,h=e.step,y=h===void 0?1:h,_=e.isStopPropagation,E=_===void 0||_,M=!1,D=!1,z=0,H=0,q=0,ae=0;function oe(_e){if(E&&_e.stopPropagation(),D&&(M=!0,q+=_e.clientX-z,ae+=_e.clientY-H,z=_e.clientX,H=_e.clientY,Math.abs(q)>y||Math.abs(ae)>y)){var Te=q%y,Se=ae%y,We=q-Te,ke=ae-Se;q=Te,ae=Se,c({deltaX:We,deltaY:ke,event:_e})}}function fe(_e){if(E&&_e.stopPropagation(),D=!1,Tr.removeEventListener("mousemove",oe,!1),Tr.removeEventListener("mouseup",fe,!1),M)return M=!1,f({event:_e})}return function(_e){if(_e.button===0)return E&&_e.stopPropagation(),D=!0,z=_e.clientX,H=_e.clientY,Tr.addEventListener("mousemove",oe,!1),Tr.addEventListener("mouseup",fe,!1),n({event:_e})}}var de,pv,dv,hv,yv,vv,gv,mv,bv,_v,Ov,wv,xv,Kr=function(){function e(r){var c=this,s=r.onDragStart,f=s===void 0?mi:s,h=r.onDragging,y=h===void 0?mi:h,_=r.onDragEnd,E=_===void 0?mi:_,M=r.eventType,D=M===void 0?"":M,z=r.eventCenter,H=z===void 0?null:z,q=r.step,ae=q===void 0?1:q,oe=r.isStopPropagation,fe=oe===void 0||oe,_e=r.model,Te=_e===void 0?null:_e,Se=r.data,We=Se===void 0?null:Se;(function(ke,Ge){if(!(ke instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,e),an(this,"onDragStart",void 0),an(this,"onDragging",void 0),an(this,"onDragEnd",void 0),an(this,"step",void 0),an(this,"isStopPropagation",void 0),an(this,"isDragging",!1),an(this,"isStartDragging",!1),an(this,"startX",0),an(this,"startY",0),an(this,"sumDeltaX",0),an(this,"sumDeltaY",0),an(this,"eventType",void 0),an(this,"eventCenter",void 0),an(this,"model",void 0),an(this,"data",void 0),an(this,"startTime",void 0),an(this,"handleMouseDown",function(ke){var Ge,Ie;if(ke.button===0){c.isStopPropagation&&ke.stopPropagation(),c.isStartDragging=!0,c.startX=ke.clientX,c.startY=ke.clientY,Tr.addEventListener("mousemove",c.handleMouseMove,!1),Tr.addEventListener("mouseup",c.handleMouseUp,!1);var ht=(Ge=c.model)===null||Ge===void 0?void 0:Ge.getData();(Ie=c.eventCenter)===null||Ie===void 0||Ie.emit(ot["".concat(c.eventType,"_MOUSEDOWN")],{e:ke,data:c.data||ht}),c.startTime=new Date().getTime()}}),an(this,"handleMouseMove",function(ke){if(c.isStopPropagation&&ke.stopPropagation(),c.isStartDragging&&(c.sumDeltaX+=ke.clientX-c.startX,c.sumDeltaY+=ke.clientY-c.startY,c.startX=ke.clientX,c.startY=ke.clientY,c.step<=1||Math.abs(c.sumDeltaX)>c.step||Math.abs(c.sumDeltaY)>c.step)){var Ge,Ie=c.sumDeltaX%c.step,ht=c.sumDeltaY%c.step,Nt=c.sumDeltaX-Ie,At=c.sumDeltaY-ht;c.sumDeltaX=Ie,c.sumDeltaY=ht;var Bt,tn=(Ge=c.model)===null||Ge===void 0?void 0:Ge.getData();c.isDragging||((Bt=c.eventCenter)===null||Bt===void 0||Bt.emit(ot["".concat(c.eventType,"_DRAGSTART")],{e:ke,data:c.data||tn}),c.onDragStart({event:ke})),c.isDragging=!0,Promise.resolve().then(function(){var cn,An;c.onDragging({deltaX:Nt,deltaY:At,event:ke}),(cn=c.eventCenter)===null||cn===void 0||cn.emit(ot["".concat(c.eventType,"_MOUSEMOVE")],{e:ke,data:c.data||tn}),(An=c.eventCenter)===null||An===void 0||An.emit(ot["".concat(c.eventType,"_DRAG")],{e:ke,data:c.data||tn})})}}),an(this,"handleMouseUp",function(ke){c.isStartDragging=!1,c.isStopPropagation&&ke.stopPropagation(),Promise.resolve().then(function(){var Ge,Ie,ht;Tr.removeEventListener("mousemove",c.handleMouseMove,!1),Tr.removeEventListener("mouseup",c.handleMouseUp,!1);var Nt=(Ge=c.model)===null||Ge===void 0?void 0:Ge.getData();(Ie=c.eventCenter)===null||Ie===void 0||Ie.emit(ot["".concat(c.eventType,"_MOUSEUP")],{e:ke,data:c.data||Nt}),c.isDragging&&(c.isDragging=!1,c.onDragEnd({event:ke}),(ht=c.eventCenter)===null||ht===void 0||ht.emit(ot["".concat(c.eventType,"_DROP")],{e:ke,data:c.data||Nt}))})}),an(this,"cancelDrag",function(){Tr.removeEventListener("mousemove",c.handleMouseMove,!1),Tr.removeEventListener("mouseup",c.handleMouseUp,!1),c.onDragEnd({event:null}),c.isDragging=!1}),this.onDragStart=f,this.onDragging=y,this.onDragEnd=E,this.step=ae,this.isStopPropagation=fe,this.eventType=D,this.eventCenter=H,this.model=Te,this.data=We}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Cw(t.prototype,n),e}(),Ev={node:!1,edge:!1},Iw={node:!0,edge:!0};function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(r){kr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _a(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||jv(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bi(e){return function(t){if(Array.isArray(t))return Sl(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||jv(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jv(e,t){if(e){if(typeof e=="string")return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sl(e,t):void 0}}function Sl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yu(e){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function nr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Av,Pv=200,Mv=(de=function(){function e(r){(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")})(this,e),kr(this,"rootEl",void 0),nr(this,"width",pv,this),nr(this,"height",dv,this),kr(this,"theme",void 0),kr(this,"eventCenter",void 0),kr(this,"modelMap",new Map),kr(this,"topElement",void 0),kr(this,"animation",void 0),kr(this,"idGenerator",void 0),kr(this,"edgeGenerator",void 0),kr(this,"nodeMoveRules",[]),nr(this,"edgeType",hv,this),nr(this,"nodes",yv,this),nr(this,"edges",vv,this),nr(this,"overlapMode",gv,this),nr(this,"background",mv,this),nr(this,"transformModel",bv,this),nr(this,"editConfigModel",_v,this),nr(this,"gridSize",Ov,this),nr(this,"partial",wv,this),nr(this,"fakerNode",xv,this);var c,s,f,h=r.container,y=r.background,_=y===void 0?{}:y,E=r.grid,M=r.idGenerator,D=r.edgeGenerator,z=r.animation;this.background=_,Yu(E)==="object"&&(this.gridSize=E.size),this.rootEl=h,this.editConfigModel=new Bh(r),this.eventCenter=new ew,this.transformModel=new bO(this.eventCenter),this.theme=uy(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(c=z)&&typeof c!="boolean"?ay(Xt(Ev),c):Xt(c===!0?Iw:Ev),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=M,this.edgeGenerator=(s=this,typeof(f=D)!="function"?function(H,q,ae){return Object.assign({type:s.edgeType},ae)}:function(H,q,ae){var oe=f(H,q,ae);return oe?typeof oe=="string"?Object.assign({},ae,{type:oe}):Object.assign({type:oe},ae):{type:s.edgeType}}),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=_o()}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,c,s){return r[c.id]={index:s,model:c},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,c,s){return r[c.id]={index:s,model:c},r},{})}},{key:"modelsMap",get:function(){return[].concat(bi(this.nodes),bi(this.edges)).reduce(function(r,c){return r[c.id]=c,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(_){return r.push(_)}),this.edges.forEach(function(_){return r.push(_)}),r=r.sort(function(_,E){return _.zIndex-E.zIndex});for(var c=[],s=[-200,-200],f=[this.width+Pv,this.height+Pv],h=0;h<r.length;h++){var y=r[h];y.visible&&(!this.partial||y.isSelected||this.isElementInArea(y,s,f,!1,!1))&&c.push(y)}return c}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(s){return s.state===Mt.TEXT_EDIT}),c=this.edges.find(function(s){return s.state===Mt.TEXT_EDIT});return r||c}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(c){c.isSelected&&r.set(c.id,c)}),this.edges.forEach(function(c){c.isSelected&&r.set(c.id,c)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(c){c.isSelected&&r.push(c)}),r}},{key:"getAreaElement",value:function(r,c){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],y=[],_=[];this.nodes.forEach(function(D){return _.push(D)}),this.edges.forEach(function(D){return _.push(D)});for(var E=0;E<_.length;E++){var M=_[E];h&&!M.visible||!this.isElementInArea(M,r,c,s,f)||y.push(M)}return y}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var c;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(c=this.nodesMap[r])===null||c===void 0?void 0:c.model}},{key:"getPointByClient",value:function(r){var c=r.x,s=r.y,f=this.rootEl.getBoundingClientRect(),h={x:c-f.left,y:s-f.top},y=_a(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:y[0],y:y[1]}}}},{key:"isElementInArea",value:function(r,c,s){var f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===rn.NODE){for(var y=Xn(r=r),_=y.minX,E=y.minY,M=y.maxX,D=y.maxY,z=[{x:_,y:E},{x:M,y:E},{x:M,y:D},{x:_,y:D}],H=h,q=0;q<z.length;q++){var ae=z[q],oe=ae.x,fe=ae.y,_e=this.transformModel.CanvasPointToHtmlPoint([oe,fe]),Te=_a(_e,2);if(oe=Te[0],fe=Te[1],nl([oe,fe],c,s)!==h){H=!h;break}}return H}if(r.BaseType===rn.EDGE){var Se=r=r,We=Se.startPoint,ke=Se.endPoint,Ge=this.transformModel.CanvasPointToHtmlPoint([We.x,We.y]),Ie=this.transformModel.CanvasPointToHtmlPoint([ke.x,ke.y]),ht=nl(Ge,c,s),Nt=nl(Ie,c,s);return f?ht&&Nt:ht||Nt}return!1}},{key:"graphDataToModel",value:function(r){var c=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=Nu(r.nodes,function(s){var f=c.getModel(s.type);if(!f)throw new Error("找不到".concat(s.type,"对应的节点。"));var h=s.x,y=s.y;return h&&y&&(s.x=bo(h,c.gridSize),s.y=bo(y,c.gridSize),Yu(s.text)==="object"&&(s.text.x-=sy(h,c.gridSize),s.text.y-=sy(y,c.gridSize))),new f(s,c)}):this.nodes=[],r.edges?this.edges=Nu(r.edges,function(s){var f=c.getModel(s.type);if(!f)throw new Error("找不到".concat(s.type,"对应的边。"));return new f(s,c)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(s){var f=s.getData();f&&!s.virtual&&r.push(f)});var c=[];return this.nodes.forEach(function(s){var f=s.getData();f&&!s.virtual&&c.push(f)}),{nodes:c,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,c=[],s=0;s<this.nodes.length;s++){var f=this.nodes[s];if(f.isDragging){r=!0;break}c.push(f.getHistoryData())}if(r)return!1;for(var h=!1,y=[],_=0;_<this.edges.length;_++){var E=this.edges[_];if(E.isDragging){h=!0;break}y.push(E.getHistoryData())}return!h&&{nodes:c,edges:y}}},{key:"getEdgeModelById",value:function(r){var c;return(c=this.edgesMap[r])===null||c===void 0?void 0:c.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var c=[],s=0;s<this.edges.length;s++){var f=this.edges[s],h=this.edges[s].sourceNodeId===r,y=this.edges[s].targetNodeId===r;(h||y)&&c.push(f)}return c}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=this.selectElements,s={nodes:[],edges:[]};return c.forEach(function(f){if(f.BaseType===rn.NODE&&s.nodes.push(f.getData()),f.BaseType===rn.EDGE){var h=f.getData(),y=c.get(h.sourceNodeId)&&c.get(h.targetNodeId);(r||y)&&s.edges.push(h)}}),s}},{key:"updateAttributes",value:function(r,c){this.getElement(r).updateAttributes(c)}},{key:"changeNodeId",value:function(r,c){return c||(c=_o()),this.nodesMap[c]?"":this.nodesMap[r]?(this.edges.forEach(function(s){s.sourceNodeId===r&&(s.sourceNodeId=c),s.targetNodeId===r&&(s.targetNodeId=c)}),this.nodesMap[r].model.id=c,this.nodesMap[c]=this.nodesMap[r],c):""}},{key:"changeEdgeId",value:function(r,c){return c||(c=_o()),this.edgesMap[c]?"":this.edgesMap[r]?(this.edges.forEach(function(s){s.id===r&&s.changeEdgeId(c)}),c):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,c){return this.modelMap.set(r,c)}},{key:"toFront",value:function(r){var c,s,f,h=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);h&&(this.overlapMode===Hn.DEFAULT&&((f=this.topElement)===null||f===void 0||f.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Hn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,c){var s,f,h,y=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((f=this.edgesMap[r])===null||f===void 0?void 0:f.model);y&&(typeof c=="number"&&(h=c),c==="top"&&(h=cl()),c==="bottom"&&(h=--fw),y.setZIndex(h))}},{key:"deleteNode",value:function(r){var c=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ot.NODE_DELETE,{data:c})}},{key:"addNode",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,s=arguments.length>2?arguments[2]:void 0,f=gn(r);f.id&&this.nodesMap[r.id]&&delete f.id;var h=this.getModel(f.type);if(!h)throw new Error("找不到".concat(f.type,"对应的节点，请确认是否已注册此类型节点。"));f.x=bo(f.x,this.gridSize),f.y=bo(f.y,this.gridSize);var y=new h(f,this);this.nodes.push(y);var _=y.getData(),E={data:_};return s&&(E.e=s),this.eventCenter.emit(c,E),y}},{key:"cloneNode",value:function(r){var c=this.getNodeModelById(r),s=c.getData();s.x+=30,s.y+=30,delete s.id,s.text&&(s.text.x+=30,s.text.y+=30);var f=this.addNode(s);return f.setSelected(!0),c.setSelected(!1),f.getData()}},{key:"moveNode",value:function(r,c,s){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var y=h.model,_=y.getMoveDistance(c,s,f),E=_a(_,2);c=E[0],s=E[1],this.moveEdge(r,c,s)}}},{key:"moveNode2Coordinate",value:function(r,c,s){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var y=h.model,_=y.x,E=y.y,M=c-_,D=s-E;this.moveNode(r,M,D,f)}}},{key:"editText",value:function(r){this.setElementStateById(r,Mt.TEXT_EDIT)}},{key:"addEdge",value:function(r){var c=gn(r),s=c.type;s||(s=this.edgeType),c.id&&this.edgesMap[c.id]&&delete c.id;var f=this.getModel(s);if(!f)throw new Error("找不到".concat(s,"对应的边，请确认是否已注册此类型边。"));var h=new f(Xu(Xu({},c),{},{type:s}),this),y=h.getData();return this.edges.push(h),this.eventCenter.emit(ot.EDGE_ADD,{data:y}),h}},{key:"moveEdge",value:function(r,c,s){for(var f=0;f<this.edges.length;f++){var h=this.edges[f],y=h.textPosition,_=y.x,E=y.y,M=this.edges[f].sourceNodeId===r,D=this.edges[f].targetNodeId===r;M&&h.moveStartPoint(c,s),D&&h.moveEndPoint(c,s),(M||D)&&this.handleEdgeTextMove(h,_,E)}}},{key:"handleEdgeTextMove",value:function(r,c,s){var f;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===_t.POLYLINE_EDGE&&(f=r.text)!==null&&f!==void 0&&f.value){var h=r.text,y=lv(h,r.points);r.moveText(y.x-h.x,y.y-h.y)}else{var _=r.textPosition,E=_.x,M=_.y;r.moveText(E-c,M-s)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,c){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r&&this.edges[s].targetNodeId===c){var f=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(ot.EDGE_DELETE,{data:f})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var c=this.edgesMap[r].index,s=this.edgesMap[r].model.getData();this.edges.splice(c,1),this.eventCenter.emit(ot.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeBySource",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(ot.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeByTarget",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].targetNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(ot.EDGE_DELETE,{data:s})}}},{key:"setElementStateById",value:function(r,c,s){this.nodes.forEach(function(f){f.id===r?f.setElementState(c,s):f.setElementState(Mt.DEFAULT)}),this.edges.forEach(function(f){f.id===r?f.setElementState(c,s):f.setElementState(Mt.DEFAULT)})}},{key:"updateText",value:function(r,c){this.nodes.forEach(function(s){s.id===r&&s.updateText(c)}),this.edges.forEach(function(s){s.id===r&&s.updateText(c)})}},{key:"selectNodeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var f=(c=this.nodesMap[r])===null||c===void 0?void 0:c.model;f==null||f.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var f=(c=this.edgesMap[r])===null||c===void 0?void 0:c.model;f==null||f.setSelected(!0)}},{key:"selectElementById",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var s=this.getElement(r);s==null||s.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(c){c==null||c.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Hn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,c,s){for(var f=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],y=r.reduce(function(Te,Se){var We=f.nodesMap[Se].model.getMoveDistance(c,s,h);return Te[Se]=We,Te},{}),_=0;_<this.edges.length;_++){var E=this.edges[_],M=E.textPosition,D=M.x,z=M.y,H=y[E.sourceNodeId],q=void 0,ae=void 0;if(H){var oe=_a(H,2);q=oe[0],ae=oe[1],E.moveStartPoint(q,ae)}var fe=y[E.targetNodeId];if(fe){var _e=_a(fe,2);q=_e[0],ae=_e[1],E.moveEndPoint(q,ae)}(H||fe)&&this.handleEdgeTextMove(E,D,z)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,c){var s=this.getNodeModelById(r);if(s){var f=s.getData();f.type=c;var h=this.getModel(c);if(!h)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));var y=new h(f,this);this.nodes.splice(this.nodesMap[r].index,1,y),this.getNodeEdges(r).forEach(function(_){if(_.sourceNodeId===r){var E=Ly(y,_.startPoint,y.width,y.height);_.updateStartPoint(E)}if(_.targetNodeId===r){var M=Ly(y,_.endPoint,y.width,y.height);_.updateEndPoint(M)}})}}},{key:"changeEdgeType",value:function(r,c){var s=this.getEdgeModelById(r);if(s&&s.type!==c){var f=s.getData();f.type=c;var h=this.getModel(c);if(!h)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));delete f.pointsList;var y=new h(f,this);this.edges.splice(this.edgesMap[r].index,1,y)}}},{key:"getNodeIncomingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.targetNodeId===r&&c.push(s)}),c}},{key:"getNodeOutgoingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.sourceNodeId===r&&c.push(s)}),c}},{key:"getNodeIncomingNode",value:function(r){var c=this,s=[];return this.edges.forEach(function(f){f.targetNodeId===r&&s.push(c.nodesMap[f.sourceNodeId].model)}),s}},{key:"getNodeOutgoingNode",value:function(r){var c=this,s=[];return this.edges.forEach(function(f){f.sourceNodeId===r&&s.push(c.nodesMap[f.targetNodeId].model)}),s}},{key:"setTheme",value:function(r){this.theme=uy(Xu(Xu({},this.theme),r))}},{key:"resize",value:function(r,c){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=c||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,c=[],s=[];r.forEach(function(M){var D=M.x,z=M.y,H=M.width,q=M.height,ae=M.getNodeStyle().strokeWidth,oe=ae===void 0?0:ae;c=c.concat([D+H/2+oe,D-H/2-oe]),s=s.concat([z+q/2+oe,z-q/2-oe])});var f=Math.min.apply(Math,bi(c)),h=Math.max.apply(Math,bi(c)),y=Math.min.apply(Math,bi(s)),_=h-f||0,E=Math.max.apply(Math,bi(s))-y||0;return{virtualRectWidth:_,virtualRectHeight:E,virtualRectCenterPositionX:f+_/2,virtualRectCenterPositionY:y+E/2}}},{key:"translateCenter",value:function(){var r=this.nodes,c=this.width,s=this.height,f=this.rootEl,h=this.transformModel;if(r.length){var y=c||f.clientWidth,_=s||f.clientHeight,E=this.getVirtualRectSize(),M=E.virtualRectCenterPositionX,D=E.virtualRectCenterPositionY;h.focusOn(M,D,y,_)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,s=this.nodes,f=this.width,h=this.height,y=this.rootEl,_=this.transformModel;if(s.length){var E=f||y.clientWidth,M=h||y.clientHeight,D=this.getVirtualRectSize(),z=D.virtualRectWidth,H=D.virtualRectHeight,q=D.virtualRectCenterPositionX,ae=D.virtualRectCenterPositionY,oe=(z+c)/E,fe=(H+r)/M,_e=0;_e=1/Math.max(oe,fe);var Te=[E/2,M/2];_.zoom(_e,Te),_.focusOn(q,ae,E,M)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Lw(t.prototype,n),e}(),pv=qe(de.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dv=qe(de.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hv=qe(de.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yv=qe(de.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vv=qe(de.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gv=qe(de.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hn.DEFAULT}}),mv=qe(de.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bv=qe(de.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_v=qe(de.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ov=qe(de.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wv=qe(de.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xv=qe(de.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe(de.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),qe(de.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),qe(de.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),qe(de.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),qe(de.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),qe(de.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),qe(de.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(de.prototype,"selectNodes"),de.prototype),qe(de.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),qe(de.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),qe(de.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),qe(de.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),qe(de.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),qe(de.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),qe(de.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),qe(de.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),qe(de.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),qe(de.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),qe(de.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),qe(de.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),qe(de.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),qe(de.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),qe(de.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),qe(de.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),qe(de.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),qe(de.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),qe(de.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),qe(de.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),qe(de.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),qe(de.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),qe(de.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),qe(de.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),qe(de.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),qe(de.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),qe(de.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),qe(de.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),qe(de.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),qe(de.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),qe(de.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),qe(de.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),qe(de.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),qe(de.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),qe(de.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),qe(de.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),qe(de.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),qe(de.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),Bw=Mv;function jl(e){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Al(){return Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return Pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pl(e,t)}function Fw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vu(e);if(t){var c=Vu(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Gw(this,n)}}function Gw(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(e)}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tv,Uw=br(Av=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Pl(s,f)})(c,e);var t,n,r=Fw(c);function c(s){var f;(function(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")})(this,c),qr(Dr(f=r.call(this)),"stepDrag",void 0),qr(Dr(f),"stepScrollX",0),qr(Dr(f),"stepScrollY",0),qr(Dr(f),"onDragging",function(E){var M=E.deltaX,D=E.deltaY;f.setState({isDragging:!0});var z=f.props.graphModel,H=z.transformModel;z.editConfigModel.stopMoveGraph||H.translate(M,D)}),qr(Dr(f),"onDragEnd",function(){f.setState({isDragging:!1})}),qr(Dr(f),"zoomHandler",function(E){var M=f.props,D=M.graphModel,z=D.editConfigModel,H=D.transformModel,q=D.gridSize,ae=M.graphModel,oe=E.deltaX,fe=E.deltaY;if(z.stopScrollGraph||E.ctrlKey===!0){if(!z.stopZoomGraph){E.preventDefault();var _e=ae.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,Te=_e.x,Se=_e.y;H.zoom(E.deltaY<0,[Te,Se])}}else{if(E.preventDefault(),f.stepScrollX+=oe,f.stepScrollY+=fe,Math.abs(f.stepScrollX)>=q){var We=f.stepScrollX%q,ke=f.stepScrollX-We;H.translate(-ke*H.SCALE_X,0),f.stepScrollX=We}if(Math.abs(f.stepScrollY)>=q){var Ge=f.stepScrollY%q,Ie=f.stepScrollY-Ge;H.translate(0,-Ie*H.SCALE_Y),f.stepScrollY=Ge}}}),qr(Dr(f),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var M=f.props.graphModel;M.selectElements.size>0&&M.clearSelectElements(),M.eventCenter.emit(ot.BLANK_CLICK,{e:E})}}),qr(Dr(f),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var M=f.props.graphModel,D=M.getPointByClient({x:E.clientX,y:E.clientY});M.eventCenter.emit(ot.BLANK_CONTEXTMENU,{e:E,position:D})}}),qr(Dr(f),"mouseDownHandler",function(E){var M=f.props.graphModel,D=M.eventCenter,z=M.editConfigModel,H=M.transformModel.SCALE_X,q=M.gridSize,ae=E.target,oe=!z.adjustEdge&&!z.adjustNodePosition;(ae.getAttribute("name")==="canvas-overlay"||oe)&&(z.stopMoveGraph?D.emit(ot.BLANK_MOUSEDOWN,{e:E}):(f.stepDrag.setStep(q*H),f.stepDrag.handleMouseDown(E)),f.clickHandler(E))});var h=s.graphModel,y=h.gridSize,_=h.eventCenter;return f.stepDrag=new Kr({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:y,eventType:"BLANK",isStopPropagation:!1,eventCenter:_,model:null}),f.state={isDragging:!1},f}return t=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props,h=f.children,y=f.dnd,_=this.state.isDragging;return Object(re.g)("svg",Al({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},y.eventMap()),Object(re.g)("g",{transform:s},h))}}])&&zw(t.prototype,n),c}(re.a))||Av;function Ml(e){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function $w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(e,t){return Tl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tl(e,t)}function Hw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ku(e);if(t){var c=Ku(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Xw(this,n)}}function Xw(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}var Yw=br(Tv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Tl(s,f)})(c,e);var t,n,r=Hw(c);function c(){return $w(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var s=this.props,f=s.tool,h=s.graphModel,y=f.getTools().map(function(_){return Object(re.g)(_,{graphModel:h,logicFlow:f.instance})});return f.components=y,y}},{key:"triggerToolRender",value:function(){var s=this.props,f=s.tool,h=s.graphModel,y=document.querySelector("#ToolOverlay_".concat(h.flowId)),_=f.getInstance();_.components.forEach(function(E){return E(_,y)}),_.components=[]}},{key:"render",value:function(){var s=this.props.graphModel;return Object(re.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(s.flowId)},this.getTools())}}])&&Ww(t.prototype,n),c}(re.a))||Tv;function kl(e){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Vw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(e,t){return Dl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dl(e,t)}function qw(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qu(e);if(t){var c=qu(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Zw(this,n)}}function Zw(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}var kv,Jw=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Dl(s,f)})(c,e);var t,n,r=qw(c);function c(){return Vw(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var s=this.props.background;return Object(re.g)("div",{className:"lf-background"},Object(re.g)("div",{style:s,className:"lf-background-area"}))}}])&&Kw(t.prototype,n),c}(re.a);function Nl(e){return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function Qw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(e,t){return Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cl(e,t)}function tx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zu(e);if(t){var c=Zu(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nx(this,n)}}function nx(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dv(e)}function Dv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function rx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv=br(kv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Cl(s,f)})(c,e);var t,n,r=tx(c);function c(){var s;Qw(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return rx(Dv(s=r.call.apply(r,[this].concat(h))),"id",_o()),s}return t=c,(n=[{key:"renderDot",value:function(){var s=this.props,f=s.config,h=f.color,y=f.thickness,_=y===void 0?2:y,E=s.size,M=s.visible,D=Math.min(Math.max(2,_),E/2),z=1;return M||(z=0),Object(re.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:h,opacity:z})}},{key:"renderMesh",value:function(){var s=this.props,f=s.config,h=f.color,y=f.thickness,_=y===void 0?1:y,E=s.size,M=s.visible,D=Math.min(Math.max(1,_),E/2),z="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),H=1;return M||(H=0),Object(re.g)("path",{d:z,stroke:h,strokeWidth:D,opacity:H})}},{key:"render",value:function(){var s=this.props,f=s.type,h=s.size,y=s.graphModel.transformModel,_=[y.SCALE_X,y.SKEW_Y,y.SKEW_X,y.SCALE_Y,y.TRANSLATE_X,y.TRANSLATE_Y].join(","),E="matrix(".concat(_,")");return Object(re.g)("div",{className:"lf-grid"},Object(re.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(re.g)("defs",null,Object(re.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:h,height:h},f==="dot"&&this.renderDot(),f==="mesh"&&this.renderMesh())),Object(re.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&ex(t.prototype,n),c}(re.a))||kv;Nv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Rl(e){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function ox(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Cv(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Cv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rv,_i=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=ox(n,2),c=r[0],s=r[1];(c==="style"||Rl(s)!=="object")&&(t[c]=s)}),Object(re.g)("line",t)};function Il(e){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iv(Object(n),!0).forEach(function(r){ix(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ix(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return Ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ll(e,t)}function sx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qu(e);if(t){var c=Qu(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return cx(this,n)}}function cx(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var Lv,lx=br(Rv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ll(s,f)})(c,e);var t,n,r=sx(c);function c(){return ax(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var s=this.props.snaplineModel,f=s.position,h=s.isShowHorizontal,y=s.isShowVertical,_=s.getStyle(),E=f.x,M=E===void 0?0:E,D=f.y,z=D===void 0?0:D,H=Ju(Ju({x1:-1e5,y1:z,x2:1e5,y2:z},_),{},{stroke:h?_.stroke:"none"}),q=Ju(Ju({x1:M,y1:-1e5,x2:M,y2:1e5},_),{},{stroke:y?_.stroke:"none"});return Object(re.g)("g",{className:"lf-snapline"},Object(re.g)(_i,H),Object(re.g)(_i,q))}}])&&ux(t.prototype,n),c}(re.a))||Rv;function Bl(e){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function fx(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Bv(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Bv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e){var t=e.x,n=e.y,r=e.width,c=e.height,s=e.className,f=e.radius,h=t-r/2,y=n-c/2,_={};return Object.entries(e).forEach(function(E){var M=fx(E,2),D=M[0],z=M[1];Bl(z)!=="object"&&(_[D]=z)}),_.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",f&&(_.rx=f,_.ry=f),_.x=h,_.y=y,Object(re.g)("rect",_)}function zl(e){return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Oi(){return Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zv(Object(n),!0).forEach(function(r){px(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function px(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fl(e,t){return Fl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fl(e,t)}function yx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=es(e);if(t){var c=es(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return vx(this,n)}}function vx(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}xo.defaultProps={className:"",radius:""};var Gv,gx=br(Lv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Fl(s,f)})(c,e);var t,n,r=yx(c);function c(){return dx(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getNodesOutline",value:function(){var s=this.props.graphModel,f=s.nodes,h=s.editConfigModel,y=h.hoverOutline,_=h.nodeSelectedOutline,E=[];return f.forEach(function(M){if(M.isHovered||M.isSelected){var D=M.isHovered,z=M.isSelected,H=M.x,q=M.y,ae=M.width,oe=M.height;if(_&&z||y&&D){var fe=M.getOutlineStyle(),_e={};if(Object.keys(fe).forEach(function(Se){Se!=="hover"&&(_e[Se]=fe[Se])}),D){var Te=fe.hover;_e=Fv(Fv({},_e),Te)}E.push(Object(re.g)(xo,Oi({className:"lf-outline-node",x:H,y:q,width:ae+10,height:oe+10},_e)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var s=this.props.graphModel,f=s.edges,h=s.editConfigModel,y=h.edgeSelectedOutline,_=h.hoverOutline,E=[],M=0;M<f.length;M++){var D=f[M];(y&&D.isSelected||_&&D.isHovered)&&(D.modelType===_t.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===_t.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===_t.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(s){var f=s.startPoint,h=s.endPoint,y=(f.x+h.x)/2,_=(f.y+h.y)/2,E=Math.abs(f.x-h.x)+10,M=Math.abs(f.y-h.y)+10,D=s.getOutlineStyle();return Object(re.g)(xo,Oi({className:"lf-outline-edge",x:y,y:_,width:E,height:M},D))}},{key:"getPolylineOutline",value:function(s){var f=s.points,h=Yo(f),y=ma(h,8),_=y.x,E=y.y,M=y.width,D=y.height,z=s.getOutlineStyle();return Object(re.g)(xo,Oi({className:"lf-outline",x:_,y:E,width:M,height:D},z))}},{key:"getBezierOutline",value:function(s){var f=s.path,h=El(f),y=ma(h,8),_=y.x,E=y.y,M=y.width,D=y.height,z=s.getOutlineStyle();return Object(re.g)(xo,Oi({className:"lf-outline",x:_,y:E,width:M,height:D},z))}},{key:"render",value:function(){return Object(re.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&hx(t.prototype,n),c}(re.a))||Lv;function Gl(e){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function mx(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Uv(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Uv(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oa(e){var t=e.x,n=t===void 0?0:t,r=e.y,c=r===void 0?0:r,s=e.r,f=s===void 0?4:s,h=e.className,y={cx:n,cy:c,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(_){var E=mx(_,2),M=E[0],D=E[1];Gl(D)!=="object"&&(y[M]=D)}),y.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(re.g)("circle",y)}function Ul(e){return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function bx(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return $v(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return $v(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wa(){return wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(this,arguments)}function Wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xv(e,t,n){return t&&Hv(e.prototype,t),n&&Hv(e,n),e}function Yv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$l(e,t)}function $l(e,t){return $l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$l(e,t)}function Vv(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ns(e);if(t){var c=ns(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return _x(this,n)}}function _x(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ts(e)}function ts(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}function Wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kv,qv=function(e){Yv(n,e);var t=Vv(n);function n(){var r;return Wv(this,n),Wl(ts(r=t.call(this)),"dragHandler",void 0),Wl(ts(r),"onDragging",function(c){var s=c.event,f=r.props,h=f.graphModel,y=f.bezierModel,_=f.type,E=h.getPointByClient({x:s.clientX,y:s.clientY}).canvasOverlayPosition,M=E.x,D=E.y;y.updateAdjustAnchor({x:M,y:D},_)}),Wl(ts(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Kr({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Xv(n,[{key:"render",value:function(){var r=this,c=this.props.position,s=c.x,f=c.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(re.g)(Oa,wa({className:"lf-bezier-adjust-anchor",x:s,y:f},h,{onMouseDown:function(y){r.dragHandler.handleMouseDown(y)}}))}}]),n}(re.a),Ox=br(Gv=function(e){Yv(n,e);var t=Vv(n);function n(){return Wv(this,n),t.apply(this,arguments)}return Xv(n,[{key:"getBezierAdjust",value:function(r,c){var s=r.path,f=r.id,h=bx(El(s),4),y=h[0],_=h[1],E=h[2],M=h[3],D=r.getEdgeStyle().adjustLine,z=[];return z.push(Object(re.g)(_i,wa({x1:y.x,y1:y.y,x2:_.x,y2:_.y},D))),z.push(Object(re.g)(qv,{position:_,bezierModel:r,graphModel:c,key:"".concat(f,"_ePre"),type:"sNext"})),z.push(Object(re.g)(_i,wa({x1:M.x,y1:M.y,x2:E.x,y2:E.y},D))),z.push(Object(re.g)(qv,{position:E,bezierModel:r,graphModel:c,key:"".concat(f,"_sNext"),type:"ePre"})),z}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,c=r.edges,s=[],f=0;f<c.length;f++){var h=c[f];h.isSelected&&h.modelType===_t.BEZIER_EDGE&&h.draggable&&s.push(this.getBezierAdjust(h,r))}return s}},{key:"render",value:function(){return Object(re.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(re.a))||Gv;function Hl(e){return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function wx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xl(e,t){return Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xl(e,t)}function Ex(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rs(e);if(t){var c=rs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Sx(this,n)}}function Sx(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(e)}var Zv,jx=br(Kv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Xl(s,f)})(c,e);var t,n,r=Ex(c);function c(){return wx(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props.children;return Object(re.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(re.g)("g",{transform:s},f))}}])&&xx(t.prototype,n),c}(re.a))||Kv;function Yl(e){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Vl(){return Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}function Ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Px(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kl(e,t){return Kl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kl(e,t)}function Mx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=os(e);if(t){var c=os(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Tx(this,n)}}function Tx(e,t){if(t&&(Yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var kx=br(Zv=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Kl(s,f)})(c,e);var t,n,r=Mx(c);function c(){return Ax(this,c),r.apply(this,arguments)}return t=c,n=[{key:"getComponent",value:function(s,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",y=this.props.getView,_=y(s.type);return Object(re.g)(_,{key:s.id,model:s,graphModel:f,overlay:h})}},{key:"render",value:function(){var s=this,f=this.props,h=f.graphModel,y=f.tool,_=f.options,E=f.dnd,M=f.snaplineModel,D={};_.width&&(D.width="".concat(h.width,"px")),_.height&&(D.height="".concat(h.height,"px"));var z=_.grid,H=h.fakerNode,q=h.editConfigModel.adjustEdge;return Object(re.g)("div",{className:"lf-graph","flow-id":h.flowId,style:D},Object(re.g)(Uw,{graphModel:h,dnd:E},Object(re.g)("g",{className:"lf-base"},Nu(h.sortElements,function(ae){return s.getComponent(ae,h)})),H?this.getComponent(H,h):""),Object(re.g)(jx,{graphModel:h},Object(re.g)(gx,{graphModel:h}),q?Object(re.g)(Ox,{graphModel:h}):"",_.snapline!==!1?Object(re.g)(lx,{snaplineModel:M}):""),Object(re.g)(Yw,{graphModel:h,tool:y}),_.background&&Object(re.g)(Jw,{background:_.background}),_.grid&&Object(re.g)(Nv,Vl({},z,{graphModel:h})))}}],n&&Px(t.prototype,n),c}(re.a))||Zv,Dx=kx;function Jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cx=function(){function e(r){var c=this;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Zr(this,"nodeConfig",void 0),Zr(this,"lf",void 0),Zr(this,"fakerNode",void 0),Zr(this,"stopDrag",function(){c.nodeConfig=null,window.document.removeEventListener("mouseup",c.stopDrag)}),Zr(this,"dragEnter",function(f){c.nodeConfig&&!c.fakerNode&&(c.fakerNode=c.lf.createFakerNode(is(is({},c.nodeConfig),c.clientToLocalPoint({x:f.clientX,y:f.clientY}))))}),Zr(this,"onDragOver",function(f){if(f.preventDefault(),c.fakerNode){var h=c.clientToLocalPoint({x:f.clientX,y:f.clientY}),y=h.x,_=h.y;c.fakerNode.moveTo(y,_);var E=c.fakerNode.getData();c.lf.setNodeSnapLine(E),c.lf.graphModel.eventCenter.emit(ot.NODE_DND_DRAG,{data:E})}return!1}),Zr(this,"onDragLeave",function(){c.fakerNode&&(c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)}),Zr(this,"onDrop",function(f){c.lf.graphModel&&f&&c.nodeConfig&&(c.lf.addNode(is(is({},c.nodeConfig),c.clientToLocalPoint({x:f.clientX,y:f.clientY})),ot.NODE_DND_ADD,f),f.preventDefault(),f.stopPropagation(),c.nodeConfig=null,c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)});var s=r.lf;this.lf=s}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var c=r.x,s=r.y,f=fh(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:c,y:s}).canvasOverlayPosition,y=h.x,_=h.y;return{x:bo(y,f),y:bo(_,f)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Nx(t.prototype,n),e}();function Qv(e){var t=e.container,n=e.grid,r=e.width,c=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof c=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=xn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),xn({},tg,e)}var jt,eg,tg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ql(e){return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function Zl(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ng(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ng(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(n),!0).forEach(function(r){og(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rx(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ix(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(){return xa=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Bx(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},xa.apply(this,arguments)}function Bx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Eo(e))!==null;);return e}function Jl(e,t){return Jl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jl(e,t)}function zx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eo(e);if(t){var c=Eo(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Fx(this,n)}}function Fx(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return us(e)}function us(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}function og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Ql=(jt=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Jl(s,f)})(c,e);var t,n,r=zx(c);function c(){var s;Ix(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return og(us(s=r.call.apply(r,[this].concat(h))),"modelType",_t.BEZIER_EDGE),Rx(us(s),"path",eg,us(s)),s}return t=c,(n=[{key:"initEdgeData",value:function(s){this.offset=100,xa(Eo(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.bezier;return as(as({},xa(Eo(c.prototype),"getEdgeStyle",this).call(this)),Xt(s))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var s=0,f=0;return this.pointsList.forEach(function(h){var y=h.x,_=h.y;s+=y,f+=_}),{x:s/this.pointsList.length,y:f/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var s=xa(Eo(c.prototype),"getData",this).call(this),f=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return as(as({},s),{},{pointsList:f})}},{key:"getControls",value:function(){var s=this.startPoint,f=this.endPoint;return sv({start:s,end:f,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(s){var f=Zl(s,4),h=f[0],y=f[1],_=f[2],E=f[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(y.x," ").concat(y.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var s=this.getControls(),f=s.sNext,h=s.ePre;this.updatePath(f,h)}},{key:"updatePath",value:function(s,f){s=Xt(s),f=Xt(f);var h={x:this.startPoint.x,y:this.startPoint.y},y={x:this.endPoint.x,y:this.endPoint.y};if(!s||!f){var _=this.getControls();s=_.sNext,f=_.ePre}this.pointsList=[h,s,f,y],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(s){this.startPoint=s,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=s,this.updatePoints()}},{key:"moveStartPoint",value:function(s,f){this.startPoint.x+=s,this.startPoint.y+=f;var h=Zl(this.pointsList,3),y=h[1],_=h[2];y.x+=s,y.y+=f,this.updatePath(y,_)}},{key:"moveEndPoint",value:function(s,f){this.endPoint.x+=s,this.endPoint.y+=f;var h=Zl(this.pointsList,3),y=h[1],_=h[2];_.x+=s,_.y+=f,this.updatePath(y,_)}},{key:"updateAdjustAnchor",value:function(s,f){f==="sNext"?this.pointsList[1]=s:f==="ePre"&&(this.pointsList[2]=s),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var f=s.startPoint,h=s.endPoint,y=s.sourceNode,_=s.targetNode,E=sv({start:f,end:h,sourceNode:y,targetNode:_,offset:this.offset}),M=E.sNext,D=E.ePre;this.pointsList=[f,M,D,h],this.initPoints()}}])&&Lx(t.prototype,n),c}(fl),eg=vr(jt.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vr(jt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"initPoints"),jt.prototype),vr(jt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"updatePoints"),jt.prototype),vr(jt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateStartPoint"),jt.prototype),vr(jt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateEndPoint"),jt.prototype),vr(jt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveStartPoint"),jt.prototype),vr(jt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveEndPoint"),jt.prototype),vr(jt.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAdjustAnchor"),jt.prototype),vr(jt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustStart"),jt.prototype),vr(jt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustEnd"),jt.prototype),vr(jt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAfterAdjustStartAndEnd"),jt.prototype),jt),Ce,ig,ag,ug,sg,cg,lg,fg,pg,dg,hg,yg,vg,gg,mg,bg,_g,Og,wg,xg,Gx=function(e){return e==null};function ef(e){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Ux(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(y,_){if(y){if(typeof y=="string")return Eg(y,_);var E=Object.prototype.toString.call(y).slice(8,-1);if(E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set")return Array.from(y);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Eg(y,_)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(y){throw y},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var y=n.next();return f=y.done,y},e:function(y){h=!0,s=y},f:function(){try{f||n.return==null||n.return()}finally{if(h)throw s}}}}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(n),!0).forEach(function(r){Rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Jr,jg,Qr=(Ce=function(){function e(r,c){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),Rn(this,"id",""),sn(this,"type",ig,this),sn(this,"x",ag,this),sn(this,"y",ug,this),sn(this,"text",sg,this),sn(this,"properties",cg,this),sn(this,"_width",lg,this),sn(this,"_height",fg,this),sn(this,"anchorsOffset",pg,this),sn(this,"isSelected",dg,this),sn(this,"isHovered",hg,this),sn(this,"isShowAnchor",yg,this),sn(this,"isDragging",vg,this),sn(this,"isHitable",gg,this),sn(this,"draggable",mg,this),sn(this,"visible",bg,this),Rn(this,"virtual",!1),Rn(this,"graphModel",void 0),sn(this,"zIndex",_g,this),sn(this,"state",Og,this),sn(this,"autoToFront",wg,this),sn(this,"style",xg,this),Rn(this,"BaseType",rn.NODE),Rn(this,"modelType",_t.NODE),Rn(this,"additionStateData",void 0),Rn(this,"targetRules",[]),Rn(this,"sourceRules",[]),Rn(this,"moveRules",[]),Rn(this,"hasSetTargetRules",!1),Rn(this,"hasSetSourceRules",!1),this.graphModel=c,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),f=this.createId();r.id=f||s||_o()}this.formatText(r),xn(this,function(h){return fa(h,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===Hn.INCREASE&&(this.zIndex=r.zIndex||cl())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,f=r.value,h=this.properties;Object(d.x)(h)&&(h=Object(d.I)(h));var y={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.graphModel.overlapMode===Hn.INCREASE&&(y.zIndex=this.zIndex),f&&(y.text={x:c,y:s,value:f}),y}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Sn(Sn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Xt(r)}},{key:"getAnchorStyle",value:function(r){var c=this.graphModel.theme.anchor;return Xt(c)}},{key:"getAnchorLineStyle",value:function(r){var c=this.graphModel.theme.anchorLine;return Xt(c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Xt(r)}},{key:"isAllowConnectedAsSource",value:function(r,c,s,f){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var y,_=!0,E=0;E<h.length;E++){var M=h[E];if(!M.validate.call(this,this,r,c,s,f)){_=!1,y=M.message;break}}return{isAllPass:_,msg:y}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,c,s,f){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var y,_=!0,E=0;E<h.length;E++){var M=h[E];if(!M.validate.call(this,r,this,c,s,f)){_=!1,y=M.message;break}}return{isAllPass:_,msg:y}}},{key:"isAllowMoveNode",value:function(r,c){var s,f=!0,h=!0,y=Ux(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(y.s();!(s=y.n()).done;){var _=(0,s.value)(this,r,c);if(!_)return!1;if(ef(_)==="object"){var E=_;if(E.x===!1&&E.y===!1)return!1;f=f&&E.x,h=h&&E.y}}}catch(M){y.e(M)}finally{y.f()}return{x:f,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,c=this.id,s=this.x,f=this.y;return r&&r.length>0?r.map(function(h,y){return h.length?(h=h,{id:"".concat(c,"_").concat(y),x:s+h[0],y:f+h[1]}):Sn(Sn({},h=h),{},{x:s+h.x,y:f+h.y,id:h.id||"".concat(c,"_").concat(y)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(c,s){for(var f,h=al(s),y=Number.MAX_SAFE_INTEGER,_=0;_<h.length;_++){var E=yr(c.x,c.y,h[_].x,h[_].y);E<y&&(y=E,f={index:_,anchor:py(py({},h[_]),{},{x:h[_].x,y:h[_].y,id:h[_].id})})}return f}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Gx(r))for(var c=0;c<this.anchors.length;c++){var s=this.anchors[c];if(s.id===r)return s}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,h=!1;if(s)f=!0,h=!0;else{var y=this.isAllowMoveNode(r,c);typeof y=="boolean"?(f=y,h=y):(f=y.x,h=y.y)}if(f){var _=this.x+r;this.x=_,this.text&&this.moveText(r,0)}if(h){var E=this.y+c;this.y=E,this.text&&this.moveText(0,c)}return f||h}},{key:"getMoveDistance",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,h=!1,y=0,_=0;if(s)f=!0,h=!0;else{var E=this.isAllowMoveNode(r,c);typeof E=="boolean"?(f=E,h=E):(f=E.x,h=E.y)}if(f&&r){var M=this.x+r;this.x=M,this.text&&this.moveText(r,0),y=r}if(h&&c){var D=this.y+c;this.y=D,this.text&&this.moveText(0,c),_=c}return[y,_]}},{key:"moveTo",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=r-this.x,h=c-this.y;return!(!s&&!this.isAllowMoveNode(f,h)||(this.text&&this.text&&this.moveText(f,h),this.x=r,this.y=c,0))}},{key:"moveText",value:function(r,c){var s=this.text,f=s.x,h=s.y,y=s.value,_=s.draggable,E=s.editable;this.text={value:y,editable:E,draggable:_,x:f+r,y:h+c}}},{key:"updateText",value:function(r){this.text=Sn(Sn({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"setProperty",value:function(r,c){this.properties=Sn(Sn({},Object(d.I)(this.properties)),{},Rn({},r,gn(c))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Sn(Sn({},Object(d.I)(this.properties)),gn(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,c){this.style=Sn(Sn({},this.style),{},Rn({},r,gn(c)))}},{key:"setStyles",value:function(r){this.style=Sn(Sn({},this.style),gn(r))}},{key:"updateStyles",value:function(r){this.style=Sn({},gn(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){xn(this,r)}}],n&&$x(t.prototype,n),e}(),ig=mt(Ce.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ag=mt(Ce.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ug=mt(Ce.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sg=mt(Ce.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),cg=mt(Ce.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lg=mt(Ce.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),fg=mt(Ce.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),pg=mt(Ce.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dg=mt(Ce.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hg=mt(Ce.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yg=mt(Ce.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vg=mt(Ce.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gg=mt(Ce.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mg=mt(Ce.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bg=mt(Ce.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_g=mt(Ce.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Og=mt(Ce.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wg=mt(Ce.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xg=mt(Ce.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),mt(Ce.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),mt(Ce.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),mt(Ce.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),mt(Ce.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),mt(Ce.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),mt(Ce.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),mt(Ce.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),mt(Ce.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),mt(Ce.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),mt(Ce.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),mt(Ce.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),mt(Ce.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),mt(Ce.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),mt(Ce.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),mt(Ce.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),mt(Ce.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),mt(Ce.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),mt(Ce.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),mt(Ce.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),mt(Ce.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),mt(Ce.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function tf(e){return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(n),!0).forEach(function(r){Mg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wx(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(){return nf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Yx(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},nf.apply(this,arguments)}function Yx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=wi(e))!==null;);return e}function rf(e,t){return rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rf(e,t)}function Vx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wi(e);if(t){var c=wi(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Kx(this,n)}}function Kx(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ss(e)}function ss(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wi(e)}function Mg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var mn,Tg,kg,af=(Jr=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&rf(s,f)})(c,e);var t,n,r=Vx(c);function c(){var s;Hx(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Mg(ss(s=r.call.apply(r,[this].concat(h))),"modelType",_t.CIRCLE_NODE),Wx(ss(s),"r",jg,ss(s)),s}return t=c,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var s=nf(wi(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.circle;return Pg(Pg({},s),Xt(f))}},{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,h=this.r;return[{x:s,y:f-h,id:"".concat(this.id,"_0")},{x:s+h,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+h,id:"".concat(this.id,"_2")},{x:s-h,y:f,id:"".concat(this.id,"_3")}]}}])&&Xx(t.prototype,n),c}(Qr),jg=of(Jr.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),of(Jr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),of(Jr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);i(127);function uf(e){return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function sf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Dg(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Dg(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(n),!0).forEach(function(r){Ig(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rg(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cf(){return cf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Jx(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},cf.apply(this,arguments)}function Jx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ei(e))!==null;);return e}function lf(e,t){return lf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lf(e,t)}function Qx(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ei(e);if(t){var c=Ei(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return eE(this,n)}}function eE(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xi(e)}function xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ei(e){return Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ei(e)}function Ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Nr,Lg,Bg,ff=(mn=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&lf(s,f)})(c,e);var t,n,r=Qx(c);function c(){var s;qx(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Ig(xi(s=r.call.apply(r,[this].concat(h))),"modelType",_t.DIAMOND_NODE),Rg(xi(s),"rx",Tg,xi(s)),Rg(xi(s),"ry",kg,xi(s)),s}return t=c,(n=[{key:"getNodeStyle",value:function(){var s=cf(Ei(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.diamond;return Cg(Cg({},s),Xt(f))}},{key:"points",get:function(){var s=this.x,f=this.y,h=this.rx,y=this.ry;return[[s,f-y],[s+h,f],[s,f+y],[s-h,f]]}},{key:"pointsPosition",get:function(){return this.points.map(function(s){return{x:s[0],y:s[1]}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var y=sf(h,1)[0];y<s&&(s=y),y>f&&(f=y)}),f-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var y=sf(h,2)[1];y<s&&(s=y),y>f&&(f=y)}),f-s}},{key:"getDefaultAnchor",value:function(){var s=this;return this.points.map(function(f,h){var y=sf(f,2);return{x:y[0],y:y[1],id:"".concat(s.id,"_").concat(h)}})}}])&&Zx(t.prototype,n),c}(Qr),Tg=Si(mn.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),kg=Si(mn.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Si(mn.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(mn.prototype,"points"),mn.prototype),Si(mn.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(mn.prototype,"pointsPosition"),mn.prototype),Si(mn.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(mn.prototype,"width"),mn.prototype),Si(mn.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(mn.prototype,"height"),mn.prototype),mn);function pf(e){return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Fg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(n),!0).forEach(function(r){Ug(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gg(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(){return df=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=rE(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},df.apply(this,arguments)}function rE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ai(e))!==null;);return e}function hf(e,t){return hf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hf(e,t)}function oE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ai(e);if(t){var c=Ai(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return iE(this,n)}}function iE(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function ji(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(e)}function Ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var rr,$g,yf=(Nr=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&hf(s,f)})(c,e);var t,n,r=oE(c);function c(){var s;tE(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Ug(ji(s=r.call.apply(r,[this].concat(h))),"modelType",_t.ELLIPSE_NODE),Gg(ji(s),"rx",Lg,ji(s)),Gg(ji(s),"ry",Bg,ji(s)),s}return t=c,(n=[{key:"getNodeStyle",value:function(){var s=df(Ai(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.ellipse;return Fg(Fg({},s),Xt(f))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,h=this.rx,y=this.ry;return[{x:s,y:f-y,id:"".concat(this.id,"_0")},{x:s+h,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+y,id:"".concat(this.id,"_2")},{x:s-h,y:f,id:"".concat(this.id,"_3")}]}}])&&nE(t.prototype,n),c}(Qr),Lg=cs(Nr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Bg=cs(Nr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),cs(Nr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),cs(Nr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function vf(e){return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function gf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Wg(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Wg(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(n),!0).forEach(function(r){Yg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aE(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(){return mf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=cE(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},mf.apply(this,arguments)}function cE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Pi(e))!==null;);return e}function bf(e,t){return bf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bf(e,t)}function lE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pi(e);if(t){var c=Pi(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return fE(this,n)}}function fE(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(e)}function ls(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pi(e)}function Yg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fs(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var _f,Vg,Of=(rr=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&bf(s,f)})(c,e);var t,n,r=lE(c);function c(){var s;uE(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Yg(ls(s=r.call.apply(r,[this].concat(h))),"modelType",_t.POLYGON_NODE),aE(ls(s),"points",$g,ls(s)),s}return t=c,(n=[{key:"getNodeStyle",value:function(){var s=mf(Pi(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.polygon;return Xg(Xg({},s),Xt(f))}},{key:"pointsPosition",get:function(){var s=this.x,f=this.y,h=this.width,y=this.height;return this.points.map(function(_){return{x:_[0]+s-h/2,y:_[1]+f-y/2}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var y=gf(h,1)[0];y<s&&(s=y),y>f&&(f=y)}),f-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var y=gf(h,2)[1];y<s&&(s=y),y>f&&(f=y)}),f-s}},{key:"getDefaultAnchor",value:function(){var s=this,f=this.x,h=this.y,y=this.width,_=this.height;return this.points.map(function(E,M){var D=gf(E,2),z=D[0],H=D[1];return{x:f+z-y/2,y:h+H-_/2,id:"".concat(s.id,"_").concat(M)}})}}])&&sE(t.prototype,n),c}(Qr),$g=fs(rr.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),fs(rr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(rr.prototype,"pointsPosition"),rr.prototype),fs(rr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(rr.prototype,"width"),rr.prototype),fs(rr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(rr.prototype,"height"),rr.prototype),rr);function wf(e){return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(n),!0).forEach(function(r){Zg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pE(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function dE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xf(){return xf=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=yE(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},xf.apply(this,arguments)}function yE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Mi(e))!==null;);return e}function Ef(e,t){return Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ef(e,t)}function vE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mi(e);if(t){var c=Mi(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return gE(this,n)}}function gE(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ps(e)}function ps(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e){return Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(e)}function Zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So,Sf=(_f=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ef(s,f)})(c,e);var t,n,r=vE(c);function c(){var s;dE(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Zg(ps(s=r.call.apply(r,[this].concat(h))),"modelType",_t.RECT_NODE),pE(ps(s),"radius",Vg,ps(s)),s}return t=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,h=this.width,y=this.height;return[{x:s,y:f-y/2,id:"".concat(this.id,"_0")},{x:s+h/2,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+y/2,id:"".concat(this.id,"_2")},{x:s-h/2,y:f,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var s=xf(Mi(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.rect;return qg(qg({},s),Xt(f))}}])&&hE(t.prototype,n),c}(Qr),Vg=function(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}(_f.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_f);function jf(e){return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(n),!0).forEach(function(r){tm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Af(){return Af=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=_E(e,t);if(r){var c=Object.getOwnPropertyDescriptor(r,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},Af.apply(this,arguments)}function _E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ti(e))!==null;);return e}function Pf(e,t){return Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pf(e,t)}function OE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ti(e);if(t){var c=Ti(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return wE(this,n)}}function wE(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return em(e)}function em(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e){return Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ti(e)}function tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nm(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var Mf=(So=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Pf(s,f)})(c,e);var t,n,r=OE(c);function c(){var s;mE(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return tm(em(s=r.call.apply(r,[this].concat(h))),"modelType",_t.TEXT_NODE),s}return t=c,(n=[{key:"getTextStyle",value:function(){var s=Af(Ti(c.prototype),"getTextStyle",this).call(this),f=this.graphModel.theme.text;return Qg(Qg({},s),Xt(f))}},{key:"width",get:function(){var s=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return sl({rows:s,fontSize:f,rowsLength:s.length}).width}},{key:"height",get:function(){var s=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return sl({rows:s,fontSize:f,rowsLength:s.length}).height}}])&&bE(t.prototype,n),c}(Qr),nm(So.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(So.prototype,"width"),So.prototype),nm(So.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(So.prototype,"height"),So.prototype),So);function Tf(e){return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function xE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return kf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kf(e,t)}function SE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ds(e);if(t){var c=ds(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return jE(this,n)}}function jE(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rm(e)}function rm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}function AE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr,om,im,am,Df=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&kf(s,f)})(c,e);var t,n,r=SE(c);function c(){var s;xE(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return AE(rm(s=r.call.apply(r,[this].concat(h))),"modelType",_t.HTML_NODE),s}return t=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,h=this.width,y=this.height;return[{x:s,y:f-y/2,id:"".concat(this.id,"_0")},{x:s+h/2,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+y/2,id:"".concat(this.id,"_2")},{x:s-h/2,y:f,id:"".concat(this.id,"_3")}]}}])&&EE(t.prototype,n),c}(Qr);function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Nf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function PE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,c){var s={};return Object.keys(r).forEach(function(f){s[f]=r[f]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(f,h){return h(e,t,f)||f},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}var cm=(gr=function(){function e(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),sm(this,"graphModel",void 0),Nf(this,"isShowHorizontal",om,this),Nf(this,"isShowVertical",im,this),Nf(this,"position",am,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?um(Object(s),!0).forEach(function(f){sm(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):um(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,c){for(var s=r.x,f=r.y,h=!1,y=!1,_=0;_<c.length;_++){var E=c[_];if(E.id!==r.id&&(s===E.x&&(h=!0),f===E.y&&(y=!0),h&&y))break}return{isShowVertical:h,isShowHorizontal:y,position:{x:s,y:f}}}},{key:"getHorizontalSnapline",value:function(r,c){var s,f,h=!1,y=r.id;if(y){var _=this.graphModel.fakerNode;if(_&&_.id===y)f=Xn(_);else{var E=this.graphModel.getNodeModelById(y);f=Xn(E)}}for(var M=0;M<c.length;M++){var D=c[M];if(D.id!==r.id){var z=Xn(D);if(z.minY===f.minY||z.maxY===f.minY){h=!0,s=f.minY;break}if(z.minY===f.maxY||z.maxY===f.maxY){h=!0,s=f.maxY;break}}}return xn({isShowHorizontal:h,position:{y:s}})}},{key:"getVerticalSnapline",value:function(r,c){var s,f,h=!1,y=r.id;if(y){var _=this.graphModel.fakerNode;if(_&&_.id===y)f=Xn(_);else{var E=this.graphModel.getNodeModelById(y);f=Xn(E)}}for(var M=0;M<c.length;M++){var D=c[M];if(D.id!==r.id){var z=Xn(D);if(z.minX===f.minX||z.maxX===f.minX){h=!0,s=f.minX;break}if(z.minX===f.maxX||z.maxX===f.maxX){h=!0,s=f.maxX;break}}}return xn({isShowVertical:h,position:{x:s}})}},{key:"getSnapLinePosition",value:function(r,c){var s=this.getCenterSnapLine(r,c),f=s.isShowHorizontal,h=s.isShowVertical;if(!f){var y=this.getHorizontalSnapline(r,c);y.isShowHorizontal&&(s.isShowHorizontal=y.isShowHorizontal,s.position.y=y.position.y)}if(!h){var _=this.getVerticalSnapline(r,c);_.isShowVertical&&(s.isShowVertical=_.isShowVertical,s.position.x=_.position.x)}return s}},{key:"setSnaplineInfo",value:function(r){var c=r.isShowHorizontal,s=r.isShowVertical,f=r.position;this.position=f,this.isShowHorizontal=c,this.isShowVertical=s}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var c=this.graphModel.nodes,s=this.getSnapLinePosition(r,c);this.setSnaplineInfo(s)}}],n&&PE(t.prototype,n),e}(),om=Ea(gr.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),im=Ea(gr.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),am=Ea(gr.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ea(gr.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(gr.prototype,"clearSnapline"),gr.prototype),Ea(gr.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(gr.prototype,"setNodeSnapLine"),gr.prototype),gr),Sa=new Map,lm=function(e){var t=_o(),n=window.requestAnimationFrame(function r(){if(e(),Sa.get(t)){var c=window.requestAnimationFrame(r);Sa.set(t,c)}});return Sa.set(t,n),t},hs=function(e){var t=Sa.get(e);t&&(window.cancelAnimationFrame(t),Sa.delete(e))};function Cf(e){return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function ja(){return ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(n),!0).forEach(function(r){Rr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ME(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return pm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return pm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return Rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rf(e,t)}function kE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vs(e);if(t){var c=vs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return DE(this,n)}}function DE(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NE=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Rf(s,f)})(c,e);var t,n,r=kE(c);function c(){var s;return function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,c),Rr(Cr(s=r.call(this)),"preTargetNode",void 0),Rr(Cr(s),"sourceRuleResults",void 0),Rr(Cr(s),"targetRuleResults",void 0),Rr(Cr(s),"dragHandler",void 0),Rr(Cr(s),"t",void 0),Rr(Cr(s),"onDragStart",function(f){var h=f.event,y=s.props,_=y.anchorData,E=y.nodeModel,M=y.graphModel,D=M.overlapMode;M.selectNodeById(E.id),D!==Hn.INCREASE&&E.autoToFront&&M.toFront(E.id),M.eventCenter.emit(ot.ANCHOR_DRAGSTART,{data:_,e:h,nodeModel:E}),s.setState({startX:_.x,startY:_.y,endX:_.x,endY:_.y})}),Rr(Cr(s),"onDragging",function(f){var h=f.event,y=s.props,_=y.graphModel,E=y.nodeModel,M=y.anchorData,D=_.transformModel,z=_.eventCenter,H=_.width,q=_.height,ae=_.editConfigModel,oe=ae.autoExpand,fe=ae.stopMoveGraph,_e=h.clientX,Te=h.clientY,Se=_.getPointByClient({x:_e,y:Te}),We=Se.domOverlayPosition,ke=We.x,Ge=We.y,Ie=Se.canvasOverlayPosition,ht=Ie.x,Nt=Ie.y;s.t&&hs(s.t);var At=[];ke<10?At=[10,0]:ke+10>H?At=[-10,0]:Ge<10?At=[0,10]:Ge+10>q&&(At=[0,-10]),s.setState({endX:ht,endY:Nt,dragging:!0}),s.moveAnchorEnd(ht,Nt),At.length>0&&!fe&&oe&&(s.t=lm(function(){var Bt=ME(At,2),tn=Bt[0],cn=Bt[1];D.translate(tn,cn);var An=s.state,Br=An.endX,or=An.endY;s.setState({endX:Br-tn,endY:or-cn}),s.moveAnchorEnd(Br-tn,or-cn)})),z.emit(ot.ANCHOR_DRAG,{data:M,e:h,nodeModel:E})}),Rr(Cr(s),"onDragEnd",function(f){var h=f.event;s.t&&hs(s.t),s.checkEnd(h),s.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),s.sourceRuleResults.clear(),s.targetRuleResults.clear();var y=s.props,_=y.graphModel,E=y.nodeModel,M=y.anchorData;_.eventCenter.emit(ot.ANCHOR_DRAGEND,{data:M,e:h,nodeModel:E})}),Rr(Cr(s),"checkEnd",function(f){var h=s.props,y=h.graphModel,_=h.nodeModel,E=h.anchorData,M=E.x,D=E.y,z=E.id,H=(y.edgeType,s.state),q=H.endX,ae=H.endY,oe=H.dragging,fe=Lu({x:q,y:ae},y);if(s.preTargetNode&&s.preTargetNode.state!==Mt.DEFAULT&&s.preTargetNode.setElementState(Mt.DEFAULT),oe&&fe&&fe.node){var _e=fe.node,Te=fe.anchor.id,Se="".concat(_.id,"_").concat(_e.id,"_").concat(Te,"_").concat(z),We=s.sourceRuleResults.get(Se)||{},ke=We.isAllPass,Ge=We.msg,Ie=s.targetRuleResults.get(Se)||{},ht=Ie.isAllPass,Nt=Ie.msg;if(ke&&ht){_e.setElementState(Mt.DEFAULT);var At=y.edgeGenerator(_.getData(),y.getNodeModelById(fe.node.id).getData()),Bt=y.addEdge(ys(ys({},At),{},{sourceNodeId:_.id,sourceAnchorId:z,startPoint:{x:M,y:D},targetNodeId:fe.node.id,targetAnchorId:fe.anchor.id,endPoint:{x:fe.anchor.x,y:fe.anchor.y}})),tn=s.props.anchorData;y.eventCenter.emit(ot.ANCHOR_DROP,{data:tn,e:f,nodeModel:_,edgeModel:Bt})}else{var cn=_e.getData();y.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:cn,msg:Nt||Ge})}}}),s.sourceRuleResults=new Map,s.targetRuleResults=new Map,s.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},s.dragHandler=new Kr({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return t=c,(n=[{key:"getAnchorShape",value:function(){var s=this.props,f=s.anchorData,h=s.style,y=s.node.getAnchorShape(f);if(y)return y;var _=f.x,E=f.y,M=ys(ys({},h),h.hover);return Object(re.g)("g",null,Object(re.g)(Oa,ja({className:"lf-node-anchor-hover"},M,{x:_,y:E})),Object(re.g)(Oa,ja({className:"lf-node-anchor"},h,{x:_,y:E})))}},{key:"moveAnchorEnd",value:function(s,f){var h=this.props,y=h.graphModel,_=h.nodeModel,E=h.anchorData,M=Lu({x:s,y:f},y);if(M){var D=M.node,z=M.anchor.id;if(this.preTargetNode&&this.preTargetNode!==M.node&&this.preTargetNode.setElementState(Mt.DEFAULT),E.id===z)return;this.preTargetNode=D;var H="".concat(_.id,"_").concat(D.id,"_").concat(z,"_").concat(E.id);if(!this.targetRuleResults.has(H)){var q=M.anchor,ae=_.isAllowConnectedAsSource(D,E,q),oe=D.isAllowConnectedAsTarget(_,E,q);this.sourceRuleResults.set(H,ha(ae)),this.targetRuleResults.set(H,ha(oe))}var fe=this.sourceRuleResults.get(H).isAllPass,_e=this.targetRuleResults.get(H).isAllPass;fe&&_e?D.setElementState(Mt.ALLOW_CONNECT):D.setElementState(Mt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Mt.DEFAULT&&this.preTargetNode.setElementState(Mt.DEFAULT)}},{key:"isShowLine",value:function(){var s=this.state,f=s.startX,h=s.startY,y=s.endX,_=s.endY;return yr(f,h,y,_)>10}},{key:"render",value:function(){var s=this,f=this.state,h=f.startX,y=f.startY,_=f.endX,E=f.endY,M=this.props,D=M.anchorData.edgeAddable,z=M.edgeStyle;return Object(re.g)("g",{className:"lf-anchor"},Object(re.g)("g",{onMouseDown:function(H){D!==!1&&s.dragHandler.handleMouseDown(H)}},this.getAnchorShape()),this.isShowLine()&&Object(re.g)(_i,ja({x1:h,y1:y,x2:_,y2:E},z,{"pointer-events":"none"})))}}])&&TE(t.prototype,n),c}(re.a);i(80);function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){RE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function If(e){return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function IE(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return hm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return hm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ym(e){var t=e.x,n=t===void 0?0:t,r=e.y,c=r===void 0?0:r,s=e.value,f=e.fontSize,h=e.fill,y=h===void 0?"currentColor":h,_=e.overflowMode,E=_===void 0?"default":_,M=e.textWidth,D=M===void 0?"":M,z=e.model,H={textAnchor:"middle","dominant-baseline":"middle",x:n,y:c,fill:y};if(Object.entries(e).forEach(function(Te){var Se=IE(Te,2),We=Se[0],ke=Se[1];If(ke)!=="object"&&(H[We]=ke)}),s){var q=String(s).split(/[\r\n]/g),ae=q.length;if(E!=="default"){var oe=z.BaseType,fe=z.modelType;if(oe===rn.NODE&&fe!==_t.TEXT_NODE||oe===rn.EDGE&&D)return function(Te){var Se=Te.value,We=Te.fontSize,ke=Te.model,Ge=Te.fontFamily,Ie=Ge===void 0?"":Ge,ht=Te.lineHeight,Nt=Te.wrapPadding,At=Nt===void 0?"0, 0":Nt,Bt=Te.overflowMode,tn=Te.x,cn=Te.y,An=ke.width,Br=ke.textHeight,or=Te.textWidth||An,Ni=String(Se).split(/[\r\n]/g),zs=Ni.length,Fs=By({rows:Ni,style:{fontSize:"".concat(We,"px"),width:"".concat(or,"px"),fontFamily:Ie,lineHeight:ht,padding:At},rowsLength:zs,className:"lf-get-text-height"}),Zo=ke.height>Fs?ke.height:Fs;Br&&(Zo=Br);var Po=Bt==="ellipsis";return Po&&(Zo=We+2),Object(re.g)("g",null,Object(re.g)("foreignObject",{width:or,height:Zo,x:tn-or/2,y:cn-Zo/2},Object(re.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Zo,width:or,padding:At}},Object(re.g)("div",{className:Po?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Po?Ni.join(""):"",style:CE({},Te)},Ni.map(function(Mo){return Object(re.g)("div",{className:"lf-node-text--auto-wrap-inner"},Mo)})))))}(e)}if(ae>1){var _e=q.map(function(Te,Se){var We=(Se-(ae-1)/2)*(f+2);return Object(re.g)("tspan",{className:"lf-text-tspan",x:n,y:c+We},Te)});return Object(re.g)("text",H,_e)}return Object(re.g)("text",H,s)}}function Lf(e){return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Bf(){return Bf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(this,arguments)}function LE(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return vm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return vm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zf(e,t){return zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zf(e,t)}function zE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gs(e);if(t){var c=gs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return FE(this,n)}}function FE(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jo(e)}function jo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gm=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&zf(s,f)})(c,e);var t,n,r=zE(c);function c(s){var f;(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,c),Vo(jo(f=r.call(this)),"dragHandler",void 0),Vo(jo(f),"sumDeltaX",0),Vo(jo(f),"sumDeltaY",0),Vo(jo(f),"stepDrag",void 0),Vo(jo(f),"onDragging",function(y){var _=y.deltaX,E=y.deltaY,M=f.props,D=M.model,z=LE(M.graphModel.transformModel.fixDeltaXY(_,E),2),H=z[0],q=z[1];D.moveText(H,q)}),Vo(jo(f),"dblClickHandler",function(){f.props.editable&&f.props.model.setElementState(Mt.TEXT_EDIT)}),Vo(jo(f),"mouseDownHandle",function(y){var _=f.props,E=_.draggable,M=_.model,D=_.graphModel.editConfigModel.nodeTextDraggable;(E||D)&&(f.stepDrag.model=M,f.stepDrag.handleMouseDown(y))}),s.model;var h=s.draggable;return f.stepDrag=new Kr({onDragging:f.onDragging,step:1,isStopPropagation:h}),f}return t=c,(n=[{key:"getShape",value:function(){var s=this.props,f=s.model,h=s.graphModel,y=f.text,_=h.editConfigModel,E=y.value,M=y.x,D=y.y,z=y.editable,H=y.draggable,q={x:M,y:D,className:"",value:E};z?q.className="lf-element-text":H||_.nodeTextDraggable?q.className="lf-text-draggable":q.className="lf-text-disabled";var ae=f.getTextStyle();return Object(re.g)(ym,Bf({},q,ae,{model:f}))}},{key:"render",value:function(){if(this.props.model.text)return Object(re.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&BE(t.prototype,n),c}(re.a),GE=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ff(e){return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function ms(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return mm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return mm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return Gf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gf(e,t)}function UE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bs(e);if(t){var c=bs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return $E(this,n)}}function $E(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(e){(function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),h&&Gf(f,h)})(s,e);var t,n,r,c=UE(s);function s(f){var h;(function(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")})(this,s),jn(bn(h=c.call(this)),"t",void 0),jn(bn(h),"moveOffset",void 0),jn(bn(h),"stepDrag",void 0),jn(bn(h),"contextMenuTime",void 0),jn(bn(h),"startTime",void 0),jn(bn(h),"clickTimer",void 0),jn(bn(h),"onDragStart",function(D){var z=D.event,H=z.clientX,q=z.clientY,ae=h.props,oe=ae.model,fe=ae.graphModel.getPointByClient({x:H,y:q}).canvasOverlayPosition,_e=fe.x,Te=fe.y;h.moveOffset={x:oe.x-_e,y:oe.y-Te}}),jn(bn(h),"onDragging",function(D){var z=D.event,H=h.props,q=H.model,ae=H.graphModel,oe=ae.editConfigModel,fe=oe.stopMoveGraph,_e=oe.autoExpand,Te=ae.transformModel,Se=ae.selectNodes,We=ae.width,ke=ae.height,Ge=ae.gridSize;q.isDragging=!0;var Ie=z.clientX,ht=z.clientY,Nt=ae.getPointByClient({x:Ie,y:ht}).canvasOverlayPosition,At=Nt.x,Bt=Nt.y,tn=ms(Te.CanvasPointToHtmlPoint([At,Bt]),2),cn=tn[0],An=tn[1];if(At+=h.moveOffset.x,Bt+=h.moveOffset.y,At=bo(At,Ge),Bt=bo(Bt,Ge),We&&ke){if(!_e||fe||!(cn<0||An<0||cn>We||An>ke)){var Br=ms(Te.CanvasPointToHtmlPoint([At-q.width/2,Bt-q.height/2]),2),or=Br[0],Ni=Br[1],zs=ms(Te.CanvasPointToHtmlPoint([At+q.width/2,Bt+q.height/2]),2),Fs=zs[0],Zo=zs[1],Po=Math.max(Ge,20),Mo=[];or<0?Mo=[Po,0]:Fs>ae.width?Mo=[-Po,0]:Ni<0?Mo=[0,Po]:Zo>ae.height&&(Mo=[0,-Po]),h.t&&hs(h.t);var Gs=Se.map(function(Us){return Us.id});Gs.indexOf(q.id)===-1&&(Gs=[q.id]),Mo.length>0&&!fe&&_e?h.t=lm(function(){var Us=ms(Mo,2),eb=Us[0],tb=Us[1];Te.translate(eb,tb);var Dj=-eb/Te.SCALE_X,Nj=-tb/Te.SCALE_X;ae.moveNodes(Gs,Dj,Nj)}):ae.moveNodes(Gs,At-q.x,Bt-q.y)}}else ae.moveNode2Coordinate(q.id,At,Bt)}),jn(bn(h),"onDragEnd",function(){h.t&&hs(h.t),h.props.model.isDragging=!1}),jn(bn(h),"handleClick",function(D){if(h.startTime&&!(new Date().getTime()-h.startTime>200)){var z=h.props,H=z.model,q=z.graphModel,ae={data:H.getData(),e:D,position:q.getPointByClient({x:D.clientX,y:D.clientY}),isSelected:!1,isMultiple:!1},oe=D.button===2,fe=D.detail===2;if(!oe){var _e=q.editConfigModel,Te=ly(D,_e);ae.isMultiple=Te,H.isSelected&&!fe&&Te?(ae.isSelected=!1,H.setSelected(!1)):(q.selectNodeById(H.id,Te),ae.isSelected=!0,h.toFront()),fe?(_e.nodeTextEdit&&H.text.editable&&(H.setSelected(!1),q.setElementStateById(H.id,Mt.TEXT_EDIT)),q.eventCenter.emit(ot.NODE_DBCLICK,ae)):(q.eventCenter.emit(ot.ELEMENT_CLICK,ae),q.eventCenter.emit(ot.NODE_CLICK,ae))}}}),jn(bn(h),"handleContextMenu",function(D){D.preventDefault();var z=h.props,H=z.model,q=z.graphModel,ae=H.getData(),oe=q.getPointByClient({x:D.clientX,y:D.clientY});q.setElementStateById(H.id,Mt.SHOW_MENU,oe.domOverlayPosition),H.isSelected||q.selectNodeById(H.id),q.eventCenter.emit(ot.NODE_CONTEXTMENU,{data:ae,e:D,position:oe}),h.toFront()}),jn(bn(h),"handleMouseDown",function(D){var z=h.props,H=z.model,q=z.graphModel;h.startTime=new Date().getTime(),q.editConfigModel.adjustNodePosition&&H.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(D)}),jn(bn(h),"setHoverON",function(D){var z=h.props,H=z.model,q=z.graphModel;if(!H.isHovered){var ae=H.getData();H.setHovered(!0),q.eventCenter.emit(ot.NODE_MOUSEENTER,{data:ae,e:D})}}),jn(bn(h),"setHoverOFF",function(D){var z=h.props,H=z.model,q=z.graphModel,ae=H.getData();H.isHovered&&(H.setHovered(!1),q.eventCenter.emit(ot.NODE_MOUSELEAVE,{data:ae,e:D}))}),jn(bn(h),"onMouseOut",function(D){GE&&h.setHoverOFF(D)});var y=f.graphModel,_=y.gridSize,E=y.eventCenter,M=f.model;return h.stepDrag=new Kr({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:_,eventType:"NODE",isStopPropagation:!1,eventCenter:E,model:M}),h}return t=s,r=[{key:"getModel",value:function(f){return f}}],(n=[{key:"getAnchorShape",value:function(f){return null}},{key:"getAnchors",value:function(){var f=this,h=this.props,y=h.model,_=h.graphModel,E=y.isSelected,M=y.isHitable,D=y.isDragging,z=y.isShowAnchor;return M&&(E||z)&&!D?Nu(y.anchors,function(H,q){var ae=y.getAnchorLineStyle(H),oe=y.getAnchorStyle(H);return Object(re.g)(NE,{anchorData:H,node:f,style:oe,edgeStyle:ae,anchorIndex:q,nodeModel:y,graphModel:_,setHoverOFF:f.setHoverOFF})}):[]}},{key:"getText",value:function(){var f=this.props,h=f.model,y=f.graphModel;if(h.state===Mt.TEXT_EDIT)return"";if(h.text){var _=y.editConfigModel,E=!1;return(h.text.draggable||_.nodeTextDraggable)&&(E=!0),Object(re.g)(gm,{editable:_.nodeTextEdit&&h.text.editable,model:h,graphModel:y,draggable:E})}}},{key:"getStateClassName",value:function(){var f=this.props.model,h=f.state,y=f.isDragging,_=f.isSelected,E="lf-node";switch(h){case Mt.ALLOW_CONNECT:E+=" lf-node-allow";break;case Mt.NOT_ALLOW_CONNECT:E+=" lf-node-not-allow";break;default:E+=" lf-node-default"}return y&&(E+=" lf-isDragging"),_&&(E+=" lf-node-selected"),E}},{key:"toFront",value:function(){var f=this.props,h=f.model,y=f.graphModel;y.overlapMode!==Hn.INCREASE&&h.autoToFront&&y.toFront(h.id)}},{key:"render",value:function(){var f,h=this.props,y=h.model,_=h.graphModel,E=_.editConfigModel,M=E.hideAnchors,D=E.adjustNodePosition,z=_.gridSize,H=_.transformModel.SCALE_X,q=y.isHitable,ae=y.draggable,oe=Object(re.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),M?null:this.getAnchors());return q?(D&&ae&&this.stepDrag.setStep(z*H),f=Object(re.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):f=Object(re.g)("g",{className:this.getStateClassName()},oe),f}}])&&bm(t.prototype,n),r&&bm(t,r),s}(re.a);function Uf(e){return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function $f(){return $f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}function WE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wf(e,t){return Wf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wf(e,t)}function XE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_s(e);if(t){var c=_s(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return YE(this,n)}}function YE(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(e)}var Hf=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Wf(s,f)})(c,e);var t,n,r=XE(c);function c(){return WE(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(re.g)(xo,$f({},f,{x:s.x,y:s.y,width:s.width,height:s.height,radius:s.radius}))}}])&&HE(t.prototype,n),c}(eo);function Xf(e){return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Yf(){return Yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function VE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e,t){return Vf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vf(e,t)}function qE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Os(e);if(t){var c=Os(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ZE(this,n)}}function ZE(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}var Kf=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Vf(s,f)})(c,e);var t,n,r=qE(c);function c(){return VE(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.x,h=s.y,y=s.r,_=s.getNodeStyle();return Object(re.g)(Oa,Yf({},_,{x:f,y:h,r:y}))}}])&&KE(t.prototype,n),c}(eo);function qf(e){return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function JE(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return _m(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _m(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Om(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(c){var s=JE(c,2),f=s[0],h=s[1];qf(h)!=="object"&&(r[f]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(c){return c.join(",")}).join(" "),Object(re.g)("polygon",r)}function Zf(e){return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function Jf(){return Jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(this,arguments)}function QE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t){return Qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qf(e,t)}function tS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ws(e);if(t){var c=ws(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nS(this,n)}}function nS(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ws(e)}var ep=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Qf(s,f)})(c,e);var t,n,r=tS(c);function c(){return QE(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.x,h=s.y,y=s.width,_=s.height,E=s.points,M=s.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(f-y/2," ").concat(h-_/2,")")};return Object(re.g)("g",D,Object(re.g)(Om,Jf({},M,{points:E,x:f,y:h})))}}])&&eS(t.prototype,n),c}(eo);function tp(e){return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function np(){return np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(this,arguments)}function rS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rp(e,t){return rp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rp(e,t)}function iS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xs(e);if(t){var c=xs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(e)}var op=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&rp(s,f)})(c,e);var t,n,r=iS(c);function c(){return rS(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(re.g)("g",null,Object(re.g)(Om,np({},f,{points:s.points,x:s.x,y:s.y})))}}])&&oS(t.prototype,n),c}(eo);function ip(e){return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function uS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return wm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return wm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sS(e){var t=e.x,n=t===void 0?0:t,r=e.y,c=r===void 0?0:r,s=e.rx,f=s===void 0?4:s,h=e.ry,y=h===void 0?4:h,_=e.className,E={cx:n,cy:c,rx:f,ry:y,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(M){var D=uS(M,2),z=D[0],H=D[1];ip(H)!=="object"&&(E[z]=H)}),E.className=_?"lf-basic-shape ".concat(_):"lf-basic-shape",Object(re.g)("ellipse",E)}function ap(e){return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function up(){return up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}function cS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return sp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sp(e,t)}function fS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Es(e);if(t){var c=Es(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return pS(this,n)}}function pS(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(e)}var cp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&sp(s,f)})(c,e);var t,n,r=fS(c);function c(){return cS(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(re.g)(sS,up({},f,{x:s.x,y:s.y,rx:s.rx,ry:s.ry}))}}])&&lS(t.prototype,n),c}(eo);function lp(e){return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(n),!0).forEach(function(r){dS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fp(e,t){return fp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fp(e,t)}function vS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ss(e);if(t){var c=Ss(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return gS(this,n)}}function gS(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(e)}var pp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&fp(s,f)})(c,e);var t,n,r=vS(c);function c(){return hS(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,f=s.getTextStyle(),h=s.width,y=s.height,_=s.x,E=s.y,M=Em(Em({},f.background),{},{x:_,y:E-1,width:h,height:y});return Object(re.g)(xo,M)}},{key:"getShape",value:function(){return Object(re.g)("g",null,this.getBackground())}}])&&yS(t.prototype,n),c}(eo);function dp(e){return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function hp(){return hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp.apply(this,arguments)}function mS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yp(e,t){return yp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yp(e,t)}function _S(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=js(e);if(t){var c=js(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return OS(this,n)}}function OS(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function Aa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&yp(s,f)})(c,e);var t,n,r=_S(c);function c(){var s;mS(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return As(Aa(s=r.call.apply(r,[this].concat(h))),"ref",void 0),As(Aa(s),"currentProperties",void 0),As(Aa(s),"preProperties",void 0),As(Aa(s),"setRef",function(_){s.ref=_}),s}return t=c,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(s){s.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var s=this.props.model,f=s.x,h=s.y,y=s.height,_=s.width,E=s.getNodeStyle();return this.currentProperties=JSON.stringify(s.properties),Object(re.g)("foreignObject",hp({},E,{x:f-_/2,y:h-y/2,width:_,height:y,ref:this.setRef}))}}])&&bS(t.prototype,n),c}(eo);function gp(e){return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function mp(){return mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sm(Object(n),!0).forEach(function(r){Op(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t){return bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bp(e,t)}function xS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ps(e);if(t){var c=Ps(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ES(this,n)}}function ES(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _p(e)}function _p(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ps(e)}function Op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir,SS=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&bp(s,f)})(c,e);var t,n,r=xS(c);function c(s){var f;return function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,c),Op(_p(f=r.call(this,s)),"setHoverON",function(){f.setState({isHovered:!0})}),Op(_p(f),"setHoverOFF",function(){f.setState({isHovered:!1})}),f.state={isHovered:!1},f}return t=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,f=s.getTextStyle(),h=s.text,y=s.width,_=f.background||{};if(this.state.isHovered&&f.hover&&f.hover.background&&(_=Ko(Ko({},_),f.hover.background)),h&&h.value&&_.fill!=="transparent"){var E,M=f.fontSize,D=f.overflowMode,z=f.lineHeight,H=f.wrapPadding,q=f.textWidth,ae=h.value,oe=h.x,fe=h.y,_e=String(ae).split(/[\r\n]/g),Te=_e.length;if(D==="autoWrap"&&q){var Se=By({rows:_e,style:{fontSize:"".concat(M,"px"),width:"".concat(q,"px"),lineHeight:z,padding:H},rowsLength:Te,className:"lf-get-text-height"});E=Ko(Ko({},_),{},{x:oe-1,y:fe-1,width:q,height:Se})}else{_e&&_e.forEach(function(ht){uv(ht)});var We=sl({rows:_e,fontSize:M,rowsLength:Te}),ke=We.width,Ge=We.height;if(D==="ellipsis"&&(ke=q||y,Ge=M+2),typeof _.wrapPadding=="string"){var Ie=_.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Ie.length>0&&Ie.length<=4&&(Ie.length===1?Ie=[Ie[0],Ie[0],Ie[0],Ie[0]]:Ie.length===2?Ie=[Ie[0],Ie[1],Ie[0],Ie[1]]:Ie.length===3&&(Ie=[Ie[0],Ie[1],Ie[2],Ie[1]]),ke+=Ie[1]+Ie[3],Ge+=Ie[0]+Ie[2],oe+=(Ie[1]-Ie[3])/2,fe+=(Ie[2]-Ie[0])/2)}E=Ko(Ko({},_),{},{x:oe-1,y:fe-1,width:ke,height:Ge})}return Object(re.g)(xo,E)}}},{key:"getShape",value:function(){var s=this.props.model,f=s.text,h=f.value,y=f.x,_=f.y;if(h){var E=Ko({x:y,y:_,className:"lf-element-text",value:h},s.getTextStyle());return Object(re.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(re.g)(ym,mp({},E,{model:s})))}}}])&&wS(t.prototype,n),c}(gm);function wp(e){return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){Vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Am(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Am(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Am(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xp(e,t){return xp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xp(e,t)}function PS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ms(e);if(t){var c=Ms(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return MS(this,n)}}function MS(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}function Yn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(e)}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Ir||(Ir={}));var Pm=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&xp(s,f)})(c,e);var t,n,r=PS(c);function c(s){var f;(function(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")})(this,c),Vn(Yn(f=r.call(this)),"stepDragData",void 0),Vn(Yn(f),"stepDrag",void 0),Vn(Yn(f),"oldEdge",void 0),Vn(Yn(f),"preTargetNode",void 0),Vn(Yn(f),"targetRuleResults",void 0),Vn(Yn(f),"sourceRuleResults",void 0),Vn(Yn(f),"handleMouseDown",function(E){f.stepDrag&&f.stepDrag.handleMouseDown(E)}),Vn(Yn(f),"onDragStart",function(){var E=f.props,M=E.x,D=E.y,z=E.edgeModel,H=z.startPoint,q=z.endPoint,ae=z.pointsList;f.oldEdge={startPoint:H,endPoint:q,pointsList:ae},f.setState({endX:M,endY:D,dragging:!0})}),Vn(Yn(f),"onDragging",function(E){var M=E.deltaX,D=E.deltaY,z=f.state,H=z.endX,q=z.endY,ae=f.props,oe=ae.graphModel,fe=ae.type,_e=oe.transformModel,Te=oe.editConfigModel,Se=jS(_e.moveCanvasPointByHtml([H,q],M,D),2),We=Se[0],ke=Se[1];f.setState({endX:We,endY:ke,dragging:!0});var Ge=f.props.edgeModel,Ie=Lu({x:H,y:q},oe);if(Ie&&Ie.node&&f.isAllowAdjust(Ie).pass){var ht,Nt=Ge.startPoint,At=Ge.endPoint,Bt=Ge.sourceNode,tn=Ge.targetNode;fe===Ir.SOURCE?ht={startPoint:{x:Ie.anchor.x,y:Ie.anchor.y},endPoint:{x:At.x,y:At.y},sourceNode:Ie.node,targetNode:tn}:fe===Ir.TARGET&&(ht={startPoint:{x:Nt.x,y:Nt.y},endPoint:{x:Ie.anchor.x,y:Ie.anchor.y},sourceNode:Bt,targetNode:Ie.node}),Ge.updateAfterAdjustStartAndEnd(ht)}else fe===Ir.SOURCE?Ge.updateStartPoint({x:We,y:ke}):fe===Ir.TARGET&&Ge.updateEndPoint({x:We,y:ke});Ge.text.value&&Te.adjustEdge&&Ge.setText(Object.assign({},Ge.text,Ge.textPosition))}),Vn(Yn(f),"onDragEnd",function(E){var M=E.event;try{var D;f.setState({dragging:!1});var z=f.props,H=z.graphModel,q=z.edgeModel,ae=z.type,oe=f.state,fe=oe.endX,_e=oe.endY,Te=oe.dragging,Se=Lu({x:fe,y:_e},H);if(!Te)return;var We,ke=!1;if(Se&&Se.node){var Ge=f.isAllowAdjust(Se),Ie=Ge.pass,ht=Ge.msg,Nt=Ge.newTargetNode;if(Ie){var At,Bt=q.getData();We=to(to({},Bt),{},{sourceAnchorId:"",targetAnchorId:"",text:(Bt==null||(At=Bt.text)===null||At===void 0?void 0:At.value)||""}),ae===Ir.SOURCE?(We=to(to({},H.edgeGenerator(H.getNodeModelById(Se.node.id).getData(),H.getNodeModelById(q.targetNodeId).getData(),We)),{},{sourceNodeId:Se.node.id,sourceAnchorId:Se.anchor.id,startPoint:{x:Se.anchor.x,y:Se.anchor.y},targetNodeId:q.targetNodeId,endPoint:to({},q.endPoint)}),q.sourceNodeId===Se.node.id&&q.sourceAnchorId===Se.anchor.id&&(ke=!0)):ae===Ir.TARGET&&(We=to(to({},H.edgeGenerator(H.getNodeModelById(q.sourceNodeId).getData(),H.getNodeModelById(Se.node.id).getData(),We)),{},{sourceNodeId:q.sourceNodeId,startPoint:to({},q.startPoint),targetNodeId:Se.node.id,targetAnchorId:Se.anchor.id,endPoint:{x:Se.anchor.x,y:Se.anchor.y}}),q.targetNodeId===Se.node.id&&q.targetAnchorId===Se.anchor.id&&(ke=!0))}else{ke=!0;var tn=Nt.getData();H.eventCenter.emit(ot.CONNECTION_NOT_ALLOWED,{data:tn,msg:ht})}}else ke=!0;if(ke)f.recoveryEdge();else{var cn=q.getData();H.deleteEdgeById(q.id);var An=H.addEdge(to({},We));H.eventCenter.emit(ot.EDGE_EXCHANGE_NODE,{data:{newEdge:An.getData(),oldEdge:cn}})}(D=f.preTargetNode)===null||D===void 0||D.setElementState(Mt.DEFAULT)}finally{f.props.graphModel.eventCenter.emit(ot.ADJUST_POINT_DRAGEND,{e:M,data:f.stepDragData})}}),Vn(Yn(f),"recoveryEdge",function(){var E=f.props.edgeModel,M=f.oldEdge,D=M.startPoint,z=M.endPoint,H=M.pointsList;E.updateStartPoint(D),E.updateEndPoint(z),E.modelType!==_t.LINE_EDGE&&(E.pointsList=H,E.initPoints())}),Vn(Yn(f),"getAdjustPointStyle",function(){var E=f.props,M=E.graphModel.theme;return E.edgeModel,M.edgeAdjust}),f.state={dragging:!1,endX:0,endY:0},f.targetRuleResults=new Map,f.sourceRuleResults=new Map;var h=s.type,y=s.edgeModel,_=s.graphModel.eventCenter;return f.stepDragData={type:h,edgeData:y.getData()},f.stepDrag=new Kr({onDragStart:f.onDragStart,onDragging:f.onDragging,onDragEnd:f.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:_,data:f.stepDragData}),f}return t=c,(n=[{key:"isAllowAdjust",value:function(s){var f=this.props,h=f.edgeModel,y=h.id,_=h.sourceNode,E=h.targetNode,M=h.sourceAnchorId,D=h.targetAnchorId,z=f.type,H=null,q=null,ae=null,oe=null;if(z===Ir.SOURCE?(H=s.node,q=E,ae=s.anchor,oe=E.getAnchorInfo(D)):(H=_,q=s.node,oe=s.anchor,ae=_.getAnchorInfo(M)),this.preTargetNode&&this.preTargetNode!==s.node&&this.preTargetNode.setElementState(Mt.DEFAULT),this.preTargetNode=s.node,oe.id===ae.id)return{pass:!1,msg:"",newTargetNode:q};var fe="".concat(H.id,"_").concat(q.id,"_").concat(ae.id,"_").concat(oe.id);if(!this.targetRuleResults.has(fe)){var _e=H.isAllowConnectedAsSource(q,ae,oe,y),Te=q.isAllowConnectedAsTarget(H,ae,oe,y);this.sourceRuleResults.set(fe,ha(_e)),this.targetRuleResults.set(fe,ha(Te))}var Se=this.sourceRuleResults.get(fe),We=Se.isAllPass,ke=Se.msg,Ge=this.targetRuleResults.get(fe),Ie=Ge.isAllPass,ht=Ge.msg,Nt=We&&Ie?Mt.ALLOW_CONNECT:Mt.NOT_ALLOW_CONNECT;return z===Ir.SOURCE?H.setElementState(Nt):q.setElementState(Nt),{pass:We&&Ie,msg:ht||ke,newTargetNode:q}}},{key:"render",value:function(){var s=this.props,f=s.x,h=s.y,y=s.getAdjustPointShape,_=s.edgeModel,E=this.state.dragging;return Object(re.g)("g",{pointerEvents:E?"none":"",onMouseDown:this.handleMouseDown},E?"":y(f,h,_))}}])&&AS(t.prototype,n),c}(re.a);function Ep(e){return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function Pa(){return Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}function TS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Mm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Mm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t){return Sp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sp(e,t)}function NS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ts(e);if(t){var c=Ts(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return CS(this,n)}}function CS(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(e)}function mr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(e)}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ma=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Sp(s,f)})(c,e);var t,n,r=NS(c);function c(){var s;kS(this,c);for(var f=arguments.length,h=new Array(f),y=0;y<f;y++)h[y]=arguments[y];return Lr(mr(s=r.call.apply(r,[this].concat(h))),"startTime",void 0),Lr(mr(s),"contextMenuTime",void 0),Lr(mr(s),"clickTimer",void 0),Lr(mr(s),"textRef",Object(re.f)()),Lr(mr(s),"handleHover",function(_,E){var M=s.props,D=M.model,z=M.graphModel.eventCenter;D.setHovered(_);var H=_?ot.EDGE_MOUSEENTER:ot.EDGE_MOUSELEAVE,q=D.getData();z.emit(H,{data:q,e:E})}),Lr(mr(s),"setHoverON",function(_){s.props.model.isHovered||(s.textRef&&s.textRef.current&&s.textRef.current.setHoverON(),s.handleHover(!0,_))}),Lr(mr(s),"setHoverOFF",function(_){s.props.model.isHovered&&(s.textRef&&s.textRef.current&&s.textRef.current.setHoverOFF(),s.handleHover(!1,_))}),Lr(mr(s),"handleContextMenu",function(_){_.preventDefault(),s.contextMenuTime=new Date().getTime(),s.clickTimer&&clearTimeout(s.clickTimer);var E=s.props,M=E.model,D=E.graphModel,z=D.getPointByClient({x:_.clientX,y:_.clientY});D.setElementStateById(M.id,Mt.SHOW_MENU,z.domOverlayPosition),s.toFront(),M.isSelected||D.selectEdgeById(M.id);var H=M==null?void 0:M.getData();D.eventCenter.emit(ot.EDGE_CONTEXTMENU,{data:H,e:_,position:z})}),Lr(mr(s),"handleMouseDown",function(_){_.stopPropagation(),s.startTime=new Date().getTime()}),Lr(mr(s),"handleMouseUp",function(_){if(s.startTime&&!(new Date().getTime()-s.startTime>200||_.button===2)){var E=_.detail===2,M=s.props,D=M.model,z=M.graphModel,H=D==null?void 0:D.getData(),q=z.getPointByClient({x:_.clientX,y:_.clientY});if(E){var ae=z.editConfigModel,oe=z.textEditElement;if(oe&&oe.id===D.id&&z.setElementStateById(D.id,Mt.DEFAULT),ae.edgeTextEdit&&D.text.editable&&z.setElementStateById(D.id,Mt.TEXT_EDIT),D.modelType===_t.POLYLINE_EDGE){var fe=D,_e=z.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,Te=_e.x,Se=_e.y,We=lv({x:Te,y:Se},fe.points);fe.dbClickPosition=We}z.eventCenter.emit(ot.EDGE_DBCLICK,{data:H,e:_,position:q})}else z.eventCenter.emit(ot.ELEMENT_CLICK,{data:H,e:_,position:q}),z.eventCenter.emit(ot.EDGE_CLICK,{data:H,e:_,position:q});var ke=z.editConfigModel;z.selectEdgeById(D.id,ly(_,ke)),s.toFront()}}),s}return t=c,(n=[{key:"getShape",value:function(){return Object(re.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var s=this.props,f=s.model,h=s.graphModel;if(f.state===Mt.TEXT_EDIT)return null;var y=!1,_=h.editConfigModel;return(f.text.draggable||_.edgeTextDraggable)&&(y=!0),Object(re.g)(SS,{ref:this.textRef,editable:_.edgeTextEdit&&f.text.editable,model:f,graphModel:h,draggable:y})}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=s.startPoint,h=s.endPoint,y=s.isSelected;return{start:f,end:h,hover:this.state.hover,isSelected:y}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model;return[s.startPoint,s.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var s=this.props.model,f=s.id,h=s.getArrowStyle(),y=h.refY,_=y===void 0?0:y,E=h.refX,M=E===void 0?2:E,D=TS(this.getLastTwoPoints(),2),z=D[0],H=D[1],q="auto";return z!==null&&H!==null&&(q=jw({x:H.x-z.x,y:H.y-z.y,z:0})*(180/Math.PI)),Object(re.g)("g",null,Object(re.g)("defs",null,Object(re.g)("marker",{id:"marker-start-".concat(f),refX:-M,refY:_,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(re.g)("marker",{id:"marker-end-".concat(f),refX:M,refY:_,overflow:"visible",orient:q,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var s=this.props.model.getArrowStyle();return s.stroke,s.strokeWidth,s.offset,s.verticalLength,Object(re.g)("path",null)}},{key:"getEndArrow",value:function(){var s=this.props.model.getArrowStyle(),f=s.stroke,h=s.strokeWidth,y=s.offset,_=s.verticalLength;return Object(re.g)("path",{stroke:f,fill:f,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(y," -").concat(_," L ").concat(y," ").concat(_," Z")})}},{key:"getAdjustPointShape",value:function(s,f,h){var y=h.getAdjustPointStyle();return Object(re.g)(Oa,Pa({className:"lf-edge-adjust-point"},y,{x:s,y:f}))}},{key:"getAdjustPoints",value:function(){var s=this.props,f=s.model,h=s.graphModel,y=f.getAdjustStart(),_=f.getAdjustEnd();return Object(re.g)("g",null,Object(re.g)(Pm,Pa({type:"SOURCE"},y,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:h})),Object(re.g)(Pm,Pa({type:"TARGET"},_,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(re.g)("g",null)}},{key:"getAppend",value:function(){return Object(re.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var s=this.props,f=s.graphModel,h=s.model;f.overlapMode!==Hn.INCREASE&&f.toFront(h.id)}},{key:"render",value:function(){var s=this.props,f=s.model,h=f.isSelected,y=f.isHitable,_=f.isShowAdjustPoint;return s.graphModel.animation,Object(re.g)("g",null,Object(re.g)("g",{className:["lf-edge",!y&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),_&&h?this.getAdjustPoints():"")}}])&&DS(t.prototype,n),c}(re.a);function jp(e){return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function RS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Tm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Tm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=RS(n,2),c=r[0],s=r[1],f=jp(s);c!=="style"&&f==="object"||(t[c]=s)}),Object(re.g)("path",t)};function Ap(e){return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Pp(){return Pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(this,arguments)}function IS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e,t){return Mp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mp(e,t)}function BS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ks(e);if(t){var c=ks(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return zS(this,n)}}function zS(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ks(e){return ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ks(e)}var Tp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Mp(s,f)})(c,e);var t,n,r=BS(c);function c(){return IS(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.startPoint,h=s.endPoint,y=s.isAnimation,_=s.arrowConfig,E=s.getEdgeStyle(),M=s.getEdgeAnimationStyle(),D=M.strokeDasharray,z=M.stroke,H=M.strokeDashoffset,q=M.animationName,ae=M.animationDuration,oe=M.animationIterationCount,fe=M.animationTimingFunction,_e=M.animationDirection;return Object(re.g)(_i,Pp({},E,{x1:f.x,y1:f.y,x2:h.x,y2:h.y},_,y?{strokeDasharray:D,stroke:z,style:{strokeDashoffset:H,animationName:q,animationDuration:ae,animationIterationCount:oe,animationTimingFunction:fe,animationDirection:_e}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model,f=function(D){var z,H=D.start,q=D.end;if(H.x===q.x&&H.y===q.y)z="";else{var ae={start:H,end:q,offset:10,verticalLength:5},oe=ga(Bu(Bu({},ae),{},{type:"start"})),fe=ga(Bu(Bu({},ae),{},{type:"end"}));z="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(fe.rightX," ").concat(fe.rightY,`
    L`).concat(fe.leftX," ").concat(fe.leftY," z")}return{d:z,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:s.startPoint,end:s.endPoint}),h=f.d,y=f.strokeWidth,_=f.fill,E=f.strokeDasharray,M=f.stroke;return Object(re.g)(Ta,{d:h,fill:_,strokeWidth:y,stroke:M,strokeDasharray:E})}}])&&LS(t.prototype,n),c}(Ma);function kp(e){return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function FS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return km(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return km(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function km(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GS=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=FS(n,2),c=r[0],s=r[1];(c==="style"||kp(s)!=="object")&&(t[c]=s)}),Object(re.g)("polyline",t)};function Dp(e){return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(n),!0).forEach(function(r){ro(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Np(){return Np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Np.apply(this,arguments)}function US(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Nm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Nm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cp(e,t){return Cp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cp(e,t)}function WS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ns(e);if(t){var c=Ns(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return HS(this,n)}}function HS(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return no(e)}function no(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Cp(s,f)})(c,e);var t,n,r=WS(c);function c(){var s;return function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,c),ro(no(s=r.call(this)),"drag",void 0),ro(no(s),"isDragging",void 0),ro(no(s),"isShowAdjustPointTemp",void 0),ro(no(s),"appendInfo",void 0),ro(no(s),"onDragStart",function(){var f=s.props.model;f.dragAppendStart(),s.isShowAdjustPointTemp=f.isShowAdjustPoint,f.isShowAdjustPoint=!1}),ro(no(s),"onDragging",function(f){var h=f.deltaX,y=f.deltaY,_=s.props,E=_.model,M=_.graphModel;s.isDragging=!0;var D=M.transformModel,z=M.editConfigModel,H=US(D.fixDeltaXY(h,y),2),q=H[0],ae=H[1],oe=E,fe=z.adjustEdgeMiddle;s.appendInfo=fe?oe.dragAppendSimple(s.appendInfo,{x:q,y:ae}):oe.dragAppend(s.appendInfo,{x:q,y:ae})}),ro(no(s),"onDragEnd",function(){var f=s.props,h=f.model,y=f.graphModel.eventCenter,_=h;_.dragAppendEnd(),s.isDragging=!1,_.isShowAdjustPoint=s.isShowAdjustPointTemp,s.appendInfo=void 0,y.emit(ot.EDGE_ADJUST,{data:_.getData()})}),ro(no(s),"beforeDragStart",function(f,h){h.dragAble&&s.drag.handleMouseDown(f),s.appendInfo=h}),s.drag=new Kr({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,isStopPropagation:!1}),s}return t=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.points,h=s.isAnimation,y=s.arrowConfig,_=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),M=E.strokeDasharray,D=E.stroke,z=E.strokeDashoffset,H=E.animationName,q=E.animationDuration,ae=E.animationIterationCount,oe=E.animationTimingFunction,fe=E.animationDirection;return Object(re.g)(GS,Np({points:f},_,y,h?{strokeDasharray:M,stroke:D,style:{strokeDashoffset:z,animationName:H,animationDuration:q,animationIterationCount:ae,animationTimingFunction:oe,animationDirection:fe}}:{}))}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=s.points,h=s.isSelected,y={start:null,end:null,hover:this.state.hover,isSelected:h},_=Yo(f);return _.length>=2&&(y.start=_[_.length-2],y.end=_[_.length-1]),y}},{key:"getLastTwoPoints",value:function(){var s=this.props.model.points,f=Yo(s);return f.length>=2?[f[f.length-2],f[f.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(s){var f,h=s.start,y=s.end;if(h.x===y.x&&h.y===y.y)f="";else{var _={start:h,end:y,offset:10,verticalLength:5},E=ga(Ds(Ds({},_),{},{type:"start"})),M=ga(Ds(Ds({},_),{},{type:"end"}));f="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(M.rightX," ").concat(M.rightY,`
      L`).concat(M.leftX," ").concat(M.leftY," z")}return{d:f,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(s){var f=this.getAppendAttributes(s),h=f.d,y=f.strokeWidth,_=f.fill,E=f.strokeDasharray,M=f.stroke;return Object(re.g)(Ta,{d:h,fill:_,strokeWidth:y,stroke:M,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var s=this,f=this.props,h=f.model,y=f.graphModel,_=h.pointsList,E=h.draggable,M=[],D=_.length,z=function(q){var ae="lf-polyline-append",oe={start:{x:_[q].x,y:_[q].y},end:{x:_[q+1].x,y:_[q+1].y},startIndex:q,endIndex:q+1,direction:"",dragAble:!0},fe=Object(re.g)("g",{className:ae},s.getAppendShape(oe)),_e=y.editConfigModel,Te=_e.adjustEdge,Se=_e.adjustEdgeMiddle;if(Te&&E){var We=oe.startIndex,ke=oe.endIndex,Ge=Se&&(We===0||ke===D-1);oe.dragAble=!Ge,oe.start.x===oe.end.x?(oe.dragAble&&(ae+="-ew-resize"),oe.direction=$t.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ae+="-ns-resize"),oe.direction=$t.HORIZONTAL),fe=Object(re.g)("g",{className:s.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(Ie){return s.beforeDragStart(Ie,oe)}},Object(re.g)("g",{className:ae},s.getAppendShape(oe)))}M.push(fe)},H=0;H<D-1;H++)z(H);return Object(re.g)("g",null,M)}}])&&$S(t.prototype,n),c}(Ma);function Ip(e){return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function XS(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Cm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Cm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lp(){return Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(this,arguments)}function YS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bp(e,t){return Bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bp(e,t)}function KS(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cs(e);if(t){var c=Cs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(e)}var zp=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Bp(s,f)})(c,e);var t,n,r=KS(c);function c(){return YS(this,c),r.apply(this,arguments)}return t=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.getEdgeStyle(),h=s.path,y=s.isAnimation,_=s.arrowConfig,E=s.getEdgeAnimationStyle(),M=E.strokeDasharray,D=E.stroke,z=E.strokeDashoffset,H=E.animationName,q=E.animationDuration,ae=E.animationIterationCount,oe=E.animationTimingFunction,fe=E.animationDirection;return Object(re.g)(Ta,Lp({d:h},f,_,y?{strokeDasharray:M,stroke:D,style:{strokeDashoffset:z,animationName:H,animationDuration:q,animationIterationCount:ae,animationTimingFunction:oe,animationDirection:fe}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model.path;return Object(re.g)(Ta,{d:s,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=this.state.hover,h=s.isSelected,y=s.getArrowStyle().offset,_=s.pointsList.map(function(M){return{x:M.x,y:M.y}}),E=XS(cv(_,y),2);return{start:E[0],end:E[1],hover:f,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model,f=s.getArrowStyle().offset,h=s.pointsList.map(function(y){return{x:y.x,y:y.y}});return cv(h,f)}}])&&VS(t.prototype,n),c}(Ma);function Fp(e){return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function ZS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e,t){return Gp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gp(e,t)}function ej(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rs(e);if(t){var c=Rs(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return tj(this,n)}}function tj(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(e)}var nj=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Gp(s,f)})(c,e);var t,n,r=ej(c);function c(){return JS(this,c),r.apply(this,arguments)}return t=c,n=[{key:"getArrowAttributes",value:function(){var s=this.props,f=s.arrowInfo,h=s.style,y=f.start,_=f.end,E={start:y,end:_,offset:h.offset,verticalLength:h.verticalLength,type:"end"},M=ga(E),D=M.leftX,z=M.leftY,H=M.rightX,q=M.rightY;return function(ae){for(var oe=1;oe<arguments.length;oe++){var fe=arguments[oe]!=null?arguments[oe]:{};oe%2?Rm(Object(fe),!0).forEach(function(_e){ZS(ae,_e,fe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(fe)):Rm(Object(fe)).forEach(function(_e){Object.defineProperty(ae,_e,Object.getOwnPropertyDescriptor(fe,_e))})}return ae}({d:"M".concat(D," ").concat(z," L").concat(_.x," ").concat(_.y," L").concat(H," ").concat(q," z")},h)}},{key:"getShape",value:function(){var s=this.getArrowAttributes(),f=s.d,h=s.strokeWidth,y=s.stroke,_=s.fill;return Object(re.g)(Ta,{d:f,fill:_,strokeWidth:h,stroke:y})}},{key:"render",value:function(){return Object(re.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&QS(t.prototype,n),c}(re.a),Im=function(e,t){return he(e,t)},rj=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Up=function(){return Xe.a.Date.now()},oj=/\s/,ij=function(e){for(var t=e.length;t--&&oj.test(e.charAt(t)););return t},aj=/^\s+/,uj=function(e){return e&&e.slice(0,ij(e)+1).replace(aj,"")},sj=/^[-+]0x[0-9a-f]+$/i,cj=/^0b[01]+$/i,lj=/^0o[0-7]+$/i,fj=parseInt,Lm=function(e){if(typeof e=="number")return e;if(dt(e))return NaN;if(Wt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uj(e);var n=cj.test(e);return n||lj.test(e)?fj(e.slice(2),n?2:8):sj.test(e)?NaN:+e},pj=Math.max,dj=Math.min,hj=function(e,t,n){var r,c,s,f,h,y,_=0,E=!1,M=!1,D=!0;if(typeof e!="function")throw new TypeError("Expected a function");function z(_e){var Te=r,Se=c;return r=c=void 0,_=_e,f=e.apply(Se,Te)}function H(_e){return _=_e,h=setTimeout(ae,t),E?z(_e):f}function q(_e){var Te=_e-y;return y===void 0||Te>=t||Te<0||M&&_e-_>=s}function ae(){var _e=Up();if(q(_e))return oe(_e);h=setTimeout(ae,function(Te){var Se=t-(Te-y);return M?dj(Se,s-(Te-_)):Se}(_e))}function oe(_e){return h=void 0,D&&r?z(_e):(r=c=void 0,f)}function fe(){var _e=Up(),Te=q(_e);if(r=arguments,c=this,y=_e,Te){if(h===void 0)return H(y);if(M)return clearTimeout(h),h=setTimeout(ae,t),z(y)}return h===void 0&&(h=setTimeout(ae,t)),f}return t=Lm(t)||0,Wt(n)&&(E=!!n.leading,s=(M="maxWait"in n)?pj(Lm(n.maxWait)||0,t):s,D="trailing"in n?!!n.trailing:D),fe.cancel=function(){h!==void 0&&clearTimeout(h),_=0,r=y=c=h=void 0},fe.flush=function(){return h===void 0?f:oe(Up())},fe},yj=i(167);function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bm,zm,Fm,gj=function(){function e(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Ao(this,"undos",[]),Ao(this,"redos",[]),Ao(this,"callbacks",[]),Ao(this,"stopWatch",null),Ao(this,"curData",null),Ao(this,"maxSize",50),Ao(this,"waitTime",100),Ao(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Im(rj(this.undos),r)||(this.undos.push(r),Im(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ot.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var c=this.undos.pop();return this.curData=Xt(c),c}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Xt(r),r}}},{key:"watch",value:function(r){var c=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(yj.a)(r,hj(function(){var s=r.modelToHistoryData();s&&c.add(s)},this.waitTime))}}])&&vj(t.prototype,n),e}();function $p(e){return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function mj(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Gm(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Gm(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(r){qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t){return Wp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wp(e,t)}function bj(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Is(e);if(t){var c=Is(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return _j(this,n)}}function _j(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wm,Hm,Xm,Hp=br((Fm=zm=function(e){(function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),h&&Wp(f,h)})(s,e);var t,n,r,c=bj(s);function s(){var f;return function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,s),qo(Di(f=c.call(this)),"ref",Object(re.f)()),qo(Di(f),"__prevText",{type:"",text:"",id:""}),qo(Di(f),"keyupHandler",function(h){var y=f.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&y.setElementState(0)}),qo(Di(f),"inputHandler",function(h){var y=h.target.innerText,_=f.props.graphModel.textEditElement;f.__prevText={type:_.type,text:y.replace(/(\r\n)+$|(\n)+$/,""),id:_.id}}),qo(Di(f),"keydownHandler",function(h){h.stopPropagation()}),f.state={style:{left:0,top:0}},f}return t=s,r=[{key:"getDerivedStateFromProps",value:function(f){var h,y=f.graphModel,_=y.transformModel,E=y.theme,M=y.textEditElement;if(M){var D;if((D=M.text)===null||D===void 0||!D.value)if(M.BaseType===rn.EDGE){var z=(M=M).text,H=M.textPosition,q=H.x,ae=H.y;z.x=q,z.y=ae,M.setText(z)}else M=M;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(M.BaseType===rn.EDGE){var fe=E.edgeText,_e=fe.overflowMode,Te=fe.lineHeight,Se=fe.wrapPadding,We=fe.textWidth;We&&_e==="autoWrap"&&(h=ki(ki({},oe),{},{width:We,minWidth:We,lineHeight:Te,padding:Se}))}else if(M.BaseType===rn.NODE){var ke=E.nodeText,Ge=ke.overflowMode,Ie=ke.lineHeight,ht=ke.wrapPadding,Nt=ke.textWidth,At=M,Bt=At.width,tn=At.modelType;(tn!==_t.TEXT_NODE&&Ge==="autoWrap"||tn===_t.TEXT_NODE&&Nt)&&(h=ki(ki({},oe),{},{width:Nt||Bt,minWidth:Nt||Bt,lineHeight:Ie,padding:ht}))}var cn=M.text,An=cn.x,Br=cn.y,or=mj(_.CanvasPointToHtmlPoint([An,Br]),2);return{style:ki({left:or[0],top:or[1]},h)}}}}],(n=[{key:"componentDidUpdate",value:function(){var f=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,y=h.text,_=h.id;f.updateText(_,y),f.eventCenter.emit(ot.TEXT_UPDATE,ki({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(f){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(f),h.collapse(!1);var y=window.getSelection();y.removeAllRanges(),y.addRange(h)}}},{key:"render",value:function(){var f,h=this.props.graphModel.textEditElement,y=this.state.style;return h?Object(re.g)("div",{contentEditable:!0,className:"lf-text-input",style:y,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(f=h.text)===null||f===void 0?void 0:f.value):null}}])&&$m(t.prototype,n),r&&$m(t,r),s}(re.a),qo(zm,"toolName","textEdit"),Bm=Fm))||Bm,Oj=function(e){return e.modelType===_t.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,c=(n.x+r.x)/2,s=(n.y+r.y)/2,f=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:c-f/2,y:s-h/2,x1:c+f/2,y1:s+h/2}}(e):e.modelType===_t.POLYLINE_EDGE?function(t){var n=t.points,r=Yo(n),c=ma(r,8),s=c.x,f=c.y,h=c.width,y=c.height;return{x:s-h/2,y:f-y/2,x1:s+h/2,y1:f+y/2}}(e):e.modelType===_t.BEZIER_EDGE?function(t){var n=t.path,r=El(n),c=ma(r,8),s=c.x,f=c.y,h=c.width,y=c.height;return{x:s-h/2,y:f-y/2,x1:s+h/2,y1:f+y/2}}(e):void 0};function Xp(e){return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function Ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,h=[],y=!0,_=!1;try{for(c=c.call(n);!(y=(s=c.next()).done)&&(h.push(s.value),!r||h.length!==r);y=!0);}catch(E){_=!0,f=E}finally{try{y||c.return==null||c.return()}finally{if(_)throw f}}return h}}(e,t)||Vm(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wj(e){return function(t){if(Array.isArray(t))return Yp(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Vm(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vm(e,t){if(e){if(typeof e=="string")return Yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yp(e,t):void 0}}function Yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e,t){return Vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vp(e,t)}function Ej(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ls(e);if(t){var c=Ls(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Sj(this,n)}}function Sj(e,t){if(t&&(Xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ka(e)}function ka(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(e)}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kp=br((Xm=Hm=function(e){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Vp(s,f)})(c,e);var t,n,r=Ej(c);function c(s){var f;(function(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")})(this,c),Da(ka(f=r.call(this)),"stepDrag",void 0),Da(ka(f),"handleMouseDown",function(E){f.stepDrag.handleMouseDown(E)}),Da(ka(f),"onDragging",function(E){var M=E.deltaX,D=E.deltaY,z=f.props.graphModel,H=z.getSelectElements(!0);z.moveNodes(H.nodes.map(function(q){return q.id}),M,D)}),Da(ka(f),"handleContextMenu",function(E){E.preventDefault();var M=f.props,D=M.graphModel,z=M.graphModel,H=z.eventCenter,q=z.selectElements,ae=D.getPointByClient({x:E.clientX,y:E.clientY}),oe={nodes:[],edges:[]};wj(q.values()).forEach(function(fe){fe.BaseType===rn.NODE&&oe.nodes.push(fe.getData()),fe.BaseType===rn.EDGE&&oe.edges.push(fe.getData())}),H.emit(ot.SELECTION_CONTEXTMENU,{data:oe,e:E,position:ae})});var h=s.graphModel,y=h.gridSize,_=h.eventCenter;return f.stepDrag=new Kr({onDragging:f.onDragging,step:y,eventType:"SELECTION",eventCenter:_}),f}return t=c,(n=[{key:"render",value:function(){var s=this.props.graphModel,f=s.selectElements,h=s.transformModel;if(!(f.size<=1)){var y=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER;f.forEach(function(q){var ae={x:0,y:0,x1:0,y1:0};q.BaseType===rn.NODE&&(ae=function(oe){var fe=oe.x,_e=oe.y,Te=oe.width,Se=oe.height;return{x:fe-Te/2,y:_e-Se/2,x1:fe+Te/2,y1:_e+Se/2}}(q)),q.BaseType===rn.EDGE&&(ae=Oj(q)),y=Math.min(y,ae.x),_=Math.min(_,ae.y),E=Math.max(E,ae.x1),M=Math.max(M,ae.y1)});var D=Ym(h.CanvasPointToHtmlPoint([y,_]),2);y=D[0],_=D[1];var z=Ym(h.CanvasPointToHtmlPoint([E,M]),2);E=z[0],M=z[1];var H={left:"".concat(y-10,"px"),top:"".concat(_-10,"px"),width:"".concat(E-y+20,"px"),height:"".concat(M-_+20,"px")};return Object(re.g)("div",{className:"lf-multiple-select",style:H,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&xj(t.prototype,n),c}(re.a),Da(Hm,"toolName","multipleSelect"),Wm=Xm))||Wm;function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aj=function(){function e(r){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),Bs(this,"tools",void 0),Bs(this,"components",void 0),Bs(this,"toolMap",new Map),Bs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Hp.toolName)||this.registerTool(Hp.toolName,Hp),this.isDisabledTool(Kp.toolName)||this.registerTool(Kp.toolName,Kp);var c=r.graphModel;c.eventCenter.on("".concat(ot.GRAPH_TRANSFORM,",").concat(ot.NODE_CLICK,",").concat(ot.BLANK_CLICK," "),function(){var s=c.textEditElement,f=c.editConfigModel,h=f.edgeTextEdit,y=f.nodeTextEdit;(h||y)&&s&&c.textEditElement.setElementState(Mt.DEFAULT)})}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,c){this.toolMap.set(r,c)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&jj(t.prototype,n),e}(),Pj=i(168),Mj=i.n(Pj);function Tj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Km=function(){function e(r){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),qp(this,"mousetrap",void 0),qp(this,"options",void 0),qp(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var c=r.lf;this.target=c.container,this.mousetrap=new Mj.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,c=this.options.keyboard.shortcuts;if(c)if(hn(c))c.forEach(function(y){var _=y.keys,E=y.callback,M=y.action;return r.on(_,E,M)});else{var s=c.keys,f=c.callback,h=c.action;this.on(s,f,h)}}},{key:"on",value:function(r,c,s){this.mousetrap.bind(this.getKeys(r),c,s)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,c){this.mousetrap.unbind(this.getKeys(r),c)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var c=this;return(Array.isArray(r)?r:[r]).map(function(s){return c.formatKey(s)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Tj(t.prototype,n),e}(),kj=Km,oo=null;function qm(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Zm(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Zp(e){return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jm(Object(n),!0).forEach(function(r){Ht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jp=Symbol("plugin register by Logicflow.use"),Qp=function(){function e(c){var s,f,h=this;(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,e),Ht(this,"container",void 0),Ht(this,"width",void 0),Ht(this,"height",void 0),Ht(this,"graphModel",void 0),Ht(this,"history",void 0),Ht(this,"viewMap",new Map),Ht(this,"tool",void 0),Ht(this,"keyboard",void 0),Ht(this,"dnd",void 0),Ht(this,"options",void 0),Ht(this,"snaplineModel",void 0),Ht(this,"components",[]),Ht(this,"plugins",void 0),Ht(this,"extension",{}),Ht(this,"adapterIn",void 0),Ht(this,"adapterOut",void 0),Ht(this,"getView",function(y){return h.viewMap.get(y)}),c=Qv(c),this.options=c,this.container=this.initContainer(c.container),this.plugins=c.plugins,this.graphModel=new Bw(Na({},c)),this.tool=new Aj(this),this.history=new gj(this.graphModel.eventCenter),this.dnd=new Cx({lf:this}),this.keyboard=new kj({lf:this,keyboard:c.keyboard}),c.snapline!==!1&&(this.snaplineModel=new cm(this.graphModel),s=this.graphModel.eventCenter,f=this.snaplineModel,s.on("node:mousemove",function(y){var _=y.data;f.setNodeSnapLine(_)}),s.on("node:mouseup",function(){f.clearSnapline()})),function(y,_){var E=y.keyboard,M=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(!M.enabled||_.textEditElement)return!0;var D=y.options.guards,z=_.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(z)||z.nodes.length===0&&z.edges.length===0?(oo=null,!0):((oo=z).nodes.forEach(function(H){return qm(H,40)}),oo.edges.forEach(function(H){return Zm(H,40)}),!1)}),E.on(["cmd + v","ctrl + v"],function(){if(!M.enabled||_.textEditElement)return!0;if(oo&&(oo.nodes||oo.edges)){y.clearSelectElements();var D=y.addElements(oo);if(!D)return!0;D.nodes.forEach(function(z){return y.selectElementById(z.id,!0)}),D.edges.forEach(function(z){return y.selectElementById(z.id,!0)}),oo.nodes.forEach(function(z){return qm(z,40)}),oo.edges.forEach(function(z){return Zm(z,40)})}return!1}),E.on(["cmd + z","ctrl + z"],function(){return!M.enabled||!!_.textEditElement||(y.undo(),!1)}),E.on(["cmd + y","ctrl + y"],function(){return!M.enabled||!!_.textEditElement||(y.redo(),!1)}),E.on(["backspace"],function(){if(!M.enabled||_.textEditElement)return!0;var D=_.getSelectElements(!0);return y.clearSelectElements(),D.edges.forEach(function(z){return y.deleteEdge(z.id)}),D.nodes.forEach(function(z){return y.deleteNode(z.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(c.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(c,s){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof c=="string"){var h={BaseEdge:Ma,BaseEdgeModel:ll,BaseNode:eo,BaseNodeModel:Qr,RectNode:Hf,RectNodeModel:Sf,CircleNode:Kf,CircleNodeModel:af,PolygonNode:ep,PolygonNodeModel:Of,TextNode:pp,TextNodeModel:Mf,LineEdge:Tp,LineEdgeModel:yl,DiamondNode:op,DiamondNodeModel:ff,PolylineEdge:Rp,PolylineEdgeModel:bl,BezierEdge:zp,BezierEdgeModel:Ql,EllipseNode:cp,EllipseNodeModel:yf,HtmlNode:vp,HtmlNodeModel:Df,h:re.g,type:c};this.viewMap.forEach(function(D){var z=D.extendKey;z&&(h[z]=D)}),this.graphModel.modelMap.forEach(function(D){var z=D.extendKey;z&&(h[z]=D)});var y=s(h),_=y.view,E=y.model,M=_;f&&!M.isObervered&&(M.isObervered=!0,M=$e(M)),this.setView(c,M),this.graphModel.setModel(c,E)}else this.registerElement(c)}},{key:"registerElement",value:function(c){var s=c.view;c.isObserverView===!1||s.isObervered||(s.isObervered=!0,s=$e(s)),this.setView(c.type,s),this.graphModel.setModel(c.type,c.model)}},{key:"batchRegister",value:function(){var c=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(f){c.registerElement(f)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Hf,model:Sf,type:"rect"}),this.registerElement({type:"circle",view:Kf,model:af}),this.registerElement({type:"polygon",view:ep,model:Of}),this.registerElement({type:"line",view:Tp,model:yl}),this.registerElement({type:"polyline",view:Rp,model:bl}),this.registerElement({type:"bezier",view:zp,model:Ql}),this.registerElement({type:"text",view:pp,model:Mf}),this.registerElement({type:"ellipse",view:cp,model:yf}),this.registerElement({type:"diamond",view:op,model:ff}),this.registerElement({type:"html",view:vp,model:Df})}},{key:"selectElementById",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(c,s),!s&&f&&this.graphModel.toFront(c)}},{key:"focusOn",value:function(c){var s=this.graphModel.transformModel,f=c.coordinate,h=c.id;if(!f){var y=this.getNodeModelById(h);y&&(f=y.getData());var _=this.getEdgeModelById(h);_&&(f=_.textPosition)}var E=f,M=E.x,D=E.y;s.focusOn(M,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(c){this.graphModel.setTheme(c)}},{key:"resize",value:function(c,s){this.graphModel.resize(c,s),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(c){this.graphModel.setDefaultEdgeType(c)}},{key:"updateText",value:function(c,s){this.graphModel.updateText(c,s)}},{key:"deleteElement",value:function(c){var s,f,h,y=this.getModelById(c);return!!y&&(f=(h=(Ht(s={},rn.NODE,this.deleteNode),Ht(s,rn.EDGE,this.deleteEdge),s)[y.BaseType])===null||h===void 0?void 0:h.call(this,c))!==null&&f!==void 0&&f}},{key:"getModelById",value:function(c){return this.graphModel.getElement(c)}},{key:"getDataById",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getData()}},{key:"changeNodeType",value:function(c,s){this.graphModel.changeNodeType(c,s)}},{key:"changeEdgeType",value:function(c,s){this.graphModel.changeEdgeType(c,s)}},{key:"getNodeEdges",value:function(c){return this.graphModel.getNodeEdges(c)}},{key:"addNode",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot.NODE_ADD,f=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(c,s,f)}},{key:"deleteNode",value:function(c){var s=this.graphModel.getNodeModelById(c);if(!s)return!1;var f=s.getData(),h=this.options.guards,y=!h||!h.beforeDelete||h.beforeDelete(f);return y&&this.graphModel.deleteNode(c),y}},{key:"cloneNode",value:function(c){var s=this.graphModel.getNodeModelById(c).getData(),f=this.options.guards;if(!f||!f.beforeClone||f.beforeClone(s))return this.graphModel.cloneNode(c)}},{key:"changeNodeId",value:function(c,s){return this.graphModel.changeNodeId(c,s)}},{key:"getNodeModelById",value:function(c){return this.graphModel.getNodeModelById(c)}},{key:"getNodeDataById",value:function(c){var s;return(s=this.graphModel.getNodeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"addEdge",value:function(c){return this.graphModel.addEdge(c)}},{key:"deleteEdge",value:function(c){var s=this.options.guards,f=this.graphModel.edgesMap[c];if(!f)return!1;var h=f.model.getData(),y=!s||!s.beforeDelete||s.beforeDelete(h);return y&&this.graphModel.deleteEdgeById(c),y}},{key:"deleteEdgeByNodeId",value:function(c){var s=c.sourceNodeId,f=c.targetNodeId;s&&f?this.graphModel.deleteEdgeBySourceAndTarget(s,f):s?this.graphModel.deleteEdgeBySource(s):f&&this.graphModel.deleteEdgeByTarget(f)}},{key:"changeEdgeId",value:function(c,s){return this.graphModel.changeEdgeId(c,s)}},{key:"getEdgeModelById",value:function(c){var s;return(s=this.graphModel.edgesMap[c])===null||s===void 0?void 0:s.model}},{key:"getEdgeModels",value:function(c){var s=this.graphModel.edges,f=c.sourceNodeId,h=c.targetNodeId;if(f&&h){var y=[];return s.forEach(function(M){M.sourceNodeId===f&&M.targetNodeId===h&&y.push(M)}),y}if(f){var _=[];return s.forEach(function(M){M.sourceNodeId===f&&_.push(M)}),_}if(h){var E=[];return s.forEach(function(M){M.targetNodeId===h&&E.push(M)}),E}return[]}},{key:"getEdgeDataById",value:function(c){var s;return(s=this.getEdgeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"getNodeIncomingEdge",value:function(c){return this.graphModel.getNodeIncomingEdge(c)}},{key:"getNodeOutgoingEdge",value:function(c){return this.graphModel.getNodeOutgoingEdge(c)}},{key:"getNodeIncomingNode",value:function(c){return this.graphModel.getNodeIncomingNode(c)}},{key:"getNodeOutgoingNode",value:function(c){return this.graphModel.getNodeOutgoingNode(c)}},{key:"editText",value:function(c){this.graphModel.editText(c)}},{key:"setProperties",value:function(c,s){var f;(f=this.graphModel.getElement(c))===null||f===void 0||f.setProperties(gn(s))}},{key:"deleteProperty",value:function(c,s){var f;(f=this.graphModel.getElement(c))===null||f===void 0||f.deleteProperty(s)}},{key:"getProperties",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getProperties()}},{key:"toFront",value:function(c){this.graphModel.toFront(c)}},{key:"setElementZIndex",value:function(c,s){return this.graphModel.setElementZIndex(c,s)}},{key:"addElements",value:function(c){for(var s=this,f=c.nodes,h=c.edges,y={},_={nodes:[],edges:[]},E=0;E<f.length;E++){var M=f[E],D=M.id,z=this.addNode(M);if(!z)return;D&&(y[D]=z.id),_.nodes.push(z)}return h.forEach(function(H){var q=H.sourceNodeId,ae=H.targetNodeId;y[q]&&(q=y[q]),y[ae]&&(ae=y[ae]);var oe=s.graphModel.addEdge(Na(Na({},H),{},{sourceNodeId:q,targetNodeId:ae}));_.edges.push(oe)}),_}},{key:"getAreaElement",value:function(c,s){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],y=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(c,s,f,h,y).map(function(_){return _.getData()})}},{key:"getSelectElements",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(c)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var c=this.graphModel.modelToGraphData();if(this.adapterOut){for(var s=arguments.length,f=new Array(s),h=0;h<s;h++)f[h]=arguments[h];return this.adapterOut.apply(this,[c].concat(f))}return c}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(c){this.graphModel.editConfigModel.updateEditConfig(c)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(c,s){return this.graphModel.getPointByClient({x:c,y:s})}},{key:"undo",value:function(){if(this.history.undoAble()){var c=gn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"redo",value:function(){if(this.history.redoAble()){var c=gn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"zoom",value:function(c,s){return this.graphModel.transformModel.zoom(c,s)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(c){this.graphModel.transformModel.setZoomMiniSize(c)}},{key:"setZoomMaxSize",value:function(c){this.graphModel.transformModel.setZoomMaxSize(c)}},{key:"getTransform",value:function(){var c=this.graphModel.transformModel;return{SCALE_X:c.SCALE_X,SCALE_Y:c.SCALE_Y,TRANSLATE_X:c.TRANSLATE_X,TRANSLATE_Y:c.TRANSLATE_Y}}},{key:"translate",value:function(c,s){this.graphModel.transformModel.translate(c,s)}},{key:"resetTranslate",value:function(){var c=this.graphModel.transformModel,s=c.TRANSLATE_X,f=c.TRANSLATE_Y;this.translate(-s,-f)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(c,s){s===void 0&&(s=c),this.graphModel.fitView(c,s)}},{key:"openEdgeAnimation",value:function(c){this.graphModel.openEdgeAnimation(c)}},{key:"closeEdgeAnimation",value:function(c){this.graphModel.closeEdgeAnimation(c)}},{key:"on",value:function(c,s){this.graphModel.eventCenter.on(c,s)}},{key:"off",value:function(c,s){this.graphModel.eventCenter.off(c,s)}},{key:"once",value:function(c,s){this.graphModel.eventCenter.once(c,s)}},{key:"emit",value:function(c,s){this.graphModel.eventCenter.emit(c,s)}},{key:"initContainer",value:function(c){var s=document.createElement("div");return s.style.position="relative",s.style.width="100%",s.style.height="100%",c.innerHTML="",c.appendChild(s),s}},{key:"installPlugins",value:function(){var c,s=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(c=this.plugins)!==null&&c!==void 0?c:e.extensions;h.forEach(function(y){var _=null,E=null;y[Jp]?(_=y.extension,E=y.props):_=y;var M=_.pluginName||_.name;f.indexOf(M)===-1&&s.installPlugin(_,E)})}},{key:"installPlugin",value:function(c,s){if(Zp(c)==="object"){var f=c.install,h=c.render;return f&&f.call(c,this,e),h&&this.components.push(h.bind(c)),void(this.extension[c.pluginName]=c)}var y=c,_=new y({lf:this,LogicFlow:e,options:this.options.pluginsOptions,props:s});_.render&&this.components.push(_.render.bind(_)),this.extension[y.pluginName]=_}},{key:"updateAttributes",value:function(c,s){this.graphModel.updateAttributes(c,s)}},{key:"createFakerNode",value:function(c){var s=this.graphModel.modelMap.get(c.type);if(s){var f=new s(Na(Na({},c),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(f),f}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(c){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(c)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(c,s){this.viewMap.set(c,s)}},{key:"renderRawData",value:function(c){this.graphModel.graphDataToModel(gn(c)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(re.j)(Object(re.g)(Dx,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ot.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(c=this.adapterIn(c)),this.renderRawData(c)}}],r=[{key:"use",value:function(c,s){var f,h,y=c.pluginName;y||(y=c.name);var _=(f=this.extensions.get(y))===null||f===void 0?void 0:f.extension;_&&_.destroy&&_.destroy(),this.extensions.set(y,(Ht(h={},Jp,Jp),Ht(h,"extension",c),Ht(h,"props",s),h))}}],n&&Qm(t.prototype,n),r&&Qm(t,r),e}();function br(e){return $e(e)}Ht(Qp,"extensions",new Map),l.default=Qp}])})})(vd,vd.exports);var Le=vd.exports;const qi=SA(Le);var nL=function(){function o(){globalThis._ids=this,this._ids=new Set}return o.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,i=a==="x"?l:l&3|8;return i.toString(16)});return u},o.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},o}(),rL=(globalThis==null?void 0:globalThis._ids)||new nL;function Zi(){return rL.next()}var b1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(o){b1(u,o);function u(a,l){var i=this;return a.id||(a.id="Event_"+Zi()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),i=o.call(this,a,l)||this,i}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedTargetRules=function(){var a=o.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(l),a},u.extendKey="StartEventModel",u})(Le.CircleNodeModel);(function(o){b1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.extendKey="StartEventNode",u})(Le.CircleNode);var _1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),ec=function(){return ec=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},ec.apply(this,arguments)};(function(o){_1(u,o);function u(a,l){var i=this;return a.id||(a.id="Event_"+Zi()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),i=o.call(this,a,l)||this,i}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedSourceRules=function(){var a=o.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(l),a},u.extendKey="EndEventModel",u})(Le.CircleNodeModel);(function(o){_1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},u.prototype.getShape=function(){var a=this.props.model,l=a.getNodeStyle(),i=a.x,p=a.y,d=a.r,v=o.prototype.getShape.call(this);return Le.h("g",{},v,Le.h("circle",ec(ec({},l),{cx:i,cy:p,r:d-5})))},u.extendKey="EndEventView",u})(Le.CircleNode);var O1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Ba=function(){return Ba=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Ba.apply(this,arguments)};(function(o){O1(u,o);function u(a,l){var i=this;return a.id||(a.id="Gateway_"+Zi()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),i=o.call(this,a,l)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return u.extendKey="ExclusiveGatewayModel",u})(Le.PolygonNodeModel);(function(o){O1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getShape=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.points,g=a.getNodeStyle();return Le.h("g",{transform:"matrix(1 0 0 1 "+(l-p/2)+" "+(i-d/2)+")"},Le.h("polygon",Ba(Ba({},g),{x:l,y:i,points:v})),Le.h("path",Ba({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},u.extendKey="ExclusiveGatewayNode",u})(Le.PolygonNode);var w1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),tc=function(){return tc=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},tc.apply(this,arguments)};(function(o){w1(u,o);function u(a,l){var i=this;return a.id||(a.id="Activity_"+Zi()),i=o.call(this,a,l)||this,i}return u.extendKey="UserTaskModel",u})(Le.RectNodeModel);(function(o){w1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.getNodeStyle();return Le.h("svg",{x:l-p/2+5,y:i-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Le.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},u.prototype.getShape=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.radius,g=a.getNodeStyle();return Le.h("g",{},[Le.h("rect",tc(tc({},g),{x:l-p/2,y:i-d/2,rx:v,ry:v,width:p,height:d})),this.getLabelShape()])},u.extendKey="UserTaskNode",u})(Le.RectNode);var x1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),gd=function(){return gd=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},gd.apply(this,arguments)};(function(o){x1(u,o);function u(a,l){var i=this;return a.id||(a.id="Activity_"+Zi()),i=o.call(this,a,l)||this,i}return u.extendKey="ServiceTaskModel",u})(Le.RectNodeModel);(function(o){x1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.getNodeStyle();return Le.h("svg",{x:l-p/2+5,y:i-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Le.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},u.prototype.getShape=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.radius,g=a.getNodeStyle();return Le.h("g",{},[Le.h("rect",gd({x:l-p/2,y:i-d/2,rx:v,ry:v,width:p,height:d},g)),this.getLabelShape()])},u.extendKey="ServiceTaskNode",u})(Le.RectNode);var E1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(o){E1(u,o);function u(a,l){var i=this;return a.id||(a.id="Flow_"+Zi()),i=o.call(this,a,l)||this,i}return u.extendKey="SequenceFlowModel",u})(Le.PolylineEdgeModel);(function(o){E1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.extendKey="SequenceFlowEdge",u})(Le.PolylineEdge);var Cb={width:40,height:40},Rb={width:40,height:40},Ib={width:40,height:40},Lb={width:100,height:80},Bb={width:100,height:80},oL=function(){function o(){globalThis._ids=this,this._ids=new Set}return o.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,i=a==="x"?l:l&3|8;return i.toString(16)});return u},o.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},o}(),iL=(globalThis==null?void 0:globalThis._ids)||new oL;function zb(){return iL.next()}function S1(o){return Object.prototype.toString.call(o)}function aL(o){return"  ".repeat(o)}function nc(o){var u=o;return S1(o)==="[object Object]"?(u={},Object.keys(o).forEach(function(a){var l=a;a.charAt(0)==="-"&&(l=a.substring(1)),u[l]=nc(o[a])})):Array.isArray(o)&&(u=[],o.forEach(function(a,l){u[l]=nc(a)})),u}function uL(o){var u=o;try{typeof u!="string"&&(u=JSON.parse(o))}catch{u=JSON.stringify(nc(o)).replace(/"/g,"'")}return u}var Ci=`	
`;function Xs(o,u,a){var l=aL(a),i="";if(u==="#text")return Ci+l+o;if(u==="#cdata-section")return Ci+l+"<![CDATA["+o+"]]>";if(u==="#comment")return Ci+l+"<!--"+o+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+uL(o)+'"';if(Array.isArray(o))o.forEach(function(g){i+=Xs(g,u,a+1)});else if(S1(o)==="[object Object]"){var p=Object.keys(o),d="",v="";i+=(a===0?"":Ci+l)+"<"+u,p.forEach(function(g){g.charAt(0)==="-"?d+=Xs(o[g],g,a+1):v+=Xs(o[g],g,a+1)}),i+=d+(v!==""?">"+v+(Ci+l)+"</"+u+">":" />")}else i+=Ci+l+("<"+u+">"+o.toString()+"</"+u+">");return i}function sL(o){var u="";for(var a in o)u+=Xs(o[a],a,0);return u}var Tn=function(){};Tn.ObjTree=function(){return this};Tn.ObjTree.VERSION="0.23";Tn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Tn.ObjTree.prototype.attr_prefix="-";Tn.ObjTree.prototype.parseXML=function(o){var u;if(window.DOMParser){var a=new DOMParser,l=a.parseFromString(o,"application/xml");if(!l)return;u=l.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(o),u=a.documentElement);if(u)return this.parseDOM(u)};Tn.ObjTree.prototype.parseHTTP=function(o,u,a){var l={};for(var i in u)l[i]=u[i];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),a){l.asynchronous=!0;var p=this,d=a,v=l.onComplete;l.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=p.parseDOM(x.responseXML.documentElement)),d(w,x),v&&v(x)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=o;var O=new HTTP.Request(l);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(o,l);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};Tn.ObjTree.prototype.parseDOM=function(o){if(o){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(o);if(this.__force_array[o.nodeName]&&(a=[a]),o.nodeType!=11){var l={};l[o.nodeName]=a,a=l}return a}};Tn.ObjTree.prototype.parseElement=function(o){if(o.nodeType!=7){if(o.nodeType==3||o.nodeType==4||o.nodeType==8){var u=o.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:o.nodeValue}var a=null,l={};if(o.attributes&&o.attributes.length){a={};for(var i=0;i<o.attributes.length;i++){var p=o.attributes[i].nodeName;if(typeof p=="string"){var d=o.attributes[i].nodeValue;try{d=JSON.parse(o.attributes[i].nodeValue.replace(/'/g,'"'))}catch{d=o.attributes[i].nodeValue}d&&(p=this.attr_prefix+p,typeof l[p]>"u"&&(l[p]=0),l[p]++,this.addNode(a,p,l[p],d))}}}if(o.childNodes&&o.childNodes.length){var v=!0;a&&(v=!1);for(var i=0;i<o.childNodes.length&&v;i++){var g=o.childNodes[i].nodeType;g==3||g==4||g==8||(v=!1)}if(v){a||(a="");for(var i=0;i<o.childNodes.length;i++)a+=o.childNodes[i].nodeValue}else{a||(a={});for(var i=0;i<o.childNodes.length;i++){var p=o.childNodes[i].nodeName;if(typeof p=="string"){var d=this.parseElement(o.childNodes[i]);d&&(typeof l[p]>"u"&&(l[p]=0),l[p]++,this.addNode(a,p,l[p],d))}}}}else a===null&&(a={});return a}};Tn.ObjTree.prototype.addNode=function(o,u,a,l){this.__force_array[u]?(a==1&&(o[u]=[]),o[u][o[u].length]=l):a==1?o[u]=l:a==2?o[u]=[o[u],l]:o[u][o[u].length]=l};Tn.ObjTree.prototype.writeXML=function(o){var u=this.hash_to_xml(null,o);return this.xmlDecl+u};Tn.ObjTree.prototype.hash_to_xml=function(o,u){var a=[],l=[];for(var i in u)if(u.hasOwnProperty(i)){var p=u[i];i.charAt(0)!=this.attr_prefix?typeof p>"u"||p==null?a[a.length]="<"+i+" />":typeof p=="object"&&p.constructor==Array?a[a.length]=this.array_to_xml(i,p):typeof p=="object"?a[a.length]=this.hash_to_xml(i,p):a[a.length]=this.scalar_to_xml(i,p):l[l.length]=" "+i.substring(1)+'="'+this.xml_escape(p)+'"'}var d=l.join(""),v=a.join("");return typeof o>"u"||o==null||(a.length>0?v.match(/\n/)?v="<"+o+d+`>
`+v+"</"+o+`>
`:v="<"+o+d+">"+v+"</"+o+`>
`:v="<"+o+d+` />
`),v};Tn.ObjTree.prototype.array_to_xml=function(o,u){for(var a=[],l=0;l<u.length;l++){var i=u[l];typeof i>"u"||i==null?a[a.length]="<"+o+" />":typeof i=="object"&&i.constructor==Array?a[a.length]=this.array_to_xml(o,i):typeof i=="object"?a[a.length]=this.hash_to_xml(o,i):a[a.length]=this.scalar_to_xml(o,i)}return a.join("")};Tn.ObjTree.prototype.scalar_to_xml=function(o,u){return o=="#text"?this.xml_escape(u):"<"+o+">"+this.xml_escape(u)+"</"+o+`>
`};Tn.ObjTree.prototype.xml_escape=function(o){return o.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var cL=function(o){return new Tn.ObjTree().parseXML(o)},lL=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),md=function(){return md=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},md.apply(this,arguments)},jc=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},Fr;(function(o){o.START="bpmn:startEvent",o.END="bpmn:endEvent",o.GATEWAY="bpmn:exclusiveGateway",o.USER="bpmn:userTask",o.SYSTEM="bpmn:serviceTask",o.FLOW="bpmn:sequenceFlow"})(Fr||(Fr={}));var j1=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Fb=["properties","startPoint","endPoint","pointsList"];function Gb(o){var u=o?Fb.concat(o):Fb;return function(a){function l(i){var p={};return typeof i=="string"?i:Array.isArray(i)?i.map(function(d){return l(d)}):(Object.entries(i).forEach(function(d){var v=jc(d,2),g=v[0],O=v[1];typeof O!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?p[g]=O:p["-"+g]=O:u.includes(g)?p["-"+g]=l(O):p[g]=l(O)}),p)}return l(a)}}function rc(o){var u={};return Object.entries(o).forEach(function(a){var l=jc(a,2),i=l[0],p=l[1];i.indexOf("-")===0?u[i.substring(1)]=nc(p):typeof p=="string"?u[i]=p:Object.prototype.toString.call(p)==="[object Object]"?u[i]=rc(p):Array.isArray(p)?u[i]=p.map(function(d){return rc(d)}):u[i]=p}),u}function fL(o,u,a){var l=new Map;u.nodes.forEach(function(p){var d,v={"-id":p.id};if(!((d=p.text)===null||d===void 0)&&d.value&&(v["-name"]=p.text.value),p.properties){var g=Gb(a)(p.properties);Object.assign(v,g)}l.set(p.id,v),o[p.type]?Array.isArray(o[p.type])?o[p.type].push(v):o[p.type]=[o[p.type],v]:o[p.type]=v});var i=u.edges.map(function(p){var d,v,g=l.get(p.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(p.id):g["bpmn:incoming"]=[g["bpmn:incoming"],p.id]:g["bpmn:incoming"]=p.id;var O={"-id":p.id,"-sourceRef":p.sourceNodeId,"-targetRef":p.targetNodeId};if(!((d=p.text)===null||d===void 0)&&d.value&&(O["-name"]=(v=p.text)===null||v===void 0?void 0:v.value),p.properties){var x=Gb(a)(p.properties);Object.assign(O,x)}return O});u.edges.forEach(function(p){var d=l.get(p.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(p.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],p.id]:d["bpmn:outgoing"]=p.id}),o[Fr.FLOW]=i}function pL(o,u){o["bpmndi:BPMNEdge"]=u.edges.map(function(a){var l,i=a.id,p=a.pointsList.map(function(v){var g=v.x,O=v.y;return{"-x":g,"-y":O}}),d={"-id":i+"_di","-bpmnElement":i,"di:waypoint":p};return!((l=a.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),d}),o["bpmndi:BPMNShape"]=u.nodes.map(function(a){var l,i=a.id,p=100,d=80,v=a.x,g=a.y,O=Lo.shapeConfigMap.get(a.type);O&&(p=O.width,d=O.height),v-=p/2,g-=d/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":v,"-y":g,"-width":p,"-height":d}};return!((l=a.text)===null||l===void 0)&&l.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}function dL(o){var u=[],a=[],l=o["bpmn:definitions"];if(l){var i=l["bpmn:process"];Object.keys(i).forEach(function(p){if(p.indexOf("bpmn:")===0){var d=i[p];if(p===Fr.FLOW){var v=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=yL(d,v)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];u=u.concat(hL(d,g,p))}}})}return{nodes:u,edges:a}}function hL(o,u,a){var l=[];if(Array.isArray(o))o.forEach(function(d){var v;Array.isArray(u)?v=u.find(function(O){return O["-bpmnElement"]===d["-id"]}):v=u;var g=Ub(v,a,d);l.push(g)});else{var i=void 0;Array.isArray(u)?i=u.find(function(d){return d["-bpmnElement"]===o["-id"]}):i=u;var p=Ub(i,a,o);l.push(p)}return l}function Ub(o,u,a){var l=Number(o["dc:Bounds"]["-x"]),i=Number(o["dc:Bounds"]["-y"]),p=a["-name"],d=Lo.shapeConfigMap.get(u);d&&(l+=d.width/2,i+=d.height/2);var v;Object.entries(a).forEach(function(w){var A=jc(w,2),j=A[0],T=A[1];j1.indexOf(j)===-1&&(v||(v={}),v[j]=T)}),v&&(v=rc(v));var g;if(p&&(g={x:l,y:i,value:p},o["bpmndi:BPMNLabel"]&&o["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=o["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(O["-x"])+Number(O["-width"])/2,g.y=Number(O["-y"])+Number(O["-height"])/2}var x={id:o["-bpmnElement"],type:u,x:l,y:i,properties:v};return g&&(x.text=g),x}function yL(o,u){var a=[];if(Array.isArray(o))o.forEach(function(i){var p;Array.isArray(u)?p=u.find(function(d){return d["-bpmnElement"]===i["-id"]}):p=u,a.push($b(p,i))});else{var l=void 0;Array.isArray(u)?l=u.find(function(i){return i["-bpmnElement"]===o["-id"]}):l=u,a.push($b(l,o))}return a}function $b(o,u){var a,l=u["-name"];if(l){var i=o["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;l.split(`
`).forEach(function(g){p<g.length&&(p=g.length)}),a={value:l,x:Number(i["-x"])+p*10/2,y:Number(i["-y"])+7}}var d;Object.entries(u).forEach(function(g){var O=jc(g,2),x=O[0],w=O[1];j1.indexOf(x)===-1&&(d||(d={}),d[x]=w)}),d&&(d=rc(d));var v={id:u["-id"],type:Fr.FLOW,pointsList:o["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:d};return a&&(v.text=a),v}var Lo=function(){function o(u){var a=this,l=u.lf;this.adapterOut=function(i,p){var d=md({},a.processAttributes);fL(d,i,p);var v={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};pL(v,i);var g=a.definitionAttributes;g["bpmn:process"]=d,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":v};var O={"bpmn:definitions":g};return O},this.adapterIn=function(i){if(i)return dL(i)},l.adapterIn=function(i){return a.adapterIn(i)},l.adapterOut=function(i,p){return a.adapterOut(i,p)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+zb()},this.definitionAttributes={"-id":"Definitions_"+zb(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return o.prototype.setCustomShape=function(u,a){o.shapeConfigMap.set(u,a)},o.pluginName="bpmn-adapter",o.shapeConfigMap=new Map,o}();Lo.shapeConfigMap.set(Fr.START,{width:Cb.width,height:Cb.height});Lo.shapeConfigMap.set(Fr.END,{width:Rb.width,height:Rb.height});Lo.shapeConfigMap.set(Fr.GATEWAY,{width:Ib.width,height:Ib.height});Lo.shapeConfigMap.set(Fr.SYSTEM,{width:Lb.width,height:Lb.height});Lo.shapeConfigMap.set(Fr.USER,{width:Bb.width,height:Bb.height});(function(o){lL(u,o);function u(a){var l=o.call(this,a)||this;l.adapterXmlIn=function(p){var d=cL(p);return l.adapterIn(d)},l.adapterXmlOut=function(p,d){var v=l.adapterOut(p,d);return sL(v)};var i=a.lf;return i.adapterIn=l.adapterXmlIn,i.adapterOut=l.adapterXmlOut,l}return u.pluginName="bpmnXmlAdapter",u})(Lo);var vL=function(){function o(){globalThis._ids=this,this._ids=new Set}return o.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var l=Math.random()*16|0,i=a==="x"?l:l&3|8;return i.toString(16)});return u},o.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},o}(),gL=(globalThis==null?void 0:globalThis._ids)||new vL;function mL(){return gL.next()}Le.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Le.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Le.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Le.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Le.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var ih,un,A1,Jo,Wb,P1,bd,Ys={},M1=[],bL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ah=Array.isArray;function To(o,u){for(var a in u)o[a]=u[a];return o}function T1(o){var u=o.parentNode;u&&u.removeChild(o)}function za(o,u,a){var l,i,p,d={};for(p in u)p=="key"?l=u[p]:p=="ref"?i=u[p]:d[p]=u[p];if(arguments.length>2&&(d.children=arguments.length>3?ih.call(arguments,2):a),typeof o=="function"&&o.defaultProps!=null)for(p in o.defaultProps)d[p]===void 0&&(d[p]=o.defaultProps[p]);return Vs(o,d,l,i,null)}function Vs(o,u,a,l,i){var p={type:o,props:u,key:a,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++A1};return i==null&&un.vnode!=null&&un.vnode(p),p}function uh(o){return o.children}function zi(o,u){this.props=o,this.context=u}function $a(o,u){if(u==null)return o.__?$a(o.__,o.__.__k.indexOf(o)+1):null;for(var a;u<o.__k.length;u++)if((a=o.__k[u])!=null&&a.__e!=null)return a.__e;return typeof o.type=="function"?$a(o):null}function k1(o){var u,a;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,u=0;u<o.__k.length;u++)if((a=o.__k[u])!=null&&a.__e!=null){o.__e=o.__c.base=a.__e;break}return k1(o)}}function Hb(o){(!o.__d&&(o.__d=!0)&&Jo.push(o)&&!oc.__r++||Wb!==un.debounceRendering)&&((Wb=un.debounceRendering)||P1)(oc)}function oc(){var o,u,a,l,i,p,d,v,g;for(Jo.sort(bd);o=Jo.shift();)o.__d&&(u=Jo.length,l=void 0,i=void 0,p=void 0,v=(d=(a=o).__v).__e,(g=a.__P)&&(l=[],i=[],(p=To({},d)).__v=d.__v+1,R1(g,d,p,a.__n,g.ownerSVGElement!==void 0,d.__h!=null?[v]:null,l,v??$a(d),d.__h,i),wL(l,d,i),d.__e!=v&&k1(d)),Jo.length>u&&Jo.sort(bd));oc.__r=0}function D1(o,u,a,l,i,p,d,v,g,O,x){var w,A,j,T,P,k,I,L,Y,Q=0,X=l&&l.__k||M1,V=X.length,Z=V,F=u.length;for(a.__k=[],w=0;w<F;w++)(T=a.__k[w]=(T=u[w])==null||typeof T=="boolean"||typeof T=="function"?null:typeof T=="string"||typeof T=="number"||typeof T=="bigint"?Vs(null,T,null,null,T):ah(T)?Vs(uh,{children:T},null,null,null):T.__b>0?Vs(T.type,T.props,T.key,T.ref?T.ref:null,T.__v):T)!=null?(T.__=a,T.__b=a.__b+1,(L=_L(T,X,I=w+Q,Z))===-1?j=Ys:(j=X[L]||Ys,X[L]=void 0,Z--),R1(o,T,j,i,p,d,v,g,O,x),P=T.__e,(A=T.ref)&&j.ref!=A&&(j.ref&&sh(j.ref,null,T),x.push(A,T.__c||P,T)),P!=null&&(k==null&&(k=P),(Y=j===Ys||j.__v===null)?L==-1&&Q--:L!==I&&(L===I+1?Q++:L>I?Z>F-I?Q+=L-I:Q--:Q=L<I&&L==I-1?L-I:0),I=w+Q,typeof T.type!="function"||L===I&&j.__k!==T.__k?typeof T.type=="function"||L===I&&!Y?T.__d!==void 0?(g=T.__d,T.__d=void 0):g=P.nextSibling:g=C1(o,P,g):g=N1(T,g,o),typeof a.type=="function"&&(a.__d=g))):(j=X[w])&&j.key==null&&j.__e&&(j.__e==g&&(g=$a(j)),_d(j,j,!1),X[w]=null);for(a.__e=k,w=V;w--;)X[w]!=null&&(typeof a.type=="function"&&X[w].__e!=null&&X[w].__e==a.__d&&(a.__d=X[w].__e.nextSibling),_d(X[w],X[w]))}function N1(o,u,a){for(var l,i=o.__k,p=0;i&&p<i.length;p++)(l=i[p])&&(l.__=o,u=typeof l.type=="function"?N1(l,u,a):C1(a,l.__e,u));return u}function C1(o,u,a){return a==null||a.parentNode!==o?o.insertBefore(u,null):u==a&&u.parentNode!=null||o.insertBefore(u,a),u.nextSibling}function _L(o,u,a,l){var i=o.key,p=o.type,d=a-1,v=a+1,g=u[a];if(g===null||g&&i==g.key&&p===g.type)return a;if(l>(g!=null?1:0))for(;d>=0||v<u.length;){if(d>=0){if((g=u[d])&&i==g.key&&p===g.type)return d;d--}if(v<u.length){if((g=u[v])&&i==g.key&&p===g.type)return v;v++}}return-1}function OL(o,u,a,l,i){var p;for(p in a)p==="children"||p==="key"||p in u||ic(o,p,null,a[p],l);for(p in u)i&&typeof u[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||a[p]===u[p]||ic(o,p,u[p],a[p],l)}function Xb(o,u,a){u[0]==="-"?o.setProperty(u,a??""):o[u]=a==null?"":typeof a!="number"||bL.test(u)?a:a+"px"}function ic(o,u,a,l,i){var p;e:if(u==="style")if(typeof a=="string")o.style.cssText=a;else{if(typeof l=="string"&&(o.style.cssText=l=""),l)for(u in l)a&&u in a||Xb(o.style,u,"");if(a)for(u in a)l&&a[u]===l[u]||Xb(o.style,u,a[u])}else if(u[0]==="o"&&u[1]==="n")p=u!==(u=u.replace(/(PointerCapture)$|Capture$/,"$1")),u=u.toLowerCase()in o?u.toLowerCase().slice(2):u.slice(2),o.l||(o.l={}),o.l[u+p]=a,a?l||o.addEventListener(u,p?Vb:Yb,p):o.removeEventListener(u,p?Vb:Yb,p);else if(u!=="dangerouslySetInnerHTML"){if(i)u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!=="width"&&u!=="height"&&u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u!=="rowSpan"&&u!=="colSpan"&&u in o)try{o[u]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&u[4]!=="-"?o.removeAttribute(u):o.setAttribute(u,a))}}function Yb(o){return this.l[o.type+!1](un.event?un.event(o):o)}function Vb(o){return this.l[o.type+!0](un.event?un.event(o):o)}function R1(o,u,a,l,i,p,d,v,g,O){var x,w,A,j,T,P,k,I,L,Y,Q,X,V,Z,F,R=u.type;if(u.constructor!==void 0)return null;a.__h!=null&&(g=a.__h,v=u.__e=a.__e,u.__h=null,p=[v]),(x=un.__b)&&x(u);e:if(typeof R=="function")try{if(I=u.props,L=(x=R.contextType)&&l[x.__c],Y=x?L?L.props.value:x.__:l,a.__c?k=(w=u.__c=a.__c).__=w.__E:("prototype"in R&&R.prototype.render?u.__c=w=new R(I,Y):(u.__c=w=new zi(I,Y),w.constructor=R,w.render=EL),L&&L.sub(w),w.props=I,w.state||(w.state={}),w.context=Y,w.__n=l,A=w.__d=!0,w.__h=[],w._sb=[]),w.__s==null&&(w.__s=w.state),R.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=To({},w.__s)),To(w.__s,R.getDerivedStateFromProps(I,w.__s))),j=w.props,T=w.state,w.__v=u,A)R.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(R.getDerivedStateFromProps==null&&I!==j&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(I,Y),!w.__e&&(w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(I,w.__s,Y)===!1||u.__v===a.__v)){for(u.__v!==a.__v&&(w.props=I,w.state=w.__s,w.__d=!1),u.__e=a.__e,u.__k=a.__k,u.__k.forEach(function(B){B&&(B.__=u)}),Q=0;Q<w._sb.length;Q++)w.__h.push(w._sb[Q]);w._sb=[],w.__h.length&&d.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(I,w.__s,Y),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(j,T,P)})}if(w.context=Y,w.props=I,w.__P=o,w.__e=!1,X=un.__r,V=0,"prototype"in R&&R.prototype.render){for(w.state=w.__s,w.__d=!1,X&&X(u),x=w.render(w.props,w.state,w.context),Z=0;Z<w._sb.length;Z++)w.__h.push(w._sb[Z]);w._sb=[]}else do w.__d=!1,X&&X(u),x=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++V<25);w.state=w.__s,w.getChildContext!=null&&(l=To(To({},l),w.getChildContext())),A||w.getSnapshotBeforeUpdate==null||(P=w.getSnapshotBeforeUpdate(j,T)),D1(o,ah(F=x!=null&&x.type===uh&&x.key==null?x.props.children:x)?F:[F],u,a,l,i,p,d,v,g,O),w.base=u.__e,u.__h=null,w.__h.length&&d.push(w),k&&(w.__E=w.__=null)}catch(B){u.__v=null,(g||p!=null)&&(u.__e=v,u.__h=!!g,p[p.indexOf(v)]=null),un.__e(B,u,a)}else p==null&&u.__v===a.__v?(u.__k=a.__k,u.__e=a.__e):u.__e=xL(a.__e,u,a,l,i,p,d,g,O);(x=un.diffed)&&x(u)}function wL(o,u,a){for(var l=0;l<a.length;l++)sh(a[l],a[++l],a[++l]);un.__c&&un.__c(u,o),o.some(function(i){try{o=i.__h,i.__h=[],o.some(function(p){p.call(i)})}catch(p){un.__e(p,i.__v)}})}function xL(o,u,a,l,i,p,d,v,g){var O,x,w,A=a.props,j=u.props,T=u.type,P=0;if(T==="svg"&&(i=!0),p!=null){for(;P<p.length;P++)if((O=p[P])&&"setAttribute"in O==!!T&&(T?O.localName===T:O.nodeType===3)){o=O,p[P]=null;break}}if(o==null){if(T===null)return document.createTextNode(j);o=i?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,j.is&&j),p=null,v=!1}if(T===null)A===j||v&&o.data===j||(o.data=j);else{if(p=p&&ih.call(o.childNodes),x=(A=a.props||Ys).dangerouslySetInnerHTML,w=j.dangerouslySetInnerHTML,!v){if(p!=null)for(A={},P=0;P<o.attributes.length;P++)A[o.attributes[P].name]=o.attributes[P].value;(w||x)&&(w&&(x&&w.__html==x.__html||w.__html===o.innerHTML)||(o.innerHTML=w&&w.__html||""))}if(OL(o,j,A,i,v),w)u.__k=[];else if(D1(o,ah(P=u.props.children)?P:[P],u,a,l,i&&T!=="foreignObject",p,d,p?p[0]:a.__k&&$a(a,0),v,g),p!=null)for(P=p.length;P--;)p[P]!=null&&T1(p[P]);v||("value"in j&&(P=j.value)!==void 0&&(P!==o.value||T==="progress"&&!P||T==="option"&&P!==A.value)&&ic(o,"value",P,A.value,!1),"checked"in j&&(P=j.checked)!==void 0&&P!==o.checked&&ic(o,"checked",P,A.checked,!1))}return o}function sh(o,u,a){try{typeof o=="function"?o(u):o.current=u}catch(l){un.__e(l,a)}}function _d(o,u,a){var l,i;if(un.unmount&&un.unmount(o),(l=o.ref)&&(l.current&&l.current!==o.__e||sh(l,null,u)),(l=o.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(p){un.__e(p,u)}l.base=l.__P=null,o.__c=void 0}if(l=o.__k)for(i=0;i<l.length;i++)l[i]&&_d(l[i],u,a||typeof o.type!="function");a||o.__e==null||T1(o.__e),o.__=o.__e=o.__d=void 0}function EL(o,u,a){return this.constructor(o,a)}ih=M1.slice,un={__e:function(o,u,a,l){for(var i,p,d;u=u.__;)if((i=u.__c)&&!i.__)try{if((p=i.constructor)&&p.getDerivedStateFromError!=null&&(i.setState(p.getDerivedStateFromError(o)),d=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(o,l||{}),d=i.__d),d)return i.__E=i}catch(v){o=v}throw o}},A1=0,zi.prototype.setState=function(o,u){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=To({},this.state),typeof o=="function"&&(o=o(To({},a),this.props)),o&&To(a,o),o!=null&&this.__v&&(u&&this._sb.push(u),Hb(this))},zi.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),Hb(this))},zi.prototype.render=uh,Jo=[],P1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bd=function(o,u){return o.__v.__b-u.__v.__b},oc.__r=0;var Fa=function(){return Fa=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Fa.apply(this,arguments)};function ch(o){var u=o.x,a=o.y,l=o.width,i=o.height,p=o.radius,d=o.className,v=u-l/2,g=a-i/2,O=Fa(Fa({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},o),{x:v,y:g});return Le.h("rect",Fa({},O))}ch.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ii;(function(o){o.NODE="node",o.CIRCLE_NODE="circle-node",o.POLYGON_NODE="polygon-node",o.RECT_NODE="rect-node",o.HTML_NODE="html-node",o.TEXT_NODE="text-node",o.ELLIPSE_NODE="ellipse-node",o.DIAMOND_NODE="diamond-node",o.EDGE="edge",o.LINE_EDGE="line-edge",o.POLYLINE_EDGE="polyline-edge",o.BEZIER_EDGE="bezier-edge",o.GRAPH="graph"})(Ii||(Ii={}));var SL=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Qo=function(){return Qo=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Qo.apply(this,arguments)},jL=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},AL=Le.LogicFlowUtil.StepDrag,PL=function(o){SL(u,o);function u(a){var l=o.call(this)||this;return l.updatePosition=function(i){var p=i.deltaX,d=i.deltaY,v=l.nodeModel,g=v.x,O=v.y;l.nodeModel.x=g+p/2,l.nodeModel.y=O+d/2,l.nodeModel.moveText(p/2,d/2)},l.getResize=function(i){var p=i.index,d=i.deltaX,v=i.deltaY,g=i.width,O=i.height,x=i.PCTResizeInfo,w=i.pct,A=w===void 0?1:w,j={width:g,height:O,deltaX:d,deltaY:v};if(x){var T=4,P=0,k=0;switch(p){case 0:k=(d*-1-v)/T;break;case 1:k=(d-v)/T;break;case 2:k=(d+v)/T;break;case 3:k=(d*-1+v)/T;break}k!==0&&(P=Math.round(k/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+P,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.hightPCT=Math.max(Math.min(x.ResizePCT.hightPCT+P,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var I=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),L=Math.round(x.ResizePCT.hightPCT*x.ResizeBasis.basisHeight/100);switch(p){case 0:d=g-I,v=O-L;break;case 1:d=I-g,v=O-L;break;case 2:d=I-g,v=L-O;break;case 3:d=g-I,v=L-O;break}return j.width=I,j.height=L,j.deltaX=d/A,j.deltaY=v/A,j}switch(p){case 0:j.width=g-d*A,j.height=O-v*A;break;case 1:j.width=g+d*A,j.height=O-v*A;break;case 2:j.width=g+d*A,j.height=O+v*A;break;case 3:j.width=g-d*A,j.height=O+v*A;break}return j},l.updateEdgePointByAnchors=function(){var i=l.nodeModel,p=i.id,d=i.anchors,v=l.getNodeEdges(p);v.sourceEdges.forEach(function(g){var O=d.find(function(x){return x.id===g.sourceAnchorId});g.updateStartPoint({x:O.x,y:O.y})}),v.targetEdges.forEach(function(g){var O=d.find(function(x){return x.id===g.targetAnchorId});g.updateEndPoint({x:O.x,y:O.y})})},l.updateRect=function(i){var p=i.deltaX,d=i.deltaY,v=l.nodeModel,g=v.id,O=v.x,x=v.y,w=v.width,A=v.height,j=v.radius,T=v.PCTResizeInfo,P=l.index,k=l.getResize({index:P,deltaX:p,deltaY:d,width:w,height:A,PCTResizeInfo:T,pct:1}),I=l.nodeModel,L=I.minWidth,Y=I.minHeight,Q=I.maxWidth,X=I.maxHeight;if(k.width<L||k.width>Q||k.height<Y||k.height>X){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),l.nodeModel.width=k.width,l.nodeModel.height=k.height,l.nodeModel.setProperties({nodeSize:{width:k.width,height:k.height}}),l.getNodeEdges(g);var V={x:O,y:x,width:w,height:A,radius:j},Z={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:j};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:V,afterNode:Z})},l.updateEllipse=function(i){var p=i.deltaX,d=i.deltaY,v=l.nodeModel,g=v.id,O=v.rx,x=v.ry,w=v.x,A=v.y,j=v.PCTResizeInfo,T=l.index,P=O,k=x,I=l.getResize({index:T,deltaX:p,deltaY:d,width:P,height:k,PCTResizeInfo:j,pct:1/2}),L=l.nodeModel,Y=L.minWidth,Q=L.minHeight,X=L.maxWidth,V=L.maxHeight;if(I.width<Y/2||I.width>X/2||I.height<Q/2||I.height>V/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),l.nodeModel.rx=I.width,l.nodeModel.ry=I.height,l.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}}),l.getNodeEdges(g);var Z={x:w,y:A},F={rx:I.width,ry:I.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:Qo(Qo({},Z),{rx:O,ry:x}),afterNode:F})},l.updateDiamond=function(i){var p=i.deltaX,d=i.deltaY,v=l.nodeModel;v.id;var g=v.rx,O=v.ry,x=v.x,w=v.y,A=v.PCTResizeInfo,j=l.index,T=g,P=O,k=l.getResize({index:j,deltaX:p,deltaY:d,width:T,height:P,PCTResizeInfo:A,pct:1/2}),I=l.nodeModel,L=I.minWidth,Y=I.minHeight,Q=I.maxWidth,X=I.maxHeight;if(k.width<L/2||k.width>Q/2||k.height<Y/2||k.height>X/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:k.deltaX,deltaY:k.deltaY}),l.nodeModel.rx=k.width,l.nodeModel.ry=k.height,l.nodeModel.setProperties({nodeSize:{rx:k.width,ry:k.height}});var V={x,y:w,rx:g,ry:O},Z={rx:k.width,ry:k.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:V,afterNode:Z})},l.eventEmit=function(i){var p=i.beforeNode,d=i.afterNode,v=l.nodeModel,g=v.id,O=v.modelType,x=v.type,w=Qo({id:g,modelType:O,type:x},p),A=Qo({id:g,modelType:O,type:x},d);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:w,newNodeSize:A})},l.onDragging=function(i){var p,d=i.deltaX,v=i.deltaY,g=l.graphModel.transformModel,O=l.nodeModel.modelType;p=jL(g.fixDeltaXY(d,v),2),d=p[0],v=p[1],O===Ii.RECT_NODE||O===Ii.HTML_NODE?l.updateRect({deltaX:d,deltaY:v}):O===Ii.ELLIPSE_NODE?l.updateEllipse({deltaX:d,deltaY:v}):O===Ii.DIAMOND_NODE&&l.updateDiamond({deltaX:d,deltaY:v})},l.onDragEnd=function(){l.updateEdgePointByAnchors();var i=l.graphModel.gridSize,p=i===void 0?1:i,d=p*Math.round(l.nodeModel.x/p),v=p*Math.round(l.nodeModel.y/p);l.nodeModel.moveTo(d,v)},l.index=a.index,l.nodeModel=a.model,l.graphModel=a.graphModel,l.state={},l.dragHandler=new AL({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return u.prototype.getNodeEdges=function(a){for(var l=this.graphModel,i=l.edges,p=[],d=[],v=0;v<i.length;v++){var g=i[v];g.sourceNodeId===a?p.push(g):i[v].targetNodeId===a&&d.push(g)}return{sourceEdges:p,targetEdges:d}},u.prototype.render=function(){var a=this.props,l=a.x,i=a.y,p=a.index,d=a.model,v=d.getControlPointStyle();return za("g",{className:"lf-resize-control-"+p},za(ch,Qo({className:"lf-node-control"},{x:l,y:i},v,{onMouseDown:this.dragHandler.handleMouseDown})))},u}(zi),ML=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),ac=function(){return ac=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},ac.apply(this,arguments)},Ac=function(o){ML(u,o);function u(){var a=o.call(this)||this;return a.state={},a}return u.prototype.getResizeControl=function(){var a=this.props,l=a.model,i=a.graphModel,p=l.x,d=l.y,v=l.width,g=l.height,O={minX:p-v/2,minY:d-g/2,maxX:p+v/2,maxY:d+g/2},x=O.minX,w=O.minY,A=O.maxX,j=O.maxY,T=[{x,y:w},{x:A,y:w},{x:A,y:j},{x,y:j}];return T.map(function(P,k){return za(PL,ac({index:k},P,{model:l,graphModel:i}))})},u.prototype.getGroupSolid=function(){var a=this.props.model,l=a.x,i=a.y,p=a.width,d=a.height,v=a.getResizeOutlineStyle();return za(ch,ac({fill:"none"},v,{x:l,y:i,width:p,height:d}))},u.prototype.render=function(){return za("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},u}(zi),I1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),TL=function(o){I1(u,o);function u(a,l){var i=o.call(this,a,l)||this,p=i.properties.nodeSize;return p&&(i.width=p.width,i.height=p.height),i}return u.prototype.initNodeData=function(a){o.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=o.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.resize=function(a,l){console.log(a,l)},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:i,ScaleLimit:p}}else delete this.PCTResizeInfo},u}(Le.RectNodeModel),kL=function(o){I1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,l=a.model,i=a.graphModel;return Le.h(Ac,{model:l,graphModel:i})},u.prototype.getResizeShape=function(){return o.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,i=a.graphModel.editConfigModel.isSilentMode;return Le.h("g",null,this.getResizeShape(),l&&!i?this.getControlGroup():"")},u}(Le.RectNode),Pc={type:"rect",view:kL,model:TL},L1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(o){L1(u,o);function u(a,l){var i=o.call(this,a,l)||this,p=i.properties.nodeSize;return p&&(i.rx=p.rx,i.ry=p.ry),i}return u.prototype.initNodeData=function(a){o.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=o.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:i,ScaleLimit:p}}else delete this.PCTResizeInfo},u})(Le.EllipseNodeModel);(function(o){L1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,l=a.model,i=a.graphModel;return Le.h(Ac,{model:l,graphModel:i})},u.prototype.getResizeShape=function(){return o.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,l=a.model,i=a.graphModel.editConfigModel.isSilentMode;return Le.h("g",null,this.getResizeShape(),l.isSelected&&!i?this.getControlGroup():"")},u})(Le.EllipseNode);var Od=function(){return Od=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Od.apply(this,arguments)};function DL(o){var u=o.fillOpacity,a=u===void 0?1:u,l=o.strokeWidth,i=l===void 0?1:l,p=o.strokeOpacity,d=p===void 0?1:p,v=o.fill,g=v===void 0?"transparent":v,O=o.stroke,x=O===void 0?"#000":O,w=o.points,A=o.className,j=A===void 0?"lf-basic-shape":A,T={fill:g,fillOpacity:a,strokeWidth:i,stroke:x,strokeOpacity:d,points:"",className:j};return T.points=w.map(function(P){return P.join(",")}).join(" "),Le.h("polygon",Od({},T))}var B1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),wd=function(){return wd=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},wd.apply(this,arguments)};(function(o){B1(u,o);function u(a,l){var i=o.call(this,a,l)||this,p=i.properties.nodeSize;return p&&(i.rx=p.rx,i.ry=p.ry),i}return u.prototype.initNodeData=function(a){o.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},u.prototype.getOutlineStyle=function(){var a=o.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},p={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:i,ScaleLimit:p}}else delete this.PCTResizeInfo},u})(Le.DiamondNodeModel);(function(o){B1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,l=a.model,i=a.graphModel;return Le.h(Ac,{model:l,graphModel:i})},u.prototype.getResizeShape=function(){var a=this.props.model,l=a.points,i=a.getNodeStyle();return Le.h("g",null,Le.h(DL,wd({},i,{points:l})))},u.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,i=a.graphModel.editConfigModel.isSilentMode;return Le.h("g",null,this.getResizeShape(),l&&!i?this.getControlGroup():"")},u})(Le.DiamondNode);var z1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}();(function(o){z1(u,o);function u(a,l){var i=o.call(this,a,l)||this,p=i.properties.nodeSize;return p&&(i.width=p.width,i.height=p.height),i}return u.prototype.initNodeData=function(a){o.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=o.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var l={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},p={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:i,ScaleLimit:p}}else delete this.PCTResizeInfo},u})(Le.HtmlNodeModel);(function(o){z1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,l=a.model,i=a.graphModel;return Le.h(Ac,{model:l,graphModel:i})},u.prototype.getResizeShape=function(){return o.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,l=a.model.isSelected,i=a.graphModel.editConfigModel.isSilentMode;return Le.h("g",null,this.getResizeShape(),l&&!i?this.getControlGroup():"")},u})(Le.HtmlNode);var F1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),uc=function(){return uc=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},uc.apply(this,arguments)},NL=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},CL=function(){for(var o=[],u=0;u<arguments.length;u++)o=o.concat(NL(arguments[u]));return o},Kb=500,qb=300,RL=-1e4;(function(o){F1(u,o);function u(){var a=o!==null&&o.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=Kb,a.unfoldedHight=qb,a.childrenLastFoldStatus={},a}return u.prototype.initNodeData=function(a){var l=this;o.prototype.initNodeData.call(this,a);var i=[];Array.isArray(a.children)&&(i=a.children),this.children=new Set(i),this.width=Kb,this.height=qb,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=RL,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},u.prototype.getResizeOutlineStyle=function(){var a=o.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},u.prototype.foldGroup=function(a){var l=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(p){var d=l.graphModel.getElement(p),v=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(a),d.isGroup&&!a){var g=l.childrenLastFoldStatus[p];g!==void 0&&g!==d.isFolded&&d.foldGroup(g)}l.childrenLastFoldStatus[p]=v,d.visible=!a,i=i.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(a,i)}},u.prototype.getAnchorStyle=function(a){var l=o.prototype.getAnchorStyle.call(this,a);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},u.prototype.foldEdge=function(a,l){var i=this;l.forEach(function(p,d){var v=p.id,g=p.sourceNodeId,O=p.targetNodeId,x=p.startPoint,w=p.endPoint,A=p.type,j=p.text,T=p.getProperties(),P={id:v+"__"+d,sourceNodeId:g,targetNodeId:O,startPoint:x,endPoint:w,type:A,properties:T,text:j==null?void 0:j.value};p.virtual&&i.graphModel.deleteEdgeById(p.id);var k=i.graphModel.group.getNodeGroup(O);k||(k=i.graphModel.getNodeModelById(O));var I=i.graphModel.group.getNodeGroup(g);I||(I=i.graphModel.getNodeModelById(g)),a&&p.visible!==!1&&(i.children.has(g)||i.id===g?(P.startPoint=void 0,P.sourceNodeId=i.id):(P.endPoint=void 0,P.targetNodeId=i.id),(k.id!==i.id||I.id!==i.id)&&i.createVirtualEdge(P),p.visible=!1),!a&&p.visible===!1&&(k&&k.isGroup&&k.isFolded?(P.targetNodeId=k.id,P.endPoint=void 0,i.createVirtualEdge(P)):I&&I.isGroup&&I.isFolded?(P.sourceNodeId=I.id,P.startPoint=void 0,i.createVirtualEdge(P)):p.visible=!0)})},u.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var l=this.graphModel.addEdge(a);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},u.prototype.isInRange=function(a){var l=a.x1,i=a.y1,p=a.x2,d=a.y2;return l>=this.x-this.width/2&&p<=this.x+this.width/2&&i>=this.y-this.height/2&&d<=this.y+this.height/2},u.prototype.isAllowMoveTo=function(a){var l=a.x1,i=a.y1,p=a.x2,d=a.y2;return{x:l>=this.x-this.width/2&&p<=this.x+this.width/2,y:i>=this.y-this.height/2&&d<=this.y+this.height/2}},u.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},u.prototype.addChild=function(a){this.children.add(a)},u.prototype.removeChild=function(a){this.children.delete(a)},u.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},u.prototype.getData=function(){var a=this,l=o.prototype.getData.call(this);l.children=[],this.children.forEach(function(p){var d=a.graphModel.getNodeModelById(p);d&&!d.virtual&&l.children.push(p)});var i=l.properties;return delete i.groupAddable,delete i.isFolded,l},u.prototype.getHistoryData=function(){var a=o.prototype.getData.call(this);a.children=CL(this.children),a.isGroup=!0;var l=a.properties;return delete l.groupAddable,l.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},u.prototype.isAllowAppendIn=function(a){return!0},u.prototype.toBack=function(){this.zIndex--},u})(Pc.model);(function(o){F1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props.model,l=a.resizable,i=a.properties;return l&&!i.isFolded?o.prototype.getControlGroup.call(this):null},u.prototype.getAddableShape=function(){var a=this.props.model,l=a.width,i=a.height,p=a.x,d=a.y,v=a.radius,g=a.properties;if(!g.groupAddable)return null;var O=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),w=l+O+8,A=i+O+8;return Le.h("rect",uc(uc({},x),{width:w,height:A,x:p-w/2,y:d-A/2,rx:v,ry:v}))},u.prototype.getFoldIcon=function(){var a=this.props.model,l=a.x-a.width/2+5,i=a.y-a.height/2+5;if(!a.foldable)return null;var p=Le.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(l+3)+","+(i+6)+" "+(l+11)+","+(i+6)+" M"+(l+7)+","+(i+2)+" "+(l+7)+","+(i+10):"M "+(l+3)+","+(i+6)+" "+(l+11)+","+(i+6)+" "});return Le.h("g",{},[Le.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),p])},u.prototype.getResizeShape=function(){return Le.h("g",{},[this.getAddableShape(),o.prototype.getResizeShape.call(this),this.getFoldIcon()])},u})(Pc.view);var Zb=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Ga=function(){return Ga=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Ga.apply(this,arguments)};function IL(o){var u=function(l){Zb(i,l);function i(p,d){var v=this;p.id||(p.id="Flow_"+mL());var g=Ga(Ga(Ga({},o||{}),p.properties),{isDefaultFlow:!1});return p.properties=g,v=l.call(this,p,d)||this,v}return i.extendKey="SequenceFlowModel",i}(Le.PolylineEdgeModel),a=function(l){Zb(i,l);function i(){return l!==null&&l.apply(this,arguments)||this}return i.prototype.getStartArrow=function(){var p=this.props.model,d=p.properties.isDefaultFlow;return d?Le.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Le.h("path",{d:""})},i.extendKey="SequenceFlowEdge",i}(Le.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:u}}IL();var Jb={width:40,height:40},Qb={width:40,height:40},e0={width:100,height:80},sc={width:100,height:80},t0={width:100,height:80},n0={width:100,height:80},r0={width:100,height:80},o0={width:100,height:80},i0={width:100,height:80},a0={width:100,height:80},kn=function(){};kn.ObjTree=function(){return this};kn.ObjTree.VERSION="0.23";kn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;kn.ObjTree.prototype.attr_prefix="-";kn.ObjTree.prototype.parseXML=function(o){var u;if(window.DOMParser){var a=new DOMParser,l=a.parseFromString(o,"application/xml");if(!l)return;u=l.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(o),u=a.documentElement);if(u){var i=this.parseDOM(u);return i}};kn.ObjTree.prototype.parseHTTP=function(o,u,a){var l={};for(var i in u)l[i]=u[i];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),a){l.asynchronous=!0;var p=this,d=a,v=l.onComplete;l.onComplete=function(x){var w;x&&x.responseXML&&x.responseXML.documentElement&&(w=p.parseDOM(x.responseXML.documentElement)),d(w,x),v&&v(x)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=o;var O=new HTTP.Request(l);O&&(g=O.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var O=new Ajax.Request(o,l);O&&(g=O.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};kn.ObjTree.prototype.parseDOM=function(o){if(o){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(o);if(this.__force_array[o.nodeName]&&(a=[a]),o.nodeType!==11){var l={};l[o.nodeName]=a,a=l}return a}};kn.ObjTree.prototype.parseElement=function(o){if(o.nodeType!==7){if(o.nodeType===3||o.nodeType===4||o.nodeType===8){var u=o.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:o.nodeValue}var a=null,l={};if(o.attributes&&o.attributes.length){a={};for(var i=0;i<o.attributes.length;i++){var p=o.attributes[i].nodeName;if(typeof p=="string"){var d=o.attributes[i].nodeValue;try{d=JSON.parse(o.attributes[i].nodeValue.replace(/'/g,'"'))}catch{d=o.attributes[i].nodeValue}d!=null&&(p=this.attr_prefix+p,typeof l[p]>"u"&&(l[p]=0),l[p]++,this.addNode(a,p,l[p],d))}}}if(o.childNodes&&o.childNodes.length){var v=!0;a&&(v=!1);for(var i=0;i<o.childNodes.length&&v;i++){var g=o.childNodes[i].nodeType;g===3||g===4||g===8||(v=!1)}if(v){a||(a="");for(var i=0;i<o.childNodes.length;i++)a+=o.childNodes[i].nodeValue}else{a||(a={});for(var i=0;i<o.childNodes.length;i++){var p=o.childNodes[i].nodeName;if(typeof p=="string"){var d=this.parseElement(o.childNodes[i]);d&&(typeof l[p]>"u"&&(l[p]=0),l[p]++,this.addNode(a,p,l[p],d))}}}}else a===null&&(a={});return a}};kn.ObjTree.prototype.addNode=function(o,u,a,l){this.__force_array[u]?(a===1&&(o[u]=[]),o[u][o[u].length]=l):a===1?o[u]=l:a===2?o[u]=[o[u],l]:o[u][o[u].length]=l};kn.ObjTree.prototype.writeXML=function(o){var u=this.hash_to_xml(null,o);return this.xmlDecl+u};kn.ObjTree.prototype.hash_to_xml=function(o,u){var a=[],l=[];for(var i in u)if(u!=null&&u.hasOwnProperty(i)){var p=u[i];i.charAt(0)!==this.attr_prefix?typeof p>"u"||p==null?a[a.length]="<"+i+" />":typeof p=="object"&&p.constructor===Array?a[a.length]=this.array_to_xml(i,p):typeof p=="object"?a[a.length]=this.hash_to_xml(i,p):a[a.length]=this.scalar_to_xml(i,p):l[l.length]=" "+i.substring(1)+'="'+this.xml_escape(p)+'"'}var d=l.join(""),v=a.join("");return typeof o>"u"||o==null||(a.length>0?v.match(/\n/)?v="<"+o+d+`>
`+v+"</"+o+`>
`:v="<"+o+d+">"+v+"</"+o+`>
`:v="<"+o+d+` />
`),v};kn.ObjTree.prototype.array_to_xml=function(o,u){for(var a=[],l=0;l<u.length;l++){var i=u[l];typeof i>"u"||i==null?a[a.length]="<"+o+" />":typeof i=="object"&&i.constructor===Array?a[a.length]=this.array_to_xml(o,i):typeof i=="object"?a[a.length]=this.hash_to_xml(o,i):a[a.length]=this.scalar_to_xml(o,i)}return a.join("")};kn.ObjTree.prototype.scalar_to_xml=function(o,u){return o==="#text"?this.xml_escape(u):"<"+o+">"+this.xml_escape(u)+"</"+o+`>
`};kn.ObjTree.prototype.xml_escape=function(o){return o.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var LL=function(o){return new kn.ObjTree().parseXML(o)};function G1(o){return Object.prototype.toString.call(o)}function u0(o){return"  ".repeat(o)}function cc(o){return G1(o)==="[object Object]"?Object.keys(o).reduce(function(u,a){var l=a;return a.charAt(0)==="-"&&(l=a.substring(1)),u[l]=cc(o[a]),u},{}):Array.isArray(o)?o.map(function(u){return cc(u)}):o}function BL(o){var u=o;try{typeof u!="string"&&(u=JSON.parse(o))}catch{u=JSON.stringify(cc(o)).replace(/"/g,"'")}return u}var s0=`	
`;function Ks(o,u,a){var l=u0(a),i="",p=s0+l;if(u==="-json")return"";if(u==="#text")return p+o;if(u==="#cdata-section")return p+"<![CDATA["+o+"]]>";if(u==="#comment")return p+"<!--"+o+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+BL(o)+'"';if(Array.isArray(o))i+=o.map(function(O){return Ks(O,u,a+1)}).join("");else if(G1(o)==="[object Object]"){var d=Object.keys(o),v="",g=o["-json"]?s0+u0(a+1)+o["-json"]:"";i+=(a===0?"":p)+"<"+u,d.forEach(function(O){O.charAt(0)==="-"?v+=Ks(o[O],O,a+1):g+=Ks(o[O],O,a+1)}),i+=v+(g!==""?">"+g+p+"</"+u+">":" />")}else i+=p+"<"+u+">"+o.toString()+"</"+u+">";return i}function zL(o){var u="";for(var a in o)u+=Ks(o[a],a,0);return u}var FL=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),xd=function(){return xd=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},xd.apply(this,arguments)},c0=function(o,u){var a={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&u.indexOf(l)<0&&(a[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(o);i<l.length;i++)u.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(o,l[i])&&(a[l[i]]=o[l[i]]);return a},lh=function(o){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&o[u],l=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Ji=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},Fi=function(){for(var o=[],u=0;u<arguments.length;u++)o=o.concat(Ji(arguments[u]));return o},Pn;(function(o){o.START="bpmn:startEvent",o.END="bpmn:endEvent",o.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",o.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",o.BOUNDARY="bpmn:boundaryEvent",o.PARALLEL_GATEWAY="bpmn:parallelGateway",o.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",o.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",o.USER="bpmn:userTask",o.SYSTEM="bpmn:serviceTask",o.FLOW="bpmn:sequenceFlow",o.SUBPROCESS="bpmn:subProcess"})(Pn||(Pn={}));var U1=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],GL=["properties","startPoint","endPoint","pointsList"],lc={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},$1=function(o,u){var a=Object.keys(u||{});return a.forEach(function(l){if(o[l]){var i=u[l],p=i.in,d=i.out;p&&(o[l].in=p),d&&(o[l].out=d)}else o[l]=u[l]}),o},ir={"bpmn:startEvent":{out:function(o){var u,a,l=o.properties;return((a=(u=ir[l.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,o))||{}}},"bpmn:intermediateCatchEvent":{out:function(o){var u,a,l=o.properties;return((a=(u=ir[l.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,o))||{}}},"bpmn:intermediateThrowEvent":{out:function(o){var u,a,l=o.properties;return((a=(u=ir[l.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,o))||{}}},"bpmn:boundaryEvent":{out:function(o){var u,a,l=o.properties;return((a=(u=ir[l.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,o))||{}}},"bpmn:sequenceFlow":{out:function(o){var u=o.properties,a=u.expressionType,l=u.condition;return l?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(o){var u=o.properties,a=u.timerType,l=u.timerValue,i=u.definitionId,p=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+i+'"'+(a&&l?">"+p()+"</bpmn:timerEventDefinition>":"/>")}},in:function(o,u){var a,l,i,p,d=o,v=u["-id"],g="",O="";try{for(var x=lh(Object.keys(u)),w=x.next();!w.done;w=x.next()){var A=w.value;A.includes("bpmn:")&&(i=Ji(A.split(":"),2),g=i[1],O=(p=u[A])===null||p===void 0?void 0:p["#text"])}}catch(j){a={error:j}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(a)throw a.error}}return{"-definitionId":v,"-definitionType":d,"-timerType":g,"-timerValue":O}}},"bpmn:conditionExpression":{in:function(o,u){var a,l="",i="";return u["#cdata-section"]?(i="cdata",l=((a=/^\$\{(.*)\}$/g.exec(u["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):u["#text"]&&(i="normal",l=u["#text"]),{"-condition":l,"-expressionType":i}}}};function UL(o){var u=o??{},a=u.retainedAttrsFields,l=u.excludeFields,i=u.transformer,p=new Set(Fi(GL,a||[])),d={in:new Set(Fi(lc.in,(l==null?void 0:l.in)||[])),out:new Set(Fi(lc.out,(l==null?void 0:l.out)||[]))};return ir=$1(ir,i),function(v){var g=v.nodes,O=v.edges;function x(w,A){var j,T,P;if((w==null?void 0:w.flag)!==1){var k;if((k=ir[w.type])&&k.out){var I=k.out(w),L=Object.keys(I);L.length>0&&L.forEach(function(B){w[B]=I[B]})}w!=null&&w.children&&(w.children=w.children.map(function(B){var G=g.find(function($){return $.id===B})||O.find(function($){return $.id===B});return G||{}}));var Y={};if(typeof w=="string")return w;if(Array.isArray(w))return w.map(function(B){return x(B,"")}).filter(function(B){return B!=null});try{for(var Q=lh(Object.entries(w)),X=Q.next();!X.done;X=Q.next()){var V=Ji(X.value,2),Z=V[0],F=V[1];if(((P=F)===null||P===void 0?void 0:P.flag)===1)return;var R=[A,Z].filter(function(B){return B}).join(".");d.out.has(R)||(typeof F!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?Y[Z]=F:Y["-"+Z]=F:p.has(R)?Y["-"+Z]=x(F,R):Y[Z]=x(F,R))}}catch(B){j={error:B}}finally{try{X&&!X.done&&(T=Q.return)&&T.call(Q)}finally{if(j)throw j.error}}return Y}}return x(v,"")}}function fc(o){var u,a,l={};try{for(var i=lh(Object.entries(o)),p=i.next();!p.done;p=i.next()){var d=Ji(p.value,2),v=d[0],g=d[1];v.indexOf("-")===0?l[v.substring(1)]=cc(g):typeof g=="string"?l[v]=g:Object.prototype.toString.call(g)==="[object Object]"?l[v]=fc(g):Array.isArray(g)?l[v]=g.map(function(O){return fc(O)}):l[v]=g}}catch(O){u={error:O}}finally{try{p&&!p.done&&(a=i.return)&&a.call(i)}finally{if(u)throw u.error}}return l}function $L(o,u,a){var l,i=new Map,p=UL(a)(u);p.nodes.forEach(function(v){var g=v["-id"],O=v["-type"],x=v.text,w=v.children,A=c0(v,["-id","-type","text","children"]),j={"-id":g};x!=null&&x["-value"]&&(j["-name"]=x["-value"]),A["-json"]&&(j["-json"]=A["-json"]),A["-properties"]&&Object.assign(j,A["-properties"]),w&&(j.children=w),o[O]||(o[O]=[]),o[O].push(j),i.set(g,j)});var d=p.edges.map(function(v){var g=v["-id"];v["-type"];var O=v["-sourceNodeId"],x=v["-targetNodeId"],w=v.text,A=c0(v,["-id","-type","-sourceNodeId","-targetNodeId","text"]),j=i.get(x);j["bpmn:incoming"]||(j["bpmn:incoming"]=[]),j["bpmn:incoming"].push(g);var T={"-id":g,"-sourceRef":O,"-targetRef":x};return w!=null&&w["-value"]&&(T["-name"]=w["-value"]),A["-json"]&&(T["-json"]=A["-json"]),A["-properties"]&&Object.assign(T,A["-properties"]),T});return u.edges.forEach(function(v){var g=v.sourceNodeId,O=v.id,x=i.get(g);x["bpmn:outgoing"]||(x["bpmn:outgoing"]=[]),x["bpmn:outgoing"].push(O)}),(l=o["bpmn:subProcess"])===null||l===void 0||l.forEach(function(v){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},O=[];v.children.forEach(function(P){var k,I=i.get(P["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(Y){I[Y]&&I[Y].forEach(function(Q){g[Y].add(Q)})});var L=(k=o[P["-type"]])===null||k===void 0?void 0:k.findIndex(function(Y){return Y["-id"]===P["-id"]});L>=0&&o[P["-type"]].splice(L,1),i.delete(P["-id"]),v[P["-type"]]||(v[P["-type"]]=[]),v[P["-type"]].push(I)});var x=g["bpmn:incoming"],w=g["bpmn:outgoing"];w.forEach(function(P){x.has(P)&&O.push(P)});for(var A=function(P){var k=d.findIndex(function(I){return I["-id"]===O[P]});k>=0?(v["bpmn:sequenceFlow"]||(v["bpmn:sequenceFlow"]=[]),v["bpmn:sequenceFlow"].push(d[k]),d.splice(k,1)):P++,j=P},j,T=0;T<O.length;)A(T),T=j;delete v.children}),o[Pn.FLOW]=d,o}function WL(o,u){o["bpmndi:BPMNEdge"]=u.edges.map(function(a){var l,i=a.id,p=a.pointsList.map(function(v){var g=v.x,O=v.y;return{"-x":g,"-y":O}}),d={"-id":i+"_di","-bpmnElement":i,"di:waypoint":p};return!((l=a.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),d}),o["bpmndi:BPMNShape"]=u.nodes.map(function(a){var l,i=a.id,p=100,d=80,v=a.x,g=a.y,O=Bn.shapeConfigMap.get(a.type);O&&(p=O.width,d=O.height),v-=p/2,g-=d/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":v,"-y":g,"-width":p,"-height":d}};return!((l=a.text)===null||l===void 0)&&l.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),x})}var HL=["bpmn:incoming","bpmn:outgoing"];function XL(o,u){var a=[],l=[],i=new Map,p=u??{},d=p.transformer,v=p.excludeFields,g={in:new Set(Fi(lc.in,(v==null?void 0:v.in)||[])),out:new Set(Fi(lc.out,(v==null?void 0:v.out)||[]))};ir=$1(ir,d);var O=o["bpmn:definitions"];if(O){var x=O["bpmn:process"];(function(A,j){j.forEach(function(T){try{Object.keys(A).forEach(function(P){try{T(P)}catch(k){console.error(k)}})}catch(P){console.error(P)}})})(x,[function(A){function j(P){P["-children"]||(P["-children"]=[]),Object.keys(P).forEach(function(k){var I;k.indexOf("bpmn:")===0&&!HL.includes(k)&&(x[k]||(x[k]=[]),!Array.isArray(x[k])&&(x[k]=[x[k]]),Array.isArray(P[k])?(I=x[k]).push.apply(I,Fi(P[k])):x[k].push(P[k]),Array.isArray(P[k])?P[k].forEach(function(L){!k.includes("Flow")&&P["-children"].push(L["-id"])}):!k.includes("Flow")&&P["-children"].push(P[k]["-id"]),delete P[k])})}if(A==="bpmn:subProcess"){var T=x[A];Array.isArray(T)?T.forEach(function(P){A==="bpmn:subProcess"&&j(P)}):j(T)}},function(A){var j=function(P){Object.keys(P).forEach(function(k){var I,L;if(k.includes("bpmn:")){var Y={};ir[k]&&ir[k].in?(Y=(L=(I=ir[k]).in)===null||L===void 0?void 0:L.call(I,k,C.cloneDeep(P[k])),delete P[k]):T(P[k]);var Q=void 0;(Q=Reflect.ownKeys(Y)).length>0&&Q.forEach(function(X){Reflect.set(P,X,Y[X])})}})};function T(P){i.set(P["-id"],P),Array.isArray(P)?P.forEach(function(k){T(k)}):typeof P=="object"&&j(P)}T(x[A])},function(A){if(A.indexOf("bpmn:")===0){var j=x[A];if(A==="bpmn:sequenceFlow"){var T=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=VL(j,T)}else{var P=O["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(A==="bpmn:boundaryEvent"){var k=x[A],I=function(L){var Y=L["-attachedToRef"],Q=i.get(Y);Q["-boundaryEvents"]||(Q["-boundaryEvents"]=[]),Q["-boundaryEvents"].push(L["-id"])};Array.isArray(k)?k.forEach(function(L){I(L)}):I(k)}a=a.concat(YL(j,P,A))}}}])}var w=function(A,j,T){Object.keys(A).forEach(function(P){var k=T?T+"."+P:P;j.has(k)?delete A[P]:typeof A[P]=="object"&&w(A[P],j,k)})};return a.forEach(function(A){var j,T;if(!((j=u==null?void 0:u.mapping)===null||j===void 0)&&j.in){var P=(T=u==null?void 0:u.mapping)===null||T===void 0?void 0:T.in,k=A.type;P[k]&&(A.type=P[k])}w(A,g.in,"")}),l.forEach(function(A){var j,T;if(!((j=u==null?void 0:u.mapping)===null||j===void 0)&&j.in){var P=(T=u==null?void 0:u.mapping)===null||T===void 0?void 0:T.in,k=A.type;P[k]&&(A.type=P[k])}w(A,g.in,"")}),{nodes:a,edges:l}}function YL(o,u,a){var l=[];if(Array.isArray(o))o.forEach(function(d){var v;Array.isArray(u)?v=u.find(function(O){return O["-bpmnElement"]===d["-id"]}):v=u;var g=l0(v,a,d);l.push(g)});else{var i=void 0;Array.isArray(u)?i=u.find(function(d){return d["-bpmnElement"]===o["-id"]}):i=u;var p=l0(i,a,o);l.push(p)}return l}function l0(o,u,a){var l=Number(o["dc:Bounds"]["-x"]),i=Number(o["dc:Bounds"]["-y"]),p=a["-children"],d=a["-name"],v=Bn.shapeConfigMap.get(u);v&&(l+=v.width/2,i+=v.height/2);var g={};Object.entries(a).forEach(function(A){var j=Ji(A,2),T=j[0],P=j[1];U1.includes(T)||(g[T]=P)}),g=fc(g);var O;if(d&&(O={x:l,y:i,value:d},o["bpmndi:BPMNLabel"]&&o["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=o["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(x["-x"])+Number(x["-width"])/2,O.y=Number(x["-y"])+Number(x["-height"])/2}var w={id:o["-bpmnElement"],type:u,x:l,y:i,properties:g};return p&&(w.children=p),O&&(w.text=O),w}function VL(o,u){var a=[];if(Array.isArray(o))o.forEach(function(i){var p;Array.isArray(u)?p=u.find(function(d){return d["-bpmnElement"]===i["-id"]}):p=u,a.push(f0(p,i))});else{var l=void 0;Array.isArray(u)?l=u.find(function(i){return i["-bpmnElement"]===o["-id"]}):l=u,a.push(f0(l,o))}return a}function f0(o,u){var a,l=u["-name"];if(l){var i=o["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;l.split(`
`).forEach(function(O){p<O.length&&(p=O.length)}),a={value:l,x:Number(i["-x"])+p*10/2,y:Number(i["-y"])+7}}var d={};Object.entries(u).forEach(function(O){var x=Ji(O,2),w=x[0],A=x[1];U1.includes(w)||(d[w]=A)}),d=fc(d);var v=o["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),g={id:u["-id"],type:Pn.FLOW,pointsList:v,sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:d};return a&&(g.text=a),g}var Bn=function(){function o(u){var a=this,l=u.lf;this.adapterOut=function(i,p){var d,v,g=xd({},a.processAttributes);$L(g,i,p);var O={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};WL(O,i);var x=a.definitionAttributes;x["bpmn:process"]=g,x["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var w={"bpmn:definitions":x};if(!((d=p==null?void 0:p.mapping)===null||d===void 0)&&d.out){var A=(v=p==null?void 0:p.mapping)===null||v===void 0?void 0:v.out,j=function(T){Array.isArray(T)&&T.forEach(function(P){return j(P)}),typeof T=="object"&&Object.keys(T).forEach(function(P){var k;(k=A[P])?(T[k]=C.cloneDeep(T[P]),delete T[P],j(T[k])):j(T[P])})};j(w)}return w},this.adapterIn=function(i,p){if(i)return XL(i,p)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return o.prototype.setCustomShape=function(u,a){o.shapeConfigMap.set(u,a)},o.pluginName="bpmn-adapter",o.shapeConfigMap=new Map,o}();Bn.shapeConfigMap.set(Pn.START,{width:Jb.width,height:Jb.height});Bn.shapeConfigMap.set(Pn.END,{width:Qb.width,height:Qb.height});Bn.shapeConfigMap.set(Pn.INTERMEDIATE_CATCH,{width:sc.width,height:sc.height});Bn.shapeConfigMap.set(Pn.INTERMEDIATE_THROW,{width:sc.width,height:sc.height});Bn.shapeConfigMap.set(Pn.BOUNDARY,{width:e0.width,height:e0.height});Bn.shapeConfigMap.set(Pn.PARALLEL_GATEWAY,{width:t0.width,height:t0.height});Bn.shapeConfigMap.set(Pn.INCLUSIVE_GATEWAY,{width:n0.width,height:n0.height});Bn.shapeConfigMap.set(Pn.EXCLUSIVE_GATEWAY,{width:r0.width,height:r0.height});Bn.shapeConfigMap.set(Pn.SYSTEM,{width:o0.width,height:o0.height});Bn.shapeConfigMap.set(Pn.USER,{width:i0.width,height:i0.height});Bn.shapeConfigMap.set(Pn.SUBPROCESS,{width:a0.width,height:a0.height});(function(o){FL(u,o);function u(a){var l=o.call(this,a)||this;l.adapterXmlIn=function(d){var v=LL(d);return l.adapterIn(v,l.props)},l.adapterXmlOut=function(d){var v=l.adapterOut(d,l.props);return zL(v)};var i=a.lf,p=a.props;return i.adapterIn=l.adapterXmlIn,i.adapterOut=l.adapterXmlOut,l.props=p,l}return u.pluginName="BPMNAdapter",u})(Bn);var KL=function(){function o(u){var a=this,l=u.lf;this.lf=l,this.customCssRules="",this.useGlobalRules=!0,l.getSnapshot=function(i,p){a.getSnapshot(i,p)},l.getSnapshotBlob=function(i){return a.getSnapshotBlob(i)},l.getSnapshotBase64=function(i){return a.getSnapshotBase64(i)}}return o.prototype.getSvgRootElement=function(u){var a=u.container.querySelector(".lf-canvas-overlay");return a},o.prototype.triggerDownload=function(u){var a=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),l=document.createElement("a");l.setAttribute("download",this.fileName),l.setAttribute("href",u),l.setAttribute("target","_blank"),l.dispatchEvent(a)},o.prototype.removeAnchor=function(u){for(var a=u.childNodes,l=u.childNodes&&u.childNodes.length,i=0;i<l;i++){var p=a[i],d=p.classList&&Array.from(p.classList)||[];d.indexOf("lf-anchor")>-1&&(u.removeChild(u.childNodes[i]),l--,i--)}},o.prototype.getSnapshot=function(u,a){var l=this;this.fileName=u||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,a).then(function(p){var d=p.toDataURL("image/png").replace("image/png","image/octet-stream");l.triggerDownload(d)})},o.prototype.getSnapshotBase64=function(u){var a=this,l=this.getSvgRootElement(this.lf);return new Promise(function(i){a.getCanvasData(l,u).then(function(p){var d=p.toDataURL("image/png");i({data:d,width:p.width,height:p.height})})})},o.prototype.getSnapshotBlob=function(u){var a=this,l=this.getSvgRootElement(this.lf);return new Promise(function(i){a.getCanvasData(l,u).then(function(p){p.toBlob(function(d){i({data:d,width:p.width,height:p.height})},"image/png")})})},o.prototype.getClassRules=function(){var u="";if(this.useGlobalRules)for(var a=document.styleSheets,l=0;l<a.length;l++)for(var i=a[l],p=0;p<i.cssRules.length;p++)u+=i.cssRules[p].cssText;return this.customCssRules&&(u+=this.customCssRules),u},o.prototype.getCanvasData=function(u,a){var l=this,i=u.cloneNode(!0),p=i.lastChild,d=p.childNodes&&p.childNodes.length;if(d)for(var v=0;v<d;v++){var g=p.childNodes[v],O=g.classList&&Array.from(g.classList);if(O&&O.indexOf("lf-base")<0)p.removeChild(p.childNodes[v]),d--,v--;else{var x=p.childNodes[v];x&&x.childNodes.forEach(function(pe){var le=pe;l.removeAnchor(le.firstChild)})}}var w=window.devicePixelRatio||1;w<1&&(w=1);var A=document.createElement("canvas"),j=this.lf.graphModel.rootEl.querySelector(".lf-base"),T=j.getBoundingClientRect(),P=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),k=T.x-P.x,I=T.y-P.y,L=this.lf.graphModel,Y=L.transformModel,Q=Y.SCALE_X,X=Y.SCALE_Y,V=Y.TRANSLATE_X,Z=Y.TRANSLATE_Y;i.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-k+V)*(1/Q)+10)+", "+((-I+Z)*(1/X)+10)+")";var F=Math.ceil(T.width/Q),R=Math.ceil(T.height/X);A.style.width=F+"px",A.style.height=R+"px",A.width=F*w+80,A.height=R*w+80;var B=A.getContext("2d");B.clearRect(0,0,A.width,A.height),B.scale(w,w),a?(B.fillStyle=a,B.fillRect(0,0,F*w+80,R*w+80)):B.clearRect(0,0,F,R);var G=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var te=document.createElement("foreignObject");return te.appendChild($),i.appendChild(te),new Promise(function(pe){G.onload=function(){var Ee=navigator.userAgent.indexOf("Firefox")>-1;try{Ee?createImageBitmap(G,{resizeWidth:A.width,resizeHeight:A.height}).then(function(ge){B.drawImage(ge,0,0),pe(A)}):(B.drawImage(G,0,0),pe(A))}catch{B.drawImage(G,0,0),pe(A)}};var le="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),ve=le.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");G.src=ve})},o.pluginName="snapshot",o}();var p0;(function(o){o.HORIZONTAL="horizontal",o.VERTICAL="vertical"})(p0||(p0={}));var qL=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},ZL=function(){for(var o=[],u=0;u<arguments.length;u++)o=o.concat(qL(arguments[u]));return o},JL=function(){function o(u){var a=this,l=u.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){a.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){a.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){a.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){a.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){a.lf.redo()}}],this.lf=l}return o.prototype.render=function(u,a){this.destroy();var l=this.getControlTool();this.toolEl=l,a.appendChild(l),this.domContainer=a},o.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},o.prototype.addItem=function(u){this.controlItems.push(u)},o.prototype.removeItem=function(u){var a=this.controlItems.findIndex(function(l){return l.key===u});return a==-1?null:this.controlItems.splice(a,1)[0]},o.prototype.getControlTool=function(){var u=this,a="lf-control-item",l="lf-control-item disabled",i=document.createElement("div"),p=[];return i.className="lf-control",this.controlItems.forEach(function(d){var v=document.createElement("div"),g=document.createElement("i"),O=document.createElement("span");switch(v.className=l,d.onClick&&(v.onclick=d.onClick.bind(null,u.lf)),d.onMouseEnter&&(v.onmouseenter=d.onMouseEnter.bind(null,u.lf)),d.onMouseLeave&&(v.onmouseleave=d.onMouseLeave.bind(null,u.lf)),g.className=d.iconClass,O.className="lf-control-text",O.title=d.title,O.innerText=d.text,v.append(g,O),d.text){case"上一步":u.lf.on("history:change",function(x){var w=x.data.undoAble;v.className=w?a:l});break;case"下一步":u.lf.on("history:change",function(x){var w=x.data.redoAble;v.className=w?a:l});break;default:v.className=a;break}p.push(v)}),i.append.apply(i,ZL(p)),i},o.pluginName="control",o}(),QL=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p},e4=function(){for(var o=[],u=0;u<arguments.length;u++)o=o.concat(QL(arguments[u]));return o},Ra="lf:defaultNodeMenu",Ia="lf:defaultEdgeMenu",La="lf:defaultGraphMenu",d0="lf:defaultSelectionMenu",t4=function(){function o(u){var a=this,l=u.lf;this.__menuDOM=document.createElement("ul"),this.lf=l,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){a.setMenuConfig(i)},this.lf.addMenuConfig=function(i){a.addMenuConfig(i)},this.lf.setMenuByType=function(i){a.setMenuByType(i)}}return o.prototype.init=function(){var u=this,a=[{text:"删除",callback:function(p){u.lf.deleteNode(p.id)}},{text:"编辑文本",callback:function(p){u.lf.graphModel.editText(p.id)}},{text:"复制",callback:function(p){u.lf.cloneNode(p.id)}}];this.menuTypeMap.set(Ra,a);var l=[{text:"删除",callback:function(p){u.lf.deleteEdge(p.id)}},{text:"编辑文本",callback:function(p){u.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(Ia,l),this.menuTypeMap.set(La,[]);var i=[{text:"删除",callback:function(p){u.lf.clearSelectElements(),p.edges.forEach(function(d){return u.lf.deleteEdge(d.id)}),p.nodes.forEach(function(d){return u.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(d0,i)},o.prototype.render=function(u,a){var l=this;this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var p=i.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(i){var p=i.data,d=i.position,v=i.e,g=d.domOverlayPosition,O=g.x,x=g.y,w=p.id,A=l.lf.graphModel.getNodeModelById(w),j=[],T=l.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?j=A.menu:T?j=T:j=l.menuTypeMap.get(Ra),l.__currentData=p,l.showMenu(O,x,j,{width:A.width,height:A.height,clientX:v.clientX,clientY:v.clientY})}),this.lf.on("edge:contextmenu",function(i){var p=i.data,d=i.position,v=i.e,g=d.domOverlayPosition,O=g.x,x=g.y,w=p.id,A=l.lf.graphModel.getEdgeModelById(w),j=[],T=l.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?j=A.menu:T?j=T:j=l.menuTypeMap.get(Ia),l.__currentData=p,l.showMenu(O,x,j,{width:A.width,height:A.height,clientX:v.clientX,clientY:v.clientY})}),this.lf.on("blank:contextmenu",function(i){var p=i.position,d=l.menuTypeMap.get(La),v=p.domOverlayPosition,g=v.x,O=v.y;l.showMenu(g,O,d)}),this.lf.on("selection:contextmenu",function(i){var p=i.data,d=i.position,v=l.menuTypeMap.get(d0),g=d.domOverlayPosition,O=g.x,x=g.y;l.__currentData=p,l.showMenu(O,x,v)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"})},o.prototype.destroy=function(){var u;(u=this===null||this===void 0?void 0:this.__container)===null||u===void 0||u.removeChild(this.__menuDOM),this.__menuDOM=null},o.prototype.showMenu=function(u,a,l,i){if(!(!l||!l.length)){var p=this.__menuDOM;if(p.innerHTML="",p.append.apply(p,e4(this.__getMenuDom(l))),!!p.children.length){if(p.style.display="block",!i){p.style.top=a+"px",p.style.left=u+"px";return}var d=i.width,v=i.height,g=i.clientX,O=i.clientY,x=this.lf.graphModel,w=p.offsetWidth,A=!0,j=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,T=j-g,P=x.rootEl.getBoundingClientRect(),k=P.left+P.width;k<j&&(T=k-g),T<w&&(A=!1),A?p.style.left=u+"px":p.style.left=u-d+"px";var I=p.offsetHeight,L=!0,Y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,Q=Y-O,X=P.top+P.height;X<Y&&(Q=X-O),Q<I&&(L=!1),L?p.style.top=a+"px":p.style.top=a-v+"px"}}},o.prototype.setMenuByType=function(u){!u.type||!u.menu||this.menuTypeMap.set(u.type,u.menu)},o.prototype.__getMenuDom=function(u){var a=[];return u&&u.length>0&&u.forEach(function(l){var i=document.createElement("li");if(l.className?i.className="lf-menu-item "+l.className:i.className="lf-menu-item",l.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",i.appendChild(p)}var d=document.createElement("span");d.className="lf-menu-item-text",l.text&&(d.innerText=l.text),i.appendChild(d),i.onclickCallback=l.callback,a.push(i)}),a},o.prototype.setMenuConfig=function(u){u&&(u.nodeMenu!==void 0&&this.menuTypeMap.set(Ra,u.nodeMenu?u.nodeMenu:[]),u.edgeMenu!==void 0&&this.menuTypeMap.set(Ia,u.edgeMenu?u.edgeMenu:[]),u.graphMenu!==void 0&&this.menuTypeMap.set(La,u.graphMenu?u.graphMenu:[]))},o.prototype.addMenuConfig=function(u){if(u){if(Array.isArray(u.nodeMenu)){var a=this.menuTypeMap.get(Ra);this.menuTypeMap.set(Ra,a.concat(u.nodeMenu))}if(Array.isArray(u.edgeMenu)){var a=this.menuTypeMap.get(Ia);this.menuTypeMap.set(Ia,a.concat(u.edgeMenu))}if(Array.isArray(u.graphMenu)){var a=this.menuTypeMap.get(La);this.menuTypeMap.set(La,a.concat(u.graphMenu))}}},o.prototype.changeMenuItem=function(u,a){if(u==="add")this.addMenuConfig(a);else if(u==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},o.pluginName="menu",o}(),n4=function(){function o(u){var a=this,l=u.lf;this.lf=l,this.lf.setPatternItems=function(i){a.setPatternItems(i)}}return o.prototype.render=function(u,a){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=a;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){l.panelEl.appendChild(l.createDndItem(i))}),a.appendChild(this.panelEl),this.domContainer=a},o.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},o.prototype.setPatternItems=function(u){this.shapeList=u,this.domContainer&&this.render(this.lf,this.domContainer)},o.prototype.createDndItem=function(u){var a=this,l=document.createElement("div");l.className=u.className?"lf-dnd-item "+u.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",u.icon&&(i.style.backgroundImage="url("+u.icon+")"),l.appendChild(i),u.label){var p=document.createElement("div");p.innerText=u.label,p.className="lf-dnd-text",l.appendChild(p)}return l.onmousedown=function(){u.type&&a.lf.dnd.startDrag({type:u.type,properties:u.properties,text:u.text}),u.callback&&u.callback(a.lf,a.domContainer)},l.ondblclick=function(d){a.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:d,data:u})},l.onclick=function(d){a.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:d,data:u})},l.oncontextmenu=function(d){a.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:d,data:u})},l},o.pluginName="dndPanel",o}(),r4=function(){function o(u){var a=this,l=u.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(p){var d=a.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,v=d.x,g=d.y;a.endPoint={x:v,y:g};var O=a.startPoint,x=O.x,w=O.y,A=a.wrapper.style,j=x,T=w,P=v-x,k=g-w;v<x&&(j=v,P=x-v),g<w&&(T=g,k=w-g),A.left=j+"px",A.top=T+"px",A.width=P+"px",A.height=k+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",a.__draw),document.removeEventListener("mouseup",a.__drawOff),a.wrapper.oncontextmenu=null,a.__domContainer.removeChild(a.wrapper);var p=a.startPoint,d=p.x,v=p.y,g=a.endPoint,O=g.x,x=g.y;if(!(Math.abs(O-d)<10&&Math.abs(x-v)<10)){var w=[Math.min(d,O),Math.min(v,x)],A=[Math.max(d,O),Math.max(v,x)],j=a.lf.graphModel.getAreaElement(w,A,a.isWholeEdge,a.isWholeNode,!0),T=a.lf.graphModel.group;j.forEach(function(P){(!T||!T.getNodeGroup(P.id))&&a.lf.selectElementById(P.id,!0)}),a.lf.emit("selection:selected",j)}},this.lf=l;var i=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,l.openSelectionSelect=function(){a.openSelectionSelect()},l.closeSelectionSelect=function(){a.closeSelectionSelect()}}return o.prototype.render=function(u,a){var l=this;this.__domContainer=a,u.on("blank:mousedown",function(i){var p=i.e,d=u.getEditConfig();if(!(!d.stopMoveGraph||l.__disabled)){var v=p.button===2;if(!v){var g=u.getPointByClient(p.clientX,p.clientY).domOverlayPosition,O=g.x,x=g.y;l.startPoint={x:O,y:x},l.endPoint={x:O,y:x};var w=document.createElement("div");w.className="lf-selection-select",w.oncontextmenu=function(j){j.preventDefault()},w.style.top=l.startPoint.y+"px",w.style.left=l.startPoint.x+"px",a.appendChild(w),l.wrapper=w,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},o.prototype.setSelectionSense=function(u,a){u===void 0&&(u=!0),a===void 0&&(a=!0),this.isWholeEdge=u,this.isWholeNode=a},o.prototype.openSelectionSelect=function(){var u=this.lf.getEditConfig().stopMoveGraph;u||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},o.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},o.prototype.open=function(){this.__disabled=!1},o.prototype.close=function(){this.__disabled=!0},o.pluginName="selectionSelect",o}();function o4(o){if(o.length<=1)return!1;for(var u=0,a=o.length-1;u!==a&&u+1!==a&&a-1!==u;)u++,a--;return u===a?[--u,a]:[u,a]}var W1=function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var p in i)i.hasOwnProperty(p)&&(l[p]=i[p])},o(u,a)};return function(u,a){o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),Li=function(){return Li=Object.assign||function(o){for(var u,a=1,l=arguments.length;a<l;a++){u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o[i]=u[i])}return o},Li.apply(this,arguments)},io=function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),i,p=[],d;try{for(;(u===void 0||u-- >0)&&!(i=l.next()).done;)p.push(i.value)}catch(v){d={error:v}}finally{try{i&&!i.done&&(a=l.return)&&a.call(l)}finally{if(d)throw d.error}}return p};(function(o){W1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.pointFilter=function(a){for(var l=a,i=1;i<l.length-1;){var p=io(l[i-1],2),d=p[0],v=p[1],g=io(l[i],2),O=g[0],x=g[1],w=io(l[i+1],2),A=w[0],j=w[1];d===O&&O===A||v===x&&x===j?l.splice(i,1):i++}return l},u.prototype.getEdge=function(){var a=this.props.model,l=a.points,i=a.isAnimation,p=a.arrowConfig,d=a.radius,v=d===void 0?5:d,g=a.getEdgeStyle(),O=a.getEdgeAnimationStyle(),x=this.pointFilter(l.split(" ").map(function(Pe){return Pe.split(",").map(function(Re){return Number(Re)})})),w=o4(x);if(w){var A=io(w,2),j=A[0],T=A[1],P=x[j],k=x[T],I=P.some(function(Pe,Re){return Pe===k[Re]});if(!I){var L=(k[1]-P[1])/2,Y=[k[0],k[1]-L],Q=[P[0],P[1]+L];x.splice(j+1,0,Q,Y)}}for(var X=io(x[0],2),V=X[0],Z=X[1],F="M"+V+" "+Z,R=1;R<x.length-1;R++){var B=io(x[R-1],2),G=B[0],$=B[1],te=io(x[R],2),pe=te[0],le=te[1],ve=io(x[R+1],2),Ee=ve[0],ge=ve[1];if(pe===G&&le!==$){var se=le>$?le-v:le+v;F=F+" L "+pe+" "+se}if(le===$&&pe!==G){var ye=pe>G?pe-v:pe+v;F=F+" L "+ye+" "+le}if(F=F+" Q "+pe+" "+le,pe===Ee&&le!==ge){var se=le>ge?le-v:le+v;F=F+" "+pe+" "+se}if(le===ge&&pe!==Ee){var ye=pe>Ee?pe-v:pe+v;F=F+" "+ye+" "+le}}var be=io(x[x.length-1],2),je=be[0],Be=be[1];F=F+" L "+je+" "+Be;var Ze=Li(Li(Li({d:F,style:i?O:{}},g),p),{fill:"none"});return Le.h("path",Li({d:F},Ze))},u})(Le.PolylineEdge);(function(o){W1(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u})(Le.PolylineEdgeModel);class i4 extends Pc.view{}class a4 extends Pc.model{}const u4={type:"scaleable-rect",model:a4,view:i4},s4=o=>{o.extension.dndPanel.setPatternItems([{label:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{o.extension.selectionSelect.openSelectionSelect(),o.once("selection:selected",()=>{o.extension.selectionSelect.closeSelectionSelect()})}},{type:"circle",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"scaleable-rect",label:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"import_icon"},{type:"diamond",label:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",label:"结束节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}])},c4=o=>{o.extension.control.addItem({iconClass:"show-data",title:"查看数据",text:"数据",onClick:u=>{const{eventCenter:a}=u.graphModel;a.emit("custom:show-graphdata",u)}})};qi.use(n4);qi.use(JL);qi.use(r4);qi.use(t4);qi.use(KL);const l4=C0({name:"LogicFlow",props:{modelValue:{type:Object,default:()=>({})},width:{type:String,default:"100%"},height:{type:String,default:"80vh"}},emits:["update:modelValue","node:click","selection:selected"],setup(o,{emit:u}){const{modelValue:a}=jA(o),l=AA({get(){return a.value},set(O){u("update:modelValue",O)}}),i=Ws(),p=Ws(),d=Ws(),v=()=>{i.value&&(p.value=new qi({container:i.value,grid:!0,stopMoveGraph:!0,keyboard:{enabled:!0}}),s4(p.value),c4(p.value),p.value.register(u4),p.value.render(l.value),p.value.on("node:click",O=>{d.value=O,u("node:click",O)}),p.value.on("selection:selected",O=>{u("selection:selected",O)}),p.value.on("history:change",()=>{var O;l.value=(O=p.value)==null?void 0:O.getGraphData()}))},g=()=>{var O;(O=i.value)==null||O.addEventListener("keypress",x=>{console.log(x)})};return PA(l,O=>{var x;(x=p.value)==null||x.render(O)}),MA(()=>{v(),g()}),{logicflowContainer:i,lf:p,graphData:l,activeNodeData:d}}});function f4(o,u,a,l,i,p){return L0(),I0("div",{class:"logic-flow-container",ref:"logicflowContainer",style:TA([{width:o.width,height:o.height}])},null,4)}const H1=R0(l4,[["render",f4]]),p4=C0({name:"FlowDemo",components:{LogicFlow:H1},setup(){return{flowGraphData:Ws({})}}});function d4(o,u,a,l,i,p){const d=H1;return L0(),I0("div",null,[kA(d,{modelValue:o.flowGraphData,"onUpdate:modelValue":u[0]||(u[0]=v=>o.flowGraphData=v)},null,8,["modelValue"])])}const y4=R0(p4,[["render",d4]]);export{y4 as default};
